function sp(e,t){for(var i=0;i<t.length;i++){const o=t[i];if(typeof o!="string"&&!Array.isArray(o)){for(const c in o)if(c!=="default"&&!(c in e)){const d=Object.getOwnPropertyDescriptor(o,c);d&&Object.defineProperty(e,c,d.get?d:{enumerable:!0,get:()=>o[c]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))o(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const g of d.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&o(g)}).observe(document,{childList:!0,subtree:!0});function i(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function o(c){if(c.ep)return;c.ep=!0;const d=i(c);fetch(c.href,d)}})();var bs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Af={exports:{}},Xa={},Sf={exports:{}},Ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wo=Symbol.for("react.element"),op=Symbol.for("react.portal"),ap=Symbol.for("react.fragment"),lp=Symbol.for("react.strict_mode"),cp=Symbol.for("react.profiler"),up=Symbol.for("react.provider"),dp=Symbol.for("react.context"),fp=Symbol.for("react.forward_ref"),hp=Symbol.for("react.suspense"),gp=Symbol.for("react.memo"),pp=Symbol.for("react.lazy"),Ld=Symbol.iterator;function mp(e){return e===null||typeof e!="object"?null:(e=Ld&&e[Ld]||e["@@iterator"],typeof e=="function"?e:null)}var If={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Nf=Object.assign,Tf={};function ds(e,t,i){this.props=e,this.context=t,this.refs=Tf,this.updater=i||If}ds.prototype.isReactComponent={};ds.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ds.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function bf(){}bf.prototype=ds.prototype;function cu(e,t,i){this.props=e,this.context=t,this.refs=Tf,this.updater=i||If}var uu=cu.prototype=new bf;uu.constructor=cu;Nf(uu,ds.prototype);uu.isPureReactComponent=!0;var Pd=Array.isArray,_f=Object.prototype.hasOwnProperty,du={current:null},Mf={key:!0,ref:!0,__self:!0,__source:!0};function Rf(e,t,i){var o,c={},d=null,g=null;if(t!=null)for(o in t.ref!==void 0&&(g=t.ref),t.key!==void 0&&(d=""+t.key),t)_f.call(t,o)&&!Mf.hasOwnProperty(o)&&(c[o]=t[o]);var x=arguments.length-2;if(x===1)c.children=i;else if(1<x){for(var w=Array(x),m=0;m<x;m++)w[m]=arguments[m+2];c.children=w}if(e&&e.defaultProps)for(o in x=e.defaultProps,x)c[o]===void 0&&(c[o]=x[o]);return{$$typeof:wo,type:e,key:d,ref:g,props:c,_owner:du.current}}function xp(e,t){return{$$typeof:wo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function fu(e){return typeof e=="object"&&e!==null&&e.$$typeof===wo}function wp(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(i){return t[i]})}var Bd=/\/+/g;function Rl(e,t){return typeof e=="object"&&e!==null&&e.key!=null?wp(""+e.key):t.toString(36)}function sa(e,t,i,o,c){var d=typeof e;(d==="undefined"||d==="boolean")&&(e=null);var g=!1;if(e===null)g=!0;else switch(d){case"string":case"number":g=!0;break;case"object":switch(e.$$typeof){case wo:case op:g=!0}}if(g)return g=e,c=c(g),e=o===""?"."+Rl(g,0):o,Pd(c)?(i="",e!=null&&(i=e.replace(Bd,"$&/")+"/"),sa(c,t,i,"",function(m){return m})):c!=null&&(fu(c)&&(c=xp(c,i+(!c.key||g&&g.key===c.key?"":(""+c.key).replace(Bd,"$&/")+"/")+e)),t.push(c)),1;if(g=0,o=o===""?".":o+":",Pd(e))for(var x=0;x<e.length;x++){d=e[x];var w=o+Rl(d,x);g+=sa(d,t,i,w,c)}else if(w=mp(e),typeof w=="function")for(e=w.call(e),x=0;!(d=e.next()).done;)d=d.value,w=o+Rl(d,x++),g+=sa(d,t,i,w,c);else if(d==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return g}function Uo(e,t,i){if(e==null)return e;var o=[],c=0;return sa(e,o,"","",function(d){return t.call(i,d,c++)}),o}function yp(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(i){(e._status===0||e._status===-1)&&(e._status=1,e._result=i)},function(i){(e._status===0||e._status===-1)&&(e._status=2,e._result=i)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Xt={current:null},oa={transition:null},Cp={ReactCurrentDispatcher:Xt,ReactCurrentBatchConfig:oa,ReactCurrentOwner:du};function Of(){throw Error("act(...) is not supported in production builds of React.")}Ae.Children={map:Uo,forEach:function(e,t,i){Uo(e,function(){t.apply(this,arguments)},i)},count:function(e){var t=0;return Uo(e,function(){t++}),t},toArray:function(e){return Uo(e,function(t){return t})||[]},only:function(e){if(!fu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ae.Component=ds;Ae.Fragment=ap;Ae.Profiler=cp;Ae.PureComponent=cu;Ae.StrictMode=lp;Ae.Suspense=hp;Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Cp;Ae.act=Of;Ae.cloneElement=function(e,t,i){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=Nf({},e.props),c=e.key,d=e.ref,g=e._owner;if(t!=null){if(t.ref!==void 0&&(d=t.ref,g=du.current),t.key!==void 0&&(c=""+t.key),e.type&&e.type.defaultProps)var x=e.type.defaultProps;for(w in t)_f.call(t,w)&&!Mf.hasOwnProperty(w)&&(o[w]=t[w]===void 0&&x!==void 0?x[w]:t[w])}var w=arguments.length-2;if(w===1)o.children=i;else if(1<w){x=Array(w);for(var m=0;m<w;m++)x[m]=arguments[m+2];o.children=x}return{$$typeof:wo,type:e.type,key:c,ref:d,props:o,_owner:g}};Ae.createContext=function(e){return e={$$typeof:dp,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:up,_context:e},e.Consumer=e};Ae.createElement=Rf;Ae.createFactory=function(e){var t=Rf.bind(null,e);return t.type=e,t};Ae.createRef=function(){return{current:null}};Ae.forwardRef=function(e){return{$$typeof:fp,render:e}};Ae.isValidElement=fu;Ae.lazy=function(e){return{$$typeof:pp,_payload:{_status:-1,_result:e},_init:yp}};Ae.memo=function(e,t){return{$$typeof:gp,type:e,compare:t===void 0?null:t}};Ae.startTransition=function(e){var t=oa.transition;oa.transition={};try{e()}finally{oa.transition=t}};Ae.unstable_act=Of;Ae.useCallback=function(e,t){return Xt.current.useCallback(e,t)};Ae.useContext=function(e){return Xt.current.useContext(e)};Ae.useDebugValue=function(){};Ae.useDeferredValue=function(e){return Xt.current.useDeferredValue(e)};Ae.useEffect=function(e,t){return Xt.current.useEffect(e,t)};Ae.useId=function(){return Xt.current.useId()};Ae.useImperativeHandle=function(e,t,i){return Xt.current.useImperativeHandle(e,t,i)};Ae.useInsertionEffect=function(e,t){return Xt.current.useInsertionEffect(e,t)};Ae.useLayoutEffect=function(e,t){return Xt.current.useLayoutEffect(e,t)};Ae.useMemo=function(e,t){return Xt.current.useMemo(e,t)};Ae.useReducer=function(e,t,i){return Xt.current.useReducer(e,t,i)};Ae.useRef=function(e){return Xt.current.useRef(e)};Ae.useState=function(e){return Xt.current.useState(e)};Ae.useSyncExternalStore=function(e,t,i){return Xt.current.useSyncExternalStore(e,t,i)};Ae.useTransition=function(){return Xt.current.useTransition()};Ae.version="18.3.1";Sf.exports=Ae;var L=Sf.exports;const Ep=vf(L);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vp=L,Ap=Symbol.for("react.element"),Sp=Symbol.for("react.fragment"),Ip=Object.prototype.hasOwnProperty,Np=vp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Tp={key:!0,ref:!0,__self:!0,__source:!0};function Df(e,t,i){var o,c={},d=null,g=null;i!==void 0&&(d=""+i),t.key!==void 0&&(d=""+t.key),t.ref!==void 0&&(g=t.ref);for(o in t)Ip.call(t,o)&&!Tp.hasOwnProperty(o)&&(c[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps,t)c[o]===void 0&&(c[o]=t[o]);return{$$typeof:Ap,type:e,key:d,ref:g,props:c,_owner:Np.current}}Xa.Fragment=Sp;Xa.jsx=Df;Xa.jsxs=Df;Af.exports=Xa;var y=Af.exports,oc={},kf={exports:{}},mn={},Lf={exports:{}},Pf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(re,ce){var ge=re.length;re.push(ce);e:for(;0<ge;){var ke=ge-1>>>1,ye=re[ke];if(0<c(ye,ce))re[ke]=ce,re[ge]=ye,ge=ke;else break e}}function i(re){return re.length===0?null:re[0]}function o(re){if(re.length===0)return null;var ce=re[0],ge=re.pop();if(ge!==ce){re[0]=ge;e:for(var ke=0,ye=re.length,We=ye>>>1;ke<We;){var nt=2*(ke+1)-1,$r=re[nt],le=nt+1,Er=re[le];if(0>c($r,ge))le<ye&&0>c(Er,$r)?(re[ke]=Er,re[le]=ge,ke=le):(re[ke]=$r,re[nt]=ge,ke=nt);else if(le<ye&&0>c(Er,ge))re[ke]=Er,re[le]=ge,ke=le;else break e}}return ce}function c(re,ce){var ge=re.sortIndex-ce.sortIndex;return ge!==0?ge:re.id-ce.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;e.unstable_now=function(){return d.now()}}else{var g=Date,x=g.now();e.unstable_now=function(){return g.now()-x}}var w=[],m=[],E=1,S=null,R=3,k=!1,B=!1,O=!1,U=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(re){for(var ce=i(m);ce!==null;){if(ce.callback===null)o(m);else if(ce.startTime<=re)o(m),ce.sortIndex=ce.expirationTime,t(w,ce);else break;ce=i(m)}}function z(re){if(O=!1,M(re),!B)if(i(w)!==null)B=!0,je($);else{var ce=i(m);ce!==null&&me(z,ce.startTime-re)}}function $(re,ce){B=!1,O&&(O=!1,N(J),J=-1),k=!0;var ge=R;try{for(M(ce),S=i(w);S!==null&&(!(S.expirationTime>ce)||re&&!Te());){var ke=S.callback;if(typeof ke=="function"){S.callback=null,R=S.priorityLevel;var ye=ke(S.expirationTime<=ce);ce=e.unstable_now(),typeof ye=="function"?S.callback=ye:S===i(w)&&o(w),M(ce)}else o(w);S=i(w)}if(S!==null)var We=!0;else{var nt=i(m);nt!==null&&me(z,nt.startTime-ce),We=!1}return We}finally{S=null,R=ge,k=!1}}var Z=!1,V=null,J=-1,Y=5,de=-1;function Te(){return!(e.unstable_now()-de<Y)}function ne(){if(V!==null){var re=e.unstable_now();de=re;var ce=!0;try{ce=V(!0,re)}finally{ce?ve():(Z=!1,V=null)}}else Z=!1}var ve;if(typeof b=="function")ve=function(){b(ne)};else if(typeof MessageChannel<"u"){var He=new MessageChannel,G=He.port2;He.port1.onmessage=ne,ve=function(){G.postMessage(null)}}else ve=function(){U(ne,0)};function je(re){V=re,Z||(Z=!0,ve())}function me(re,ce){J=U(function(){re(e.unstable_now())},ce)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(re){re.callback=null},e.unstable_continueExecution=function(){B||k||(B=!0,je($))},e.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<re?Math.floor(1e3/re):5},e.unstable_getCurrentPriorityLevel=function(){return R},e.unstable_getFirstCallbackNode=function(){return i(w)},e.unstable_next=function(re){switch(R){case 1:case 2:case 3:var ce=3;break;default:ce=R}var ge=R;R=ce;try{return re()}finally{R=ge}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(re,ce){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var ge=R;R=re;try{return ce()}finally{R=ge}},e.unstable_scheduleCallback=function(re,ce,ge){var ke=e.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?ke+ge:ke):ge=ke,re){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=ge+ye,re={id:E++,callback:ce,priorityLevel:re,startTime:ge,expirationTime:ye,sortIndex:-1},ge>ke?(re.sortIndex=ge,t(m,re),i(w)===null&&re===i(m)&&(O?(N(J),J=-1):O=!0,me(z,ge-ke))):(re.sortIndex=ye,t(w,re),B||k||(B=!0,je($))),re},e.unstable_shouldYield=Te,e.unstable_wrapCallback=function(re){var ce=R;return function(){var ge=R;R=ce;try{return re.apply(this,arguments)}finally{R=ge}}}})(Pf);Lf.exports=Pf;var bp=Lf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _p=L,pn=bp;function K(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Bf=new Set,Js={};function wi(e,t){$i(e,t),$i(e+"Capture",t)}function $i(e,t){for(Js[e]=t,e=0;e<t.length;e++)Bf.add(t[e])}var pr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ac=Object.prototype.hasOwnProperty,Mp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Fd={},jd={};function Rp(e){return ac.call(jd,e)?!0:ac.call(Fd,e)?!1:Mp.test(e)?jd[e]=!0:(Fd[e]=!0,!1)}function Op(e,t,i,o){if(i!==null&&i.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return o?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Dp(e,t,i,o){if(t===null||typeof t>"u"||Op(e,t,i,o))return!0;if(o)return!1;if(i!==null)switch(i.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Qt(e,t,i,o,c,d,g){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=o,this.attributeNamespace=c,this.mustUseProperty=i,this.propertyName=e,this.type=t,this.sanitizeURL=d,this.removeEmptyString=g}var Lt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Lt[e]=new Qt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Lt[t]=new Qt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Lt[e]=new Qt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Lt[e]=new Qt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Lt[e]=new Qt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Lt[e]=new Qt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Lt[e]=new Qt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Lt[e]=new Qt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Lt[e]=new Qt(e,5,!1,e.toLowerCase(),null,!1,!1)});var hu=/[\-:]([a-z])/g;function gu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(hu,gu);Lt[t]=new Qt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(hu,gu);Lt[t]=new Qt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(hu,gu);Lt[t]=new Qt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Lt[e]=new Qt(e,1,!1,e.toLowerCase(),null,!1,!1)});Lt.xlinkHref=new Qt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Lt[e]=new Qt(e,1,!1,e.toLowerCase(),null,!0,!0)});function pu(e,t,i,o){var c=Lt.hasOwnProperty(t)?Lt[t]:null;(c!==null?c.type!==0:o||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Dp(t,i,c,o)&&(i=null),o||c===null?Rp(t)&&(i===null?e.removeAttribute(t):e.setAttribute(t,""+i)):c.mustUseProperty?e[c.propertyName]=i===null?c.type===3?!1:"":i:(t=c.attributeName,o=c.attributeNamespace,i===null?e.removeAttribute(t):(c=c.type,i=c===3||c===4&&i===!0?"":""+i,o?e.setAttributeNS(o,t,i):e.setAttribute(t,i))))}var Cr=_p.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zo=Symbol.for("react.element"),Di=Symbol.for("react.portal"),ki=Symbol.for("react.fragment"),mu=Symbol.for("react.strict_mode"),lc=Symbol.for("react.profiler"),Ff=Symbol.for("react.provider"),jf=Symbol.for("react.context"),xu=Symbol.for("react.forward_ref"),cc=Symbol.for("react.suspense"),uc=Symbol.for("react.suspense_list"),wu=Symbol.for("react.memo"),Or=Symbol.for("react.lazy"),Uf=Symbol.for("react.offscreen"),Ud=Symbol.iterator;function _s(e){return e===null||typeof e!="object"?null:(e=Ud&&e[Ud]||e["@@iterator"],typeof e=="function"?e:null)}var at=Object.assign,Ol;function Us(e){if(Ol===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);Ol=t&&t[1]||""}return`
`+Ol+e}var Dl=!1;function kl(e,t){if(!e||Dl)return"";Dl=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(m){var o=m}Reflect.construct(e,[],t)}else{try{t.call()}catch(m){o=m}e.call(t.prototype)}else{try{throw Error()}catch(m){o=m}e()}}catch(m){if(m&&o&&typeof m.stack=="string"){for(var c=m.stack.split(`
`),d=o.stack.split(`
`),g=c.length-1,x=d.length-1;1<=g&&0<=x&&c[g]!==d[x];)x--;for(;1<=g&&0<=x;g--,x--)if(c[g]!==d[x]){if(g!==1||x!==1)do if(g--,x--,0>x||c[g]!==d[x]){var w=`
`+c[g].replace(" at new "," at ");return e.displayName&&w.includes("<anonymous>")&&(w=w.replace("<anonymous>",e.displayName)),w}while(1<=g&&0<=x);break}}}finally{Dl=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?Us(e):""}function kp(e){switch(e.tag){case 5:return Us(e.type);case 16:return Us("Lazy");case 13:return Us("Suspense");case 19:return Us("SuspenseList");case 0:case 2:case 15:return e=kl(e.type,!1),e;case 11:return e=kl(e.type.render,!1),e;case 1:return e=kl(e.type,!0),e;default:return""}}function dc(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ki:return"Fragment";case Di:return"Portal";case lc:return"Profiler";case mu:return"StrictMode";case cc:return"Suspense";case uc:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case jf:return(e.displayName||"Context")+".Consumer";case Ff:return(e._context.displayName||"Context")+".Provider";case xu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case wu:return t=e.displayName||null,t!==null?t:dc(e.type)||"Memo";case Or:t=e._payload,e=e._init;try{return dc(e(t))}catch{}}return null}function Lp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return dc(t);case 8:return t===mu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Yr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function zf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Pp(e){var t=zf(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),o=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var c=i.get,d=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(g){o=""+g,d.call(this,g)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return o},setValue:function(g){o=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Vo(e){e._valueTracker||(e._valueTracker=Pp(e))}function Vf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),o="";return e&&(o=zf(e)?e.checked?"true":"false":e.value),e=o,e!==i?(t.setValue(e),!0):!1}function ya(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function fc(e,t){var i=t.checked;return at({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function zd(e,t){var i=t.defaultValue==null?"":t.defaultValue,o=t.checked!=null?t.checked:t.defaultChecked;i=Yr(t.value!=null?t.value:i),e._wrapperState={initialChecked:o,initialValue:i,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Hf(e,t){t=t.checked,t!=null&&pu(e,"checked",t,!1)}function hc(e,t){Hf(e,t);var i=Yr(t.value),o=t.type;if(i!=null)o==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(o==="submit"||o==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?gc(e,t.type,i):t.hasOwnProperty("defaultValue")&&gc(e,t.type,Yr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Vd(e,t,i){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var o=t.type;if(!(o!=="submit"&&o!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,i||t===e.value||(e.value=t),e.defaultValue=t}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function gc(e,t,i){(t!=="number"||ya(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var zs=Array.isArray;function Yi(e,t,i,o){if(e=e.options,t){t={};for(var c=0;c<i.length;c++)t["$"+i[c]]=!0;for(i=0;i<e.length;i++)c=t.hasOwnProperty("$"+e[i].value),e[i].selected!==c&&(e[i].selected=c),c&&o&&(e[i].defaultSelected=!0)}else{for(i=""+Yr(i),t=null,c=0;c<e.length;c++){if(e[c].value===i){e[c].selected=!0,o&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function pc(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(K(91));return at({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Hd(e,t){var i=t.value;if(i==null){if(i=t.children,t=t.defaultValue,i!=null){if(t!=null)throw Error(K(92));if(zs(i)){if(1<i.length)throw Error(K(93));i=i[0]}t=i}t==null&&(t=""),i=t}e._wrapperState={initialValue:Yr(i)}}function Wf(e,t){var i=Yr(t.value),o=Yr(t.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),t.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),o!=null&&(e.defaultValue=""+o)}function Wd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Gf(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mc(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Gf(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ho,Yf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,i,o,c){MSApp.execUnsafeLocalFunction(function(){return e(t,i,o,c)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ho=Ho||document.createElement("div"),Ho.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ho.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function eo(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var Ws={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Bp=["Webkit","ms","Moz","O"];Object.keys(Ws).forEach(function(e){Bp.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ws[t]=Ws[e]})});function Xf(e,t,i){return t==null||typeof t=="boolean"||t===""?"":i||typeof t!="number"||t===0||Ws.hasOwnProperty(e)&&Ws[e]?(""+t).trim():t+"px"}function Qf(e,t){e=e.style;for(var i in t)if(t.hasOwnProperty(i)){var o=i.indexOf("--")===0,c=Xf(i,t[i],o);i==="float"&&(i="cssFloat"),o?e.setProperty(i,c):e[i]=c}}var Fp=at({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xc(e,t){if(t){if(Fp[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(K(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(K(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(K(61))}if(t.style!=null&&typeof t.style!="object")throw Error(K(62))}}function wc(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yc=null;function yu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Cc=null,Xi=null,Qi=null;function Gd(e){if(e=Eo(e)){if(typeof Cc!="function")throw Error(K(280));var t=e.stateNode;t&&(t=$a(t),Cc(e.stateNode,e.type,t))}}function Zf(e){Xi?Qi?Qi.push(e):Qi=[e]:Xi=e}function Kf(){if(Xi){var e=Xi,t=Qi;if(Qi=Xi=null,Gd(e),t)for(e=0;e<t.length;e++)Gd(t[e])}}function qf(e,t){return e(t)}function $f(){}var Ll=!1;function Jf(e,t,i){if(Ll)return e(t,i);Ll=!0;try{return qf(e,t,i)}finally{Ll=!1,(Xi!==null||Qi!==null)&&($f(),Kf())}}function to(e,t){var i=e.stateNode;if(i===null)return null;var o=$a(i);if(o===null)return null;i=o[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(K(231,t,typeof i));return i}var Ec=!1;if(pr)try{var Ms={};Object.defineProperty(Ms,"passive",{get:function(){Ec=!0}}),window.addEventListener("test",Ms,Ms),window.removeEventListener("test",Ms,Ms)}catch{Ec=!1}function jp(e,t,i,o,c,d,g,x,w){var m=Array.prototype.slice.call(arguments,3);try{t.apply(i,m)}catch(E){this.onError(E)}}var Gs=!1,Ca=null,Ea=!1,vc=null,Up={onError:function(e){Gs=!0,Ca=e}};function zp(e,t,i,o,c,d,g,x,w){Gs=!1,Ca=null,jp.apply(Up,arguments)}function Vp(e,t,i,o,c,d,g,x,w){if(zp.apply(this,arguments),Gs){if(Gs){var m=Ca;Gs=!1,Ca=null}else throw Error(K(198));Ea||(Ea=!0,vc=m)}}function yi(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function e0(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Yd(e){if(yi(e)!==e)throw Error(K(188))}function Hp(e){var t=e.alternate;if(!t){if(t=yi(e),t===null)throw Error(K(188));return t!==e?null:e}for(var i=e,o=t;;){var c=i.return;if(c===null)break;var d=c.alternate;if(d===null){if(o=c.return,o!==null){i=o;continue}break}if(c.child===d.child){for(d=c.child;d;){if(d===i)return Yd(c),e;if(d===o)return Yd(c),t;d=d.sibling}throw Error(K(188))}if(i.return!==o.return)i=c,o=d;else{for(var g=!1,x=c.child;x;){if(x===i){g=!0,i=c,o=d;break}if(x===o){g=!0,o=c,i=d;break}x=x.sibling}if(!g){for(x=d.child;x;){if(x===i){g=!0,i=d,o=c;break}if(x===o){g=!0,o=d,i=c;break}x=x.sibling}if(!g)throw Error(K(189))}}if(i.alternate!==o)throw Error(K(190))}if(i.tag!==3)throw Error(K(188));return i.stateNode.current===i?e:t}function t0(e){return e=Hp(e),e!==null?n0(e):null}function n0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=n0(e);if(t!==null)return t;e=e.sibling}return null}var r0=pn.unstable_scheduleCallback,Xd=pn.unstable_cancelCallback,Wp=pn.unstable_shouldYield,Gp=pn.unstable_requestPaint,gt=pn.unstable_now,Yp=pn.unstable_getCurrentPriorityLevel,Cu=pn.unstable_ImmediatePriority,i0=pn.unstable_UserBlockingPriority,va=pn.unstable_NormalPriority,Xp=pn.unstable_LowPriority,s0=pn.unstable_IdlePriority,Qa=null,nr=null;function Qp(e){if(nr&&typeof nr.onCommitFiberRoot=="function")try{nr.onCommitFiberRoot(Qa,e,void 0,(e.current.flags&128)===128)}catch{}}var zn=Math.clz32?Math.clz32:qp,Zp=Math.log,Kp=Math.LN2;function qp(e){return e>>>=0,e===0?32:31-(Zp(e)/Kp|0)|0}var Wo=64,Go=4194304;function Vs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Aa(e,t){var i=e.pendingLanes;if(i===0)return 0;var o=0,c=e.suspendedLanes,d=e.pingedLanes,g=i&268435455;if(g!==0){var x=g&~c;x!==0?o=Vs(x):(d&=g,d!==0&&(o=Vs(d)))}else g=i&~c,g!==0?o=Vs(g):d!==0&&(o=Vs(d));if(o===0)return 0;if(t!==0&&t!==o&&!(t&c)&&(c=o&-o,d=t&-t,c>=d||c===16&&(d&4194240)!==0))return t;if(o&4&&(o|=i&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=o;0<t;)i=31-zn(t),c=1<<i,o|=e[i],t&=~c;return o}function $p(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jp(e,t){for(var i=e.suspendedLanes,o=e.pingedLanes,c=e.expirationTimes,d=e.pendingLanes;0<d;){var g=31-zn(d),x=1<<g,w=c[g];w===-1?(!(x&i)||x&o)&&(c[g]=$p(x,t)):w<=t&&(e.expiredLanes|=x),d&=~x}}function Ac(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function o0(){var e=Wo;return Wo<<=1,!(Wo&4194240)&&(Wo=64),e}function Pl(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function yo(e,t,i){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-zn(t),e[t]=i}function em(e,t){var i=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var o=e.eventTimes;for(e=e.expirationTimes;0<i;){var c=31-zn(i),d=1<<c;t[c]=0,o[c]=-1,e[c]=-1,i&=~d}}function Eu(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var o=31-zn(i),c=1<<o;c&t|e[o]&t&&(e[o]|=t),i&=~c}}var Be=0;function a0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var l0,vu,c0,u0,d0,Sc=!1,Yo=[],Fr=null,jr=null,Ur=null,no=new Map,ro=new Map,kr=[],tm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Qd(e,t){switch(e){case"focusin":case"focusout":Fr=null;break;case"dragenter":case"dragleave":jr=null;break;case"mouseover":case"mouseout":Ur=null;break;case"pointerover":case"pointerout":no.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ro.delete(t.pointerId)}}function Rs(e,t,i,o,c,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:i,eventSystemFlags:o,nativeEvent:d,targetContainers:[c]},t!==null&&(t=Eo(t),t!==null&&vu(t)),e):(e.eventSystemFlags|=o,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function nm(e,t,i,o,c){switch(t){case"focusin":return Fr=Rs(Fr,e,t,i,o,c),!0;case"dragenter":return jr=Rs(jr,e,t,i,o,c),!0;case"mouseover":return Ur=Rs(Ur,e,t,i,o,c),!0;case"pointerover":var d=c.pointerId;return no.set(d,Rs(no.get(d)||null,e,t,i,o,c)),!0;case"gotpointercapture":return d=c.pointerId,ro.set(d,Rs(ro.get(d)||null,e,t,i,o,c)),!0}return!1}function f0(e){var t=ai(e.target);if(t!==null){var i=yi(t);if(i!==null){if(t=i.tag,t===13){if(t=e0(i),t!==null){e.blockedOn=t,d0(e.priority,function(){c0(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function aa(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=Ic(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var o=new i.constructor(i.type,i);yc=o,i.target.dispatchEvent(o),yc=null}else return t=Eo(i),t!==null&&vu(t),e.blockedOn=i,!1;t.shift()}return!0}function Zd(e,t,i){aa(e)&&i.delete(t)}function rm(){Sc=!1,Fr!==null&&aa(Fr)&&(Fr=null),jr!==null&&aa(jr)&&(jr=null),Ur!==null&&aa(Ur)&&(Ur=null),no.forEach(Zd),ro.forEach(Zd)}function Os(e,t){e.blockedOn===t&&(e.blockedOn=null,Sc||(Sc=!0,pn.unstable_scheduleCallback(pn.unstable_NormalPriority,rm)))}function io(e){function t(c){return Os(c,e)}if(0<Yo.length){Os(Yo[0],e);for(var i=1;i<Yo.length;i++){var o=Yo[i];o.blockedOn===e&&(o.blockedOn=null)}}for(Fr!==null&&Os(Fr,e),jr!==null&&Os(jr,e),Ur!==null&&Os(Ur,e),no.forEach(t),ro.forEach(t),i=0;i<kr.length;i++)o=kr[i],o.blockedOn===e&&(o.blockedOn=null);for(;0<kr.length&&(i=kr[0],i.blockedOn===null);)f0(i),i.blockedOn===null&&kr.shift()}var Zi=Cr.ReactCurrentBatchConfig,Sa=!0;function im(e,t,i,o){var c=Be,d=Zi.transition;Zi.transition=null;try{Be=1,Au(e,t,i,o)}finally{Be=c,Zi.transition=d}}function sm(e,t,i,o){var c=Be,d=Zi.transition;Zi.transition=null;try{Be=4,Au(e,t,i,o)}finally{Be=c,Zi.transition=d}}function Au(e,t,i,o){if(Sa){var c=Ic(e,t,i,o);if(c===null)Yl(e,t,o,Ia,i),Qd(e,o);else if(nm(c,e,t,i,o))o.stopPropagation();else if(Qd(e,o),t&4&&-1<tm.indexOf(e)){for(;c!==null;){var d=Eo(c);if(d!==null&&l0(d),d=Ic(e,t,i,o),d===null&&Yl(e,t,o,Ia,i),d===c)break;c=d}c!==null&&o.stopPropagation()}else Yl(e,t,o,null,i)}}var Ia=null;function Ic(e,t,i,o){if(Ia=null,e=yu(o),e=ai(e),e!==null)if(t=yi(e),t===null)e=null;else if(i=t.tag,i===13){if(e=e0(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ia=e,null}function h0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Yp()){case Cu:return 1;case i0:return 4;case va:case Xp:return 16;case s0:return 536870912;default:return 16}default:return 16}}var Pr=null,Su=null,la=null;function g0(){if(la)return la;var e,t=Su,i=t.length,o,c="value"in Pr?Pr.value:Pr.textContent,d=c.length;for(e=0;e<i&&t[e]===c[e];e++);var g=i-e;for(o=1;o<=g&&t[i-o]===c[d-o];o++);return la=c.slice(e,1<o?1-o:void 0)}function ca(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Xo(){return!0}function Kd(){return!1}function xn(e){function t(i,o,c,d,g){this._reactName=i,this._targetInst=c,this.type=o,this.nativeEvent=d,this.target=g,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(i=e[x],this[x]=i?i(d):d[x]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Xo:Kd,this.isPropagationStopped=Kd,this}return at(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Xo)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Xo)},persist:function(){},isPersistent:Xo}),t}var fs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Iu=xn(fs),Co=at({},fs,{view:0,detail:0}),om=xn(Co),Bl,Fl,Ds,Za=at({},Co,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ds&&(Ds&&e.type==="mousemove"?(Bl=e.screenX-Ds.screenX,Fl=e.screenY-Ds.screenY):Fl=Bl=0,Ds=e),Bl)},movementY:function(e){return"movementY"in e?e.movementY:Fl}}),qd=xn(Za),am=at({},Za,{dataTransfer:0}),lm=xn(am),cm=at({},Co,{relatedTarget:0}),jl=xn(cm),um=at({},fs,{animationName:0,elapsedTime:0,pseudoElement:0}),dm=xn(um),fm=at({},fs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),hm=xn(fm),gm=at({},fs,{data:0}),$d=xn(gm),pm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=xm[e])?!!t[e]:!1}function Nu(){return wm}var ym=at({},Co,{key:function(e){if(e.key){var t=pm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ca(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?mm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nu,charCode:function(e){return e.type==="keypress"?ca(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ca(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Cm=xn(ym),Em=at({},Za,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jd=xn(Em),vm=at({},Co,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nu}),Am=xn(vm),Sm=at({},fs,{propertyName:0,elapsedTime:0,pseudoElement:0}),Im=xn(Sm),Nm=at({},Za,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Tm=xn(Nm),bm=[9,13,27,32],Tu=pr&&"CompositionEvent"in window,Ys=null;pr&&"documentMode"in document&&(Ys=document.documentMode);var _m=pr&&"TextEvent"in window&&!Ys,p0=pr&&(!Tu||Ys&&8<Ys&&11>=Ys),e1=String.fromCharCode(32),t1=!1;function m0(e,t){switch(e){case"keyup":return bm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function x0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Li=!1;function Mm(e,t){switch(e){case"compositionend":return x0(t);case"keypress":return t.which!==32?null:(t1=!0,e1);case"textInput":return e=t.data,e===e1&&t1?null:e;default:return null}}function Rm(e,t){if(Li)return e==="compositionend"||!Tu&&m0(e,t)?(e=g0(),la=Su=Pr=null,Li=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return p0&&t.locale!=="ko"?null:t.data;default:return null}}var Om={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function n1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Om[e.type]:t==="textarea"}function w0(e,t,i,o){Zf(o),t=Na(t,"onChange"),0<t.length&&(i=new Iu("onChange","change",null,i,o),e.push({event:i,listeners:t}))}var Xs=null,so=null;function Dm(e){_0(e,0)}function Ka(e){var t=Fi(e);if(Vf(t))return e}function km(e,t){if(e==="change")return t}var y0=!1;if(pr){var Ul;if(pr){var zl="oninput"in document;if(!zl){var r1=document.createElement("div");r1.setAttribute("oninput","return;"),zl=typeof r1.oninput=="function"}Ul=zl}else Ul=!1;y0=Ul&&(!document.documentMode||9<document.documentMode)}function i1(){Xs&&(Xs.detachEvent("onpropertychange",C0),so=Xs=null)}function C0(e){if(e.propertyName==="value"&&Ka(so)){var t=[];w0(t,so,e,yu(e)),Jf(Dm,t)}}function Lm(e,t,i){e==="focusin"?(i1(),Xs=t,so=i,Xs.attachEvent("onpropertychange",C0)):e==="focusout"&&i1()}function Pm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ka(so)}function Bm(e,t){if(e==="click")return Ka(t)}function Fm(e,t){if(e==="input"||e==="change")return Ka(t)}function jm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Hn=typeof Object.is=="function"?Object.is:jm;function oo(e,t){if(Hn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length)return!1;for(o=0;o<i.length;o++){var c=i[o];if(!ac.call(t,c)||!Hn(e[c],t[c]))return!1}return!0}function s1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function o1(e,t){var i=s1(e);e=0;for(var o;i;){if(i.nodeType===3){if(o=e+i.textContent.length,e<=t&&o>=t)return{node:i,offset:t-e};e=o}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=s1(i)}}function E0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?E0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function v0(){for(var e=window,t=ya();t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=ya(e.document)}return t}function bu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Um(e){var t=v0(),i=e.focusedElem,o=e.selectionRange;if(t!==i&&i&&i.ownerDocument&&E0(i.ownerDocument.documentElement,i)){if(o!==null&&bu(i)){if(t=o.start,e=o.end,e===void 0&&(e=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(e,i.value.length);else if(e=(t=i.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var c=i.textContent.length,d=Math.min(o.start,c);o=o.end===void 0?d:Math.min(o.end,c),!e.extend&&d>o&&(c=o,o=d,d=c),c=o1(i,d);var g=o1(i,o);c&&g&&(e.rangeCount!==1||e.anchorNode!==c.node||e.anchorOffset!==c.offset||e.focusNode!==g.node||e.focusOffset!==g.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),e.removeAllRanges(),d>o?(e.addRange(t),e.extend(g.node,g.offset)):(t.setEnd(g.node,g.offset),e.addRange(t)))}}for(t=[],e=i;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)e=t[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var zm=pr&&"documentMode"in document&&11>=document.documentMode,Pi=null,Nc=null,Qs=null,Tc=!1;function a1(e,t,i){var o=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Tc||Pi==null||Pi!==ya(o)||(o=Pi,"selectionStart"in o&&bu(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Qs&&oo(Qs,o)||(Qs=o,o=Na(Nc,"onSelect"),0<o.length&&(t=new Iu("onSelect","select",null,t,i),e.push({event:t,listeners:o}),t.target=Pi)))}function Qo(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var Bi={animationend:Qo("Animation","AnimationEnd"),animationiteration:Qo("Animation","AnimationIteration"),animationstart:Qo("Animation","AnimationStart"),transitionend:Qo("Transition","TransitionEnd")},Vl={},A0={};pr&&(A0=document.createElement("div").style,"AnimationEvent"in window||(delete Bi.animationend.animation,delete Bi.animationiteration.animation,delete Bi.animationstart.animation),"TransitionEvent"in window||delete Bi.transitionend.transition);function qa(e){if(Vl[e])return Vl[e];if(!Bi[e])return e;var t=Bi[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in A0)return Vl[e]=t[i];return e}var S0=qa("animationend"),I0=qa("animationiteration"),N0=qa("animationstart"),T0=qa("transitionend"),b0=new Map,l1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zr(e,t){b0.set(e,t),wi(t,[e])}for(var Hl=0;Hl<l1.length;Hl++){var Wl=l1[Hl],Vm=Wl.toLowerCase(),Hm=Wl[0].toUpperCase()+Wl.slice(1);Zr(Vm,"on"+Hm)}Zr(S0,"onAnimationEnd");Zr(I0,"onAnimationIteration");Zr(N0,"onAnimationStart");Zr("dblclick","onDoubleClick");Zr("focusin","onFocus");Zr("focusout","onBlur");Zr(T0,"onTransitionEnd");$i("onMouseEnter",["mouseout","mouseover"]);$i("onMouseLeave",["mouseout","mouseover"]);$i("onPointerEnter",["pointerout","pointerover"]);$i("onPointerLeave",["pointerout","pointerover"]);wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wi("onBeforeInput",["compositionend","keypress","textInput","paste"]);wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Wm=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hs));function c1(e,t,i){var o=e.type||"unknown-event";e.currentTarget=i,Vp(o,t,void 0,e),e.currentTarget=null}function _0(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var o=e[i],c=o.event;o=o.listeners;e:{var d=void 0;if(t)for(var g=o.length-1;0<=g;g--){var x=o[g],w=x.instance,m=x.currentTarget;if(x=x.listener,w!==d&&c.isPropagationStopped())break e;c1(c,x,m),d=w}else for(g=0;g<o.length;g++){if(x=o[g],w=x.instance,m=x.currentTarget,x=x.listener,w!==d&&c.isPropagationStopped())break e;c1(c,x,m),d=w}}}if(Ea)throw e=vc,Ea=!1,vc=null,e}function Ke(e,t){var i=t[Oc];i===void 0&&(i=t[Oc]=new Set);var o=e+"__bubble";i.has(o)||(M0(t,e,2,!1),i.add(o))}function Gl(e,t,i){var o=0;t&&(o|=4),M0(i,e,o,t)}var Zo="_reactListening"+Math.random().toString(36).slice(2);function ao(e){if(!e[Zo]){e[Zo]=!0,Bf.forEach(function(i){i!=="selectionchange"&&(Wm.has(i)||Gl(i,!1,e),Gl(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Zo]||(t[Zo]=!0,Gl("selectionchange",!1,t))}}function M0(e,t,i,o){switch(h0(t)){case 1:var c=im;break;case 4:c=sm;break;default:c=Au}i=c.bind(null,t,i,e),c=void 0,!Ec||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),o?c!==void 0?e.addEventListener(t,i,{capture:!0,passive:c}):e.addEventListener(t,i,!0):c!==void 0?e.addEventListener(t,i,{passive:c}):e.addEventListener(t,i,!1)}function Yl(e,t,i,o,c){var d=o;if(!(t&1)&&!(t&2)&&o!==null)e:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var x=o.stateNode.containerInfo;if(x===c||x.nodeType===8&&x.parentNode===c)break;if(g===4)for(g=o.return;g!==null;){var w=g.tag;if((w===3||w===4)&&(w=g.stateNode.containerInfo,w===c||w.nodeType===8&&w.parentNode===c))return;g=g.return}for(;x!==null;){if(g=ai(x),g===null)return;if(w=g.tag,w===5||w===6){o=d=g;continue e}x=x.parentNode}}o=o.return}Jf(function(){var m=d,E=yu(i),S=[];e:{var R=b0.get(e);if(R!==void 0){var k=Iu,B=e;switch(e){case"keypress":if(ca(i)===0)break e;case"keydown":case"keyup":k=Cm;break;case"focusin":B="focus",k=jl;break;case"focusout":B="blur",k=jl;break;case"beforeblur":case"afterblur":k=jl;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=qd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=lm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=Am;break;case S0:case I0:case N0:k=dm;break;case T0:k=Im;break;case"scroll":k=om;break;case"wheel":k=Tm;break;case"copy":case"cut":case"paste":k=hm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=Jd}var O=(t&4)!==0,U=!O&&e==="scroll",N=O?R!==null?R+"Capture":null:R;O=[];for(var b=m,M;b!==null;){M=b;var z=M.stateNode;if(M.tag===5&&z!==null&&(M=z,N!==null&&(z=to(b,N),z!=null&&O.push(lo(b,z,M)))),U)break;b=b.return}0<O.length&&(R=new k(R,B,null,i,E),S.push({event:R,listeners:O}))}}if(!(t&7)){e:{if(R=e==="mouseover"||e==="pointerover",k=e==="mouseout"||e==="pointerout",R&&i!==yc&&(B=i.relatedTarget||i.fromElement)&&(ai(B)||B[mr]))break e;if((k||R)&&(R=E.window===E?E:(R=E.ownerDocument)?R.defaultView||R.parentWindow:window,k?(B=i.relatedTarget||i.toElement,k=m,B=B?ai(B):null,B!==null&&(U=yi(B),B!==U||B.tag!==5&&B.tag!==6)&&(B=null)):(k=null,B=m),k!==B)){if(O=qd,z="onMouseLeave",N="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(O=Jd,z="onPointerLeave",N="onPointerEnter",b="pointer"),U=k==null?R:Fi(k),M=B==null?R:Fi(B),R=new O(z,b+"leave",k,i,E),R.target=U,R.relatedTarget=M,z=null,ai(E)===m&&(O=new O(N,b+"enter",B,i,E),O.target=M,O.relatedTarget=U,z=O),U=z,k&&B)t:{for(O=k,N=B,b=0,M=O;M;M=Oi(M))b++;for(M=0,z=N;z;z=Oi(z))M++;for(;0<b-M;)O=Oi(O),b--;for(;0<M-b;)N=Oi(N),M--;for(;b--;){if(O===N||N!==null&&O===N.alternate)break t;O=Oi(O),N=Oi(N)}O=null}else O=null;k!==null&&u1(S,R,k,O,!1),B!==null&&U!==null&&u1(S,U,B,O,!0)}}e:{if(R=m?Fi(m):window,k=R.nodeName&&R.nodeName.toLowerCase(),k==="select"||k==="input"&&R.type==="file")var $=km;else if(n1(R))if(y0)$=Fm;else{$=Pm;var Z=Lm}else(k=R.nodeName)&&k.toLowerCase()==="input"&&(R.type==="checkbox"||R.type==="radio")&&($=Bm);if($&&($=$(e,m))){w0(S,$,i,E);break e}Z&&Z(e,R,m),e==="focusout"&&(Z=R._wrapperState)&&Z.controlled&&R.type==="number"&&gc(R,"number",R.value)}switch(Z=m?Fi(m):window,e){case"focusin":(n1(Z)||Z.contentEditable==="true")&&(Pi=Z,Nc=m,Qs=null);break;case"focusout":Qs=Nc=Pi=null;break;case"mousedown":Tc=!0;break;case"contextmenu":case"mouseup":case"dragend":Tc=!1,a1(S,i,E);break;case"selectionchange":if(zm)break;case"keydown":case"keyup":a1(S,i,E)}var V;if(Tu)e:{switch(e){case"compositionstart":var J="onCompositionStart";break e;case"compositionend":J="onCompositionEnd";break e;case"compositionupdate":J="onCompositionUpdate";break e}J=void 0}else Li?m0(e,i)&&(J="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(J="onCompositionStart");J&&(p0&&i.locale!=="ko"&&(Li||J!=="onCompositionStart"?J==="onCompositionEnd"&&Li&&(V=g0()):(Pr=E,Su="value"in Pr?Pr.value:Pr.textContent,Li=!0)),Z=Na(m,J),0<Z.length&&(J=new $d(J,e,null,i,E),S.push({event:J,listeners:Z}),V?J.data=V:(V=x0(i),V!==null&&(J.data=V)))),(V=_m?Mm(e,i):Rm(e,i))&&(m=Na(m,"onBeforeInput"),0<m.length&&(E=new $d("onBeforeInput","beforeinput",null,i,E),S.push({event:E,listeners:m}),E.data=V))}_0(S,t)})}function lo(e,t,i){return{instance:e,listener:t,currentTarget:i}}function Na(e,t){for(var i=t+"Capture",o=[];e!==null;){var c=e,d=c.stateNode;c.tag===5&&d!==null&&(c=d,d=to(e,i),d!=null&&o.unshift(lo(e,d,c)),d=to(e,t),d!=null&&o.push(lo(e,d,c))),e=e.return}return o}function Oi(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function u1(e,t,i,o,c){for(var d=t._reactName,g=[];i!==null&&i!==o;){var x=i,w=x.alternate,m=x.stateNode;if(w!==null&&w===o)break;x.tag===5&&m!==null&&(x=m,c?(w=to(i,d),w!=null&&g.unshift(lo(i,w,x))):c||(w=to(i,d),w!=null&&g.push(lo(i,w,x)))),i=i.return}g.length!==0&&e.push({event:t,listeners:g})}var Gm=/\r\n?/g,Ym=/\u0000|\uFFFD/g;function d1(e){return(typeof e=="string"?e:""+e).replace(Gm,`
`).replace(Ym,"")}function Ko(e,t,i){if(t=d1(t),d1(e)!==t&&i)throw Error(K(425))}function Ta(){}var bc=null,_c=null;function Mc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Rc=typeof setTimeout=="function"?setTimeout:void 0,Xm=typeof clearTimeout=="function"?clearTimeout:void 0,f1=typeof Promise=="function"?Promise:void 0,Qm=typeof queueMicrotask=="function"?queueMicrotask:typeof f1<"u"?function(e){return f1.resolve(null).then(e).catch(Zm)}:Rc;function Zm(e){setTimeout(function(){throw e})}function Xl(e,t){var i=t,o=0;do{var c=i.nextSibling;if(e.removeChild(i),c&&c.nodeType===8)if(i=c.data,i==="/$"){if(o===0){e.removeChild(c),io(t);return}o--}else i!=="$"&&i!=="$?"&&i!=="$!"||o++;i=c}while(i);io(t)}function zr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function h1(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}var hs=Math.random().toString(36).slice(2),tr="__reactFiber$"+hs,co="__reactProps$"+hs,mr="__reactContainer$"+hs,Oc="__reactEvents$"+hs,Km="__reactListeners$"+hs,qm="__reactHandles$"+hs;function ai(e){var t=e[tr];if(t)return t;for(var i=e.parentNode;i;){if(t=i[mr]||i[tr]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=h1(e);e!==null;){if(i=e[tr])return i;e=h1(e)}return t}e=i,i=e.parentNode}return null}function Eo(e){return e=e[tr]||e[mr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Fi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(K(33))}function $a(e){return e[co]||null}var Dc=[],ji=-1;function Kr(e){return{current:e}}function $e(e){0>ji||(e.current=Dc[ji],Dc[ji]=null,ji--)}function Xe(e,t){ji++,Dc[ji]=e.current,e.current=t}var Xr={},zt=Kr(Xr),sn=Kr(!1),hi=Xr;function Ji(e,t){var i=e.type.contextTypes;if(!i)return Xr;var o=e.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===t)return o.__reactInternalMemoizedMaskedChildContext;var c={},d;for(d in i)c[d]=t[d];return o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=c),c}function on(e){return e=e.childContextTypes,e!=null}function ba(){$e(sn),$e(zt)}function g1(e,t,i){if(zt.current!==Xr)throw Error(K(168));Xe(zt,t),Xe(sn,i)}function R0(e,t,i){var o=e.stateNode;if(t=t.childContextTypes,typeof o.getChildContext!="function")return i;o=o.getChildContext();for(var c in o)if(!(c in t))throw Error(K(108,Lp(e)||"Unknown",c));return at({},i,o)}function _a(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Xr,hi=zt.current,Xe(zt,e),Xe(sn,sn.current),!0}function p1(e,t,i){var o=e.stateNode;if(!o)throw Error(K(169));i?(e=R0(e,t,hi),o.__reactInternalMemoizedMergedChildContext=e,$e(sn),$e(zt),Xe(zt,e)):$e(sn),Xe(sn,i)}var cr=null,Ja=!1,Ql=!1;function O0(e){cr===null?cr=[e]:cr.push(e)}function $m(e){Ja=!0,O0(e)}function qr(){if(!Ql&&cr!==null){Ql=!0;var e=0,t=Be;try{var i=cr;for(Be=1;e<i.length;e++){var o=i[e];do o=o(!0);while(o!==null)}cr=null,Ja=!1}catch(c){throw cr!==null&&(cr=cr.slice(e+1)),r0(Cu,qr),c}finally{Be=t,Ql=!1}}return null}var Ui=[],zi=0,Ma=null,Ra=0,An=[],Sn=0,gi=null,ur=1,dr="";function si(e,t){Ui[zi++]=Ra,Ui[zi++]=Ma,Ma=e,Ra=t}function D0(e,t,i){An[Sn++]=ur,An[Sn++]=dr,An[Sn++]=gi,gi=e;var o=ur;e=dr;var c=32-zn(o)-1;o&=~(1<<c),i+=1;var d=32-zn(t)+c;if(30<d){var g=c-c%5;d=(o&(1<<g)-1).toString(32),o>>=g,c-=g,ur=1<<32-zn(t)+c|i<<c|o,dr=d+e}else ur=1<<d|i<<c|o,dr=e}function _u(e){e.return!==null&&(si(e,1),D0(e,1,0))}function Mu(e){for(;e===Ma;)Ma=Ui[--zi],Ui[zi]=null,Ra=Ui[--zi],Ui[zi]=null;for(;e===gi;)gi=An[--Sn],An[Sn]=null,dr=An[--Sn],An[Sn]=null,ur=An[--Sn],An[Sn]=null}var gn=null,hn=null,et=!1,Un=null;function k0(e,t){var i=In(5,null,null,0);i.elementType="DELETED",i.stateNode=t,i.return=e,t=e.deletions,t===null?(e.deletions=[i],e.flags|=16):t.push(i)}function m1(e,t){switch(e.tag){case 5:var i=e.type;return t=t.nodeType!==1||i.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,gn=e,hn=zr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,gn=e,hn=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(i=gi!==null?{id:ur,overflow:dr}:null,e.memoizedState={dehydrated:t,treeContext:i,retryLane:1073741824},i=In(18,null,null,0),i.stateNode=t,i.return=e,e.child=i,gn=e,hn=null,!0):!1;default:return!1}}function kc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Lc(e){if(et){var t=hn;if(t){var i=t;if(!m1(e,t)){if(kc(e))throw Error(K(418));t=zr(i.nextSibling);var o=gn;t&&m1(e,t)?k0(o,i):(e.flags=e.flags&-4097|2,et=!1,gn=e)}}else{if(kc(e))throw Error(K(418));e.flags=e.flags&-4097|2,et=!1,gn=e}}}function x1(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;gn=e}function qo(e){if(e!==gn)return!1;if(!et)return x1(e),et=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Mc(e.type,e.memoizedProps)),t&&(t=hn)){if(kc(e))throw L0(),Error(K(418));for(;t;)k0(e,t),t=zr(t.nextSibling)}if(x1(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(K(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(t===0){hn=zr(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++}e=e.nextSibling}hn=null}}else hn=gn?zr(e.stateNode.nextSibling):null;return!0}function L0(){for(var e=hn;e;)e=zr(e.nextSibling)}function es(){hn=gn=null,et=!1}function Ru(e){Un===null?Un=[e]:Un.push(e)}var Jm=Cr.ReactCurrentBatchConfig;function ks(e,t,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(K(309));var o=i.stateNode}if(!o)throw Error(K(147,e));var c=o,d=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===d?t.ref:(t=function(g){var x=c.refs;g===null?delete x[d]:x[d]=g},t._stringRef=d,t)}if(typeof e!="string")throw Error(K(284));if(!i._owner)throw Error(K(290,e))}return e}function $o(e,t){throw e=Object.prototype.toString.call(t),Error(K(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function w1(e){var t=e._init;return t(e._payload)}function P0(e){function t(N,b){if(e){var M=N.deletions;M===null?(N.deletions=[b],N.flags|=16):M.push(b)}}function i(N,b){if(!e)return null;for(;b!==null;)t(N,b),b=b.sibling;return null}function o(N,b){for(N=new Map;b!==null;)b.key!==null?N.set(b.key,b):N.set(b.index,b),b=b.sibling;return N}function c(N,b){return N=Gr(N,b),N.index=0,N.sibling=null,N}function d(N,b,M){return N.index=M,e?(M=N.alternate,M!==null?(M=M.index,M<b?(N.flags|=2,b):M):(N.flags|=2,b)):(N.flags|=1048576,b)}function g(N){return e&&N.alternate===null&&(N.flags|=2),N}function x(N,b,M,z){return b===null||b.tag!==6?(b=tc(M,N.mode,z),b.return=N,b):(b=c(b,M),b.return=N,b)}function w(N,b,M,z){var $=M.type;return $===ki?E(N,b,M.props.children,z,M.key):b!==null&&(b.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===Or&&w1($)===b.type)?(z=c(b,M.props),z.ref=ks(N,b,M),z.return=N,z):(z=ma(M.type,M.key,M.props,null,N.mode,z),z.ref=ks(N,b,M),z.return=N,z)}function m(N,b,M,z){return b===null||b.tag!==4||b.stateNode.containerInfo!==M.containerInfo||b.stateNode.implementation!==M.implementation?(b=nc(M,N.mode,z),b.return=N,b):(b=c(b,M.children||[]),b.return=N,b)}function E(N,b,M,z,$){return b===null||b.tag!==7?(b=fi(M,N.mode,z,$),b.return=N,b):(b=c(b,M),b.return=N,b)}function S(N,b,M){if(typeof b=="string"&&b!==""||typeof b=="number")return b=tc(""+b,N.mode,M),b.return=N,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case zo:return M=ma(b.type,b.key,b.props,null,N.mode,M),M.ref=ks(N,null,b),M.return=N,M;case Di:return b=nc(b,N.mode,M),b.return=N,b;case Or:var z=b._init;return S(N,z(b._payload),M)}if(zs(b)||_s(b))return b=fi(b,N.mode,M,null),b.return=N,b;$o(N,b)}return null}function R(N,b,M,z){var $=b!==null?b.key:null;if(typeof M=="string"&&M!==""||typeof M=="number")return $!==null?null:x(N,b,""+M,z);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case zo:return M.key===$?w(N,b,M,z):null;case Di:return M.key===$?m(N,b,M,z):null;case Or:return $=M._init,R(N,b,$(M._payload),z)}if(zs(M)||_s(M))return $!==null?null:E(N,b,M,z,null);$o(N,M)}return null}function k(N,b,M,z,$){if(typeof z=="string"&&z!==""||typeof z=="number")return N=N.get(M)||null,x(b,N,""+z,$);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case zo:return N=N.get(z.key===null?M:z.key)||null,w(b,N,z,$);case Di:return N=N.get(z.key===null?M:z.key)||null,m(b,N,z,$);case Or:var Z=z._init;return k(N,b,M,Z(z._payload),$)}if(zs(z)||_s(z))return N=N.get(M)||null,E(b,N,z,$,null);$o(b,z)}return null}function B(N,b,M,z){for(var $=null,Z=null,V=b,J=b=0,Y=null;V!==null&&J<M.length;J++){V.index>J?(Y=V,V=null):Y=V.sibling;var de=R(N,V,M[J],z);if(de===null){V===null&&(V=Y);break}e&&V&&de.alternate===null&&t(N,V),b=d(de,b,J),Z===null?$=de:Z.sibling=de,Z=de,V=Y}if(J===M.length)return i(N,V),et&&si(N,J),$;if(V===null){for(;J<M.length;J++)V=S(N,M[J],z),V!==null&&(b=d(V,b,J),Z===null?$=V:Z.sibling=V,Z=V);return et&&si(N,J),$}for(V=o(N,V);J<M.length;J++)Y=k(V,N,J,M[J],z),Y!==null&&(e&&Y.alternate!==null&&V.delete(Y.key===null?J:Y.key),b=d(Y,b,J),Z===null?$=Y:Z.sibling=Y,Z=Y);return e&&V.forEach(function(Te){return t(N,Te)}),et&&si(N,J),$}function O(N,b,M,z){var $=_s(M);if(typeof $!="function")throw Error(K(150));if(M=$.call(M),M==null)throw Error(K(151));for(var Z=$=null,V=b,J=b=0,Y=null,de=M.next();V!==null&&!de.done;J++,de=M.next()){V.index>J?(Y=V,V=null):Y=V.sibling;var Te=R(N,V,de.value,z);if(Te===null){V===null&&(V=Y);break}e&&V&&Te.alternate===null&&t(N,V),b=d(Te,b,J),Z===null?$=Te:Z.sibling=Te,Z=Te,V=Y}if(de.done)return i(N,V),et&&si(N,J),$;if(V===null){for(;!de.done;J++,de=M.next())de=S(N,de.value,z),de!==null&&(b=d(de,b,J),Z===null?$=de:Z.sibling=de,Z=de);return et&&si(N,J),$}for(V=o(N,V);!de.done;J++,de=M.next())de=k(V,N,J,de.value,z),de!==null&&(e&&de.alternate!==null&&V.delete(de.key===null?J:de.key),b=d(de,b,J),Z===null?$=de:Z.sibling=de,Z=de);return e&&V.forEach(function(ne){return t(N,ne)}),et&&si(N,J),$}function U(N,b,M,z){if(typeof M=="object"&&M!==null&&M.type===ki&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case zo:e:{for(var $=M.key,Z=b;Z!==null;){if(Z.key===$){if($=M.type,$===ki){if(Z.tag===7){i(N,Z.sibling),b=c(Z,M.props.children),b.return=N,N=b;break e}}else if(Z.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===Or&&w1($)===Z.type){i(N,Z.sibling),b=c(Z,M.props),b.ref=ks(N,Z,M),b.return=N,N=b;break e}i(N,Z);break}else t(N,Z);Z=Z.sibling}M.type===ki?(b=fi(M.props.children,N.mode,z,M.key),b.return=N,N=b):(z=ma(M.type,M.key,M.props,null,N.mode,z),z.ref=ks(N,b,M),z.return=N,N=z)}return g(N);case Di:e:{for(Z=M.key;b!==null;){if(b.key===Z)if(b.tag===4&&b.stateNode.containerInfo===M.containerInfo&&b.stateNode.implementation===M.implementation){i(N,b.sibling),b=c(b,M.children||[]),b.return=N,N=b;break e}else{i(N,b);break}else t(N,b);b=b.sibling}b=nc(M,N.mode,z),b.return=N,N=b}return g(N);case Or:return Z=M._init,U(N,b,Z(M._payload),z)}if(zs(M))return B(N,b,M,z);if(_s(M))return O(N,b,M,z);$o(N,M)}return typeof M=="string"&&M!==""||typeof M=="number"?(M=""+M,b!==null&&b.tag===6?(i(N,b.sibling),b=c(b,M),b.return=N,N=b):(i(N,b),b=tc(M,N.mode,z),b.return=N,N=b),g(N)):i(N,b)}return U}var ts=P0(!0),B0=P0(!1),Oa=Kr(null),Da=null,Vi=null,Ou=null;function Du(){Ou=Vi=Da=null}function ku(e){var t=Oa.current;$e(Oa),e._currentValue=t}function Pc(e,t,i){for(;e!==null;){var o=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,o!==null&&(o.childLanes|=t)):o!==null&&(o.childLanes&t)!==t&&(o.childLanes|=t),e===i)break;e=e.return}}function Ki(e,t){Da=e,Ou=Vi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(nn=!0),e.firstContext=null)}function _n(e){var t=e._currentValue;if(Ou!==e)if(e={context:e,memoizedValue:t,next:null},Vi===null){if(Da===null)throw Error(K(308));Vi=e,Da.dependencies={lanes:0,firstContext:e}}else Vi=Vi.next=e;return t}var li=null;function Lu(e){li===null?li=[e]:li.push(e)}function F0(e,t,i,o){var c=t.interleaved;return c===null?(i.next=i,Lu(t)):(i.next=c.next,c.next=i),t.interleaved=i,xr(e,o)}function xr(e,t){e.lanes|=t;var i=e.alternate;for(i!==null&&(i.lanes|=t),i=e,e=e.return;e!==null;)e.childLanes|=t,i=e.alternate,i!==null&&(i.childLanes|=t),i=e,e=e.return;return i.tag===3?i.stateNode:null}var Dr=!1;function Pu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function j0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function hr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vr(e,t,i){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,Me&2){var c=o.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),o.pending=t,xr(e,i)}return c=o.interleaved,c===null?(t.next=t,Lu(o)):(t.next=c.next,c.next=t),o.interleaved=t,xr(e,i)}function ua(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194240)!==0)){var o=t.lanes;o&=e.pendingLanes,i|=o,t.lanes=i,Eu(e,i)}}function y1(e,t){var i=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,i===o)){var c=null,d=null;if(i=i.firstBaseUpdate,i!==null){do{var g={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};d===null?c=d=g:d=d.next=g,i=i.next}while(i!==null);d===null?c=d=t:d=d.next=t}else c=d=t;i={baseState:o.baseState,firstBaseUpdate:c,lastBaseUpdate:d,shared:o.shared,effects:o.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}function ka(e,t,i,o){var c=e.updateQueue;Dr=!1;var d=c.firstBaseUpdate,g=c.lastBaseUpdate,x=c.shared.pending;if(x!==null){c.shared.pending=null;var w=x,m=w.next;w.next=null,g===null?d=m:g.next=m,g=w;var E=e.alternate;E!==null&&(E=E.updateQueue,x=E.lastBaseUpdate,x!==g&&(x===null?E.firstBaseUpdate=m:x.next=m,E.lastBaseUpdate=w))}if(d!==null){var S=c.baseState;g=0,E=m=w=null,x=d;do{var R=x.lane,k=x.eventTime;if((o&R)===R){E!==null&&(E=E.next={eventTime:k,lane:0,tag:x.tag,payload:x.payload,callback:x.callback,next:null});e:{var B=e,O=x;switch(R=t,k=i,O.tag){case 1:if(B=O.payload,typeof B=="function"){S=B.call(k,S,R);break e}S=B;break e;case 3:B.flags=B.flags&-65537|128;case 0:if(B=O.payload,R=typeof B=="function"?B.call(k,S,R):B,R==null)break e;S=at({},S,R);break e;case 2:Dr=!0}}x.callback!==null&&x.lane!==0&&(e.flags|=64,R=c.effects,R===null?c.effects=[x]:R.push(x))}else k={eventTime:k,lane:R,tag:x.tag,payload:x.payload,callback:x.callback,next:null},E===null?(m=E=k,w=S):E=E.next=k,g|=R;if(x=x.next,x===null){if(x=c.shared.pending,x===null)break;R=x,x=R.next,R.next=null,c.lastBaseUpdate=R,c.shared.pending=null}}while(1);if(E===null&&(w=S),c.baseState=w,c.firstBaseUpdate=m,c.lastBaseUpdate=E,t=c.shared.interleaved,t!==null){c=t;do g|=c.lane,c=c.next;while(c!==t)}else d===null&&(c.shared.lanes=0);mi|=g,e.lanes=g,e.memoizedState=S}}function C1(e,t,i){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var o=e[t],c=o.callback;if(c!==null){if(o.callback=null,o=i,typeof c!="function")throw Error(K(191,c));c.call(o)}}}var vo={},rr=Kr(vo),uo=Kr(vo),fo=Kr(vo);function ci(e){if(e===vo)throw Error(K(174));return e}function Bu(e,t){switch(Xe(fo,t),Xe(uo,e),Xe(rr,vo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:mc(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=mc(t,e)}$e(rr),Xe(rr,t)}function ns(){$e(rr),$e(uo),$e(fo)}function U0(e){ci(fo.current);var t=ci(rr.current),i=mc(t,e.type);t!==i&&(Xe(uo,e),Xe(rr,i))}function Fu(e){uo.current===e&&($e(rr),$e(uo))}var it=Kr(0);function La(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Zl=[];function ju(){for(var e=0;e<Zl.length;e++)Zl[e]._workInProgressVersionPrimary=null;Zl.length=0}var da=Cr.ReactCurrentDispatcher,Kl=Cr.ReactCurrentBatchConfig,pi=0,st=null,Ct=null,It=null,Pa=!1,Zs=!1,ho=0,ex=0;function Ft(){throw Error(K(321))}function Uu(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!Hn(e[i],t[i]))return!1;return!0}function zu(e,t,i,o,c,d){if(pi=d,st=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,da.current=e===null||e.memoizedState===null?ix:sx,e=i(o,c),Zs){d=0;do{if(Zs=!1,ho=0,25<=d)throw Error(K(301));d+=1,It=Ct=null,t.updateQueue=null,da.current=ox,e=i(o,c)}while(Zs)}if(da.current=Ba,t=Ct!==null&&Ct.next!==null,pi=0,It=Ct=st=null,Pa=!1,t)throw Error(K(300));return e}function Vu(){var e=ho!==0;return ho=0,e}function Jn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?st.memoizedState=It=e:It=It.next=e,It}function Mn(){if(Ct===null){var e=st.alternate;e=e!==null?e.memoizedState:null}else e=Ct.next;var t=It===null?st.memoizedState:It.next;if(t!==null)It=t,Ct=e;else{if(e===null)throw Error(K(310));Ct=e,e={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},It===null?st.memoizedState=It=e:It=It.next=e}return It}function go(e,t){return typeof t=="function"?t(e):t}function ql(e){var t=Mn(),i=t.queue;if(i===null)throw Error(K(311));i.lastRenderedReducer=e;var o=Ct,c=o.baseQueue,d=i.pending;if(d!==null){if(c!==null){var g=c.next;c.next=d.next,d.next=g}o.baseQueue=c=d,i.pending=null}if(c!==null){d=c.next,o=o.baseState;var x=g=null,w=null,m=d;do{var E=m.lane;if((pi&E)===E)w!==null&&(w=w.next={lane:0,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null}),o=m.hasEagerState?m.eagerState:e(o,m.action);else{var S={lane:E,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null};w===null?(x=w=S,g=o):w=w.next=S,st.lanes|=E,mi|=E}m=m.next}while(m!==null&&m!==d);w===null?g=o:w.next=x,Hn(o,t.memoizedState)||(nn=!0),t.memoizedState=o,t.baseState=g,t.baseQueue=w,i.lastRenderedState=o}if(e=i.interleaved,e!==null){c=e;do d=c.lane,st.lanes|=d,mi|=d,c=c.next;while(c!==e)}else c===null&&(i.lanes=0);return[t.memoizedState,i.dispatch]}function $l(e){var t=Mn(),i=t.queue;if(i===null)throw Error(K(311));i.lastRenderedReducer=e;var o=i.dispatch,c=i.pending,d=t.memoizedState;if(c!==null){i.pending=null;var g=c=c.next;do d=e(d,g.action),g=g.next;while(g!==c);Hn(d,t.memoizedState)||(nn=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),i.lastRenderedState=d}return[d,o]}function z0(){}function V0(e,t){var i=st,o=Mn(),c=t(),d=!Hn(o.memoizedState,c);if(d&&(o.memoizedState=c,nn=!0),o=o.queue,Hu(G0.bind(null,i,o,e),[e]),o.getSnapshot!==t||d||It!==null&&It.memoizedState.tag&1){if(i.flags|=2048,po(9,W0.bind(null,i,o,c,t),void 0,null),Nt===null)throw Error(K(349));pi&30||H0(i,t,c)}return c}function H0(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=st.updateQueue,t===null?(t={lastEffect:null,stores:null},st.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function W0(e,t,i,o){t.value=i,t.getSnapshot=o,Y0(t)&&X0(e)}function G0(e,t,i){return i(function(){Y0(t)&&X0(e)})}function Y0(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!Hn(e,i)}catch{return!0}}function X0(e){var t=xr(e,1);t!==null&&Vn(t,e,1,-1)}function E1(e){var t=Jn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:go,lastRenderedState:e},t.queue=e,e=e.dispatch=rx.bind(null,st,e),[t.memoizedState,e]}function po(e,t,i,o){return e={tag:e,create:t,destroy:i,deps:o,next:null},t=st.updateQueue,t===null?(t={lastEffect:null,stores:null},st.updateQueue=t,t.lastEffect=e.next=e):(i=t.lastEffect,i===null?t.lastEffect=e.next=e:(o=i.next,i.next=e,e.next=o,t.lastEffect=e)),e}function Q0(){return Mn().memoizedState}function fa(e,t,i,o){var c=Jn();st.flags|=e,c.memoizedState=po(1|t,i,void 0,o===void 0?null:o)}function el(e,t,i,o){var c=Mn();o=o===void 0?null:o;var d=void 0;if(Ct!==null){var g=Ct.memoizedState;if(d=g.destroy,o!==null&&Uu(o,g.deps)){c.memoizedState=po(t,i,d,o);return}}st.flags|=e,c.memoizedState=po(1|t,i,d,o)}function v1(e,t){return fa(8390656,8,e,t)}function Hu(e,t){return el(2048,8,e,t)}function Z0(e,t){return el(4,2,e,t)}function K0(e,t){return el(4,4,e,t)}function q0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function $0(e,t,i){return i=i!=null?i.concat([e]):null,el(4,4,q0.bind(null,t,e),i)}function Wu(){}function J0(e,t){var i=Mn();t=t===void 0?null:t;var o=i.memoizedState;return o!==null&&t!==null&&Uu(t,o[1])?o[0]:(i.memoizedState=[e,t],e)}function eh(e,t){var i=Mn();t=t===void 0?null:t;var o=i.memoizedState;return o!==null&&t!==null&&Uu(t,o[1])?o[0]:(e=e(),i.memoizedState=[e,t],e)}function th(e,t,i){return pi&21?(Hn(i,t)||(i=o0(),st.lanes|=i,mi|=i,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,nn=!0),e.memoizedState=i)}function tx(e,t){var i=Be;Be=i!==0&&4>i?i:4,e(!0);var o=Kl.transition;Kl.transition={};try{e(!1),t()}finally{Be=i,Kl.transition=o}}function nh(){return Mn().memoizedState}function nx(e,t,i){var o=Wr(e);if(i={lane:o,action:i,hasEagerState:!1,eagerState:null,next:null},rh(e))ih(t,i);else if(i=F0(e,t,i,o),i!==null){var c=Yt();Vn(i,e,o,c),sh(i,t,o)}}function rx(e,t,i){var o=Wr(e),c={lane:o,action:i,hasEagerState:!1,eagerState:null,next:null};if(rh(e))ih(t,c);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var g=t.lastRenderedState,x=d(g,i);if(c.hasEagerState=!0,c.eagerState=x,Hn(x,g)){var w=t.interleaved;w===null?(c.next=c,Lu(t)):(c.next=w.next,w.next=c),t.interleaved=c;return}}catch{}finally{}i=F0(e,t,c,o),i!==null&&(c=Yt(),Vn(i,e,o,c),sh(i,t,o))}}function rh(e){var t=e.alternate;return e===st||t!==null&&t===st}function ih(e,t){Zs=Pa=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function sh(e,t,i){if(i&4194240){var o=t.lanes;o&=e.pendingLanes,i|=o,t.lanes=i,Eu(e,i)}}var Ba={readContext:_n,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useInsertionEffect:Ft,useLayoutEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useMutableSource:Ft,useSyncExternalStore:Ft,useId:Ft,unstable_isNewReconciler:!1},ix={readContext:_n,useCallback:function(e,t){return Jn().memoizedState=[e,t===void 0?null:t],e},useContext:_n,useEffect:v1,useImperativeHandle:function(e,t,i){return i=i!=null?i.concat([e]):null,fa(4194308,4,q0.bind(null,t,e),i)},useLayoutEffect:function(e,t){return fa(4194308,4,e,t)},useInsertionEffect:function(e,t){return fa(4,2,e,t)},useMemo:function(e,t){var i=Jn();return t=t===void 0?null:t,e=e(),i.memoizedState=[e,t],e},useReducer:function(e,t,i){var o=Jn();return t=i!==void 0?i(t):t,o.memoizedState=o.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},o.queue=e,e=e.dispatch=nx.bind(null,st,e),[o.memoizedState,e]},useRef:function(e){var t=Jn();return e={current:e},t.memoizedState=e},useState:E1,useDebugValue:Wu,useDeferredValue:function(e){return Jn().memoizedState=e},useTransition:function(){var e=E1(!1),t=e[0];return e=tx.bind(null,e[1]),Jn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,i){var o=st,c=Jn();if(et){if(i===void 0)throw Error(K(407));i=i()}else{if(i=t(),Nt===null)throw Error(K(349));pi&30||H0(o,t,i)}c.memoizedState=i;var d={value:i,getSnapshot:t};return c.queue=d,v1(G0.bind(null,o,d,e),[e]),o.flags|=2048,po(9,W0.bind(null,o,d,i,t),void 0,null),i},useId:function(){var e=Jn(),t=Nt.identifierPrefix;if(et){var i=dr,o=ur;i=(o&~(1<<32-zn(o)-1)).toString(32)+i,t=":"+t+"R"+i,i=ho++,0<i&&(t+="H"+i.toString(32)),t+=":"}else i=ex++,t=":"+t+"r"+i.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},sx={readContext:_n,useCallback:J0,useContext:_n,useEffect:Hu,useImperativeHandle:$0,useInsertionEffect:Z0,useLayoutEffect:K0,useMemo:eh,useReducer:ql,useRef:Q0,useState:function(){return ql(go)},useDebugValue:Wu,useDeferredValue:function(e){var t=Mn();return th(t,Ct.memoizedState,e)},useTransition:function(){var e=ql(go)[0],t=Mn().memoizedState;return[e,t]},useMutableSource:z0,useSyncExternalStore:V0,useId:nh,unstable_isNewReconciler:!1},ox={readContext:_n,useCallback:J0,useContext:_n,useEffect:Hu,useImperativeHandle:$0,useInsertionEffect:Z0,useLayoutEffect:K0,useMemo:eh,useReducer:$l,useRef:Q0,useState:function(){return $l(go)},useDebugValue:Wu,useDeferredValue:function(e){var t=Mn();return Ct===null?t.memoizedState=e:th(t,Ct.memoizedState,e)},useTransition:function(){var e=$l(go)[0],t=Mn().memoizedState;return[e,t]},useMutableSource:z0,useSyncExternalStore:V0,useId:nh,unstable_isNewReconciler:!1};function Bn(e,t){if(e&&e.defaultProps){t=at({},t),e=e.defaultProps;for(var i in e)t[i]===void 0&&(t[i]=e[i]);return t}return t}function Bc(e,t,i,o){t=e.memoizedState,i=i(o,t),i=i==null?t:at({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var tl={isMounted:function(e){return(e=e._reactInternals)?yi(e)===e:!1},enqueueSetState:function(e,t,i){e=e._reactInternals;var o=Yt(),c=Wr(e),d=hr(o,c);d.payload=t,i!=null&&(d.callback=i),t=Vr(e,d,c),t!==null&&(Vn(t,e,c,o),ua(t,e,c))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var o=Yt(),c=Wr(e),d=hr(o,c);d.tag=1,d.payload=t,i!=null&&(d.callback=i),t=Vr(e,d,c),t!==null&&(Vn(t,e,c,o),ua(t,e,c))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=Yt(),o=Wr(e),c=hr(i,o);c.tag=2,t!=null&&(c.callback=t),t=Vr(e,c,o),t!==null&&(Vn(t,e,o,i),ua(t,e,o))}};function A1(e,t,i,o,c,d,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,d,g):t.prototype&&t.prototype.isPureReactComponent?!oo(i,o)||!oo(c,d):!0}function oh(e,t,i){var o=!1,c=Xr,d=t.contextType;return typeof d=="object"&&d!==null?d=_n(d):(c=on(t)?hi:zt.current,o=t.contextTypes,d=(o=o!=null)?Ji(e,c):Xr),t=new t(i,d),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=tl,e.stateNode=t,t._reactInternals=e,o&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=c,e.__reactInternalMemoizedMaskedChildContext=d),t}function S1(e,t,i,o){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,o),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,o),t.state!==e&&tl.enqueueReplaceState(t,t.state,null)}function Fc(e,t,i,o){var c=e.stateNode;c.props=i,c.state=e.memoizedState,c.refs={},Pu(e);var d=t.contextType;typeof d=="object"&&d!==null?c.context=_n(d):(d=on(t)?hi:zt.current,c.context=Ji(e,d)),c.state=e.memoizedState,d=t.getDerivedStateFromProps,typeof d=="function"&&(Bc(e,t,d,i),c.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(t=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),t!==c.state&&tl.enqueueReplaceState(c,c.state,null),ka(e,i,c,o),c.state=e.memoizedState),typeof c.componentDidMount=="function"&&(e.flags|=4194308)}function rs(e,t){try{var i="",o=t;do i+=kp(o),o=o.return;while(o);var c=i}catch(d){c=`
Error generating stack: `+d.message+`
`+d.stack}return{value:e,source:t,stack:c,digest:null}}function Jl(e,t,i){return{value:e,source:null,stack:i??null,digest:t??null}}function jc(e,t){try{console.error(t.value)}catch(i){setTimeout(function(){throw i})}}var ax=typeof WeakMap=="function"?WeakMap:Map;function ah(e,t,i){i=hr(-1,i),i.tag=3,i.payload={element:null};var o=t.value;return i.callback=function(){ja||(ja=!0,Zc=o),jc(e,t)},i}function lh(e,t,i){i=hr(-1,i),i.tag=3;var o=e.type.getDerivedStateFromError;if(typeof o=="function"){var c=t.value;i.payload=function(){return o(c)},i.callback=function(){jc(e,t)}}var d=e.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(i.callback=function(){jc(e,t),typeof o!="function"&&(Hr===null?Hr=new Set([this]):Hr.add(this));var g=t.stack;this.componentDidCatch(t.value,{componentStack:g!==null?g:""})}),i}function I1(e,t,i){var o=e.pingCache;if(o===null){o=e.pingCache=new ax;var c=new Set;o.set(t,c)}else c=o.get(t),c===void 0&&(c=new Set,o.set(t,c));c.has(i)||(c.add(i),e=Ex.bind(null,e,t,i),t.then(e,e))}function N1(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function T1(e,t,i,o,c){return e.mode&1?(e.flags|=65536,e.lanes=c,e):(e===t?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(t=hr(-1,1),t.tag=2,Vr(i,t,1))),i.lanes|=1),e)}var lx=Cr.ReactCurrentOwner,nn=!1;function Gt(e,t,i,o){t.child=e===null?B0(t,null,i,o):ts(t,e.child,i,o)}function b1(e,t,i,o,c){i=i.render;var d=t.ref;return Ki(t,c),o=zu(e,t,i,o,d,c),i=Vu(),e!==null&&!nn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~c,wr(e,t,c)):(et&&i&&_u(t),t.flags|=1,Gt(e,t,o,c),t.child)}function _1(e,t,i,o,c){if(e===null){var d=i.type;return typeof d=="function"&&!$u(d)&&d.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(t.tag=15,t.type=d,ch(e,t,d,o,c)):(e=ma(i.type,null,o,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!(e.lanes&c)){var g=d.memoizedProps;if(i=i.compare,i=i!==null?i:oo,i(g,o)&&e.ref===t.ref)return wr(e,t,c)}return t.flags|=1,e=Gr(d,o),e.ref=t.ref,e.return=t,t.child=e}function ch(e,t,i,o,c){if(e!==null){var d=e.memoizedProps;if(oo(d,o)&&e.ref===t.ref)if(nn=!1,t.pendingProps=o=d,(e.lanes&c)!==0)e.flags&131072&&(nn=!0);else return t.lanes=e.lanes,wr(e,t,c)}return Uc(e,t,i,o,c)}function uh(e,t,i){var o=t.pendingProps,c=o.children,d=e!==null?e.memoizedState:null;if(o.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xe(Wi,dn),dn|=i;else{if(!(i&1073741824))return e=d!==null?d.baseLanes|i:i,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Xe(Wi,dn),dn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=d!==null?d.baseLanes:i,Xe(Wi,dn),dn|=o}else d!==null?(o=d.baseLanes|i,t.memoizedState=null):o=i,Xe(Wi,dn),dn|=o;return Gt(e,t,c,i),t.child}function dh(e,t){var i=t.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(t.flags|=512,t.flags|=2097152)}function Uc(e,t,i,o,c){var d=on(i)?hi:zt.current;return d=Ji(t,d),Ki(t,c),i=zu(e,t,i,o,d,c),o=Vu(),e!==null&&!nn?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~c,wr(e,t,c)):(et&&o&&_u(t),t.flags|=1,Gt(e,t,i,c),t.child)}function M1(e,t,i,o,c){if(on(i)){var d=!0;_a(t)}else d=!1;if(Ki(t,c),t.stateNode===null)ha(e,t),oh(t,i,o),Fc(t,i,o,c),o=!0;else if(e===null){var g=t.stateNode,x=t.memoizedProps;g.props=x;var w=g.context,m=i.contextType;typeof m=="object"&&m!==null?m=_n(m):(m=on(i)?hi:zt.current,m=Ji(t,m));var E=i.getDerivedStateFromProps,S=typeof E=="function"||typeof g.getSnapshotBeforeUpdate=="function";S||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(x!==o||w!==m)&&S1(t,g,o,m),Dr=!1;var R=t.memoizedState;g.state=R,ka(t,o,g,c),w=t.memoizedState,x!==o||R!==w||sn.current||Dr?(typeof E=="function"&&(Bc(t,i,E,o),w=t.memoizedState),(x=Dr||A1(t,i,x,o,R,w,m))?(S||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(t.flags|=4194308)):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=o,t.memoizedState=w),g.props=o,g.state=w,g.context=m,o=x):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),o=!1)}else{g=t.stateNode,j0(e,t),x=t.memoizedProps,m=t.type===t.elementType?x:Bn(t.type,x),g.props=m,S=t.pendingProps,R=g.context,w=i.contextType,typeof w=="object"&&w!==null?w=_n(w):(w=on(i)?hi:zt.current,w=Ji(t,w));var k=i.getDerivedStateFromProps;(E=typeof k=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(x!==S||R!==w)&&S1(t,g,o,w),Dr=!1,R=t.memoizedState,g.state=R,ka(t,o,g,c);var B=t.memoizedState;x!==S||R!==B||sn.current||Dr?(typeof k=="function"&&(Bc(t,i,k,o),B=t.memoizedState),(m=Dr||A1(t,i,m,o,R,B,w)||!1)?(E||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(o,B,w),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(o,B,w)),typeof g.componentDidUpdate=="function"&&(t.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof g.componentDidUpdate!="function"||x===e.memoizedProps&&R===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&R===e.memoizedState||(t.flags|=1024),t.memoizedProps=o,t.memoizedState=B),g.props=o,g.state=B,g.context=w,o=m):(typeof g.componentDidUpdate!="function"||x===e.memoizedProps&&R===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&R===e.memoizedState||(t.flags|=1024),o=!1)}return zc(e,t,i,o,d,c)}function zc(e,t,i,o,c,d){dh(e,t);var g=(t.flags&128)!==0;if(!o&&!g)return c&&p1(t,i,!1),wr(e,t,d);o=t.stateNode,lx.current=t;var x=g&&typeof i.getDerivedStateFromError!="function"?null:o.render();return t.flags|=1,e!==null&&g?(t.child=ts(t,e.child,null,d),t.child=ts(t,null,x,d)):Gt(e,t,x,d),t.memoizedState=o.state,c&&p1(t,i,!0),t.child}function fh(e){var t=e.stateNode;t.pendingContext?g1(e,t.pendingContext,t.pendingContext!==t.context):t.context&&g1(e,t.context,!1),Bu(e,t.containerInfo)}function R1(e,t,i,o,c){return es(),Ru(c),t.flags|=256,Gt(e,t,i,o),t.child}var Vc={dehydrated:null,treeContext:null,retryLane:0};function Hc(e){return{baseLanes:e,cachePool:null,transitions:null}}function hh(e,t,i){var o=t.pendingProps,c=it.current,d=!1,g=(t.flags&128)!==0,x;if((x=g)||(x=e!==null&&e.memoizedState===null?!1:(c&2)!==0),x?(d=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(c|=1),Xe(it,c&1),e===null)return Lc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(g=o.children,e=o.fallback,d?(o=t.mode,d=t.child,g={mode:"hidden",children:g},!(o&1)&&d!==null?(d.childLanes=0,d.pendingProps=g):d=il(g,o,0,null),e=fi(e,o,i,null),d.return=t,e.return=t,d.sibling=e,t.child=d,t.child.memoizedState=Hc(i),t.memoizedState=Vc,e):Gu(t,g));if(c=e.memoizedState,c!==null&&(x=c.dehydrated,x!==null))return cx(e,t,g,o,x,c,i);if(d){d=o.fallback,g=t.mode,c=e.child,x=c.sibling;var w={mode:"hidden",children:o.children};return!(g&1)&&t.child!==c?(o=t.child,o.childLanes=0,o.pendingProps=w,t.deletions=null):(o=Gr(c,w),o.subtreeFlags=c.subtreeFlags&14680064),x!==null?d=Gr(x,d):(d=fi(d,g,i,null),d.flags|=2),d.return=t,o.return=t,o.sibling=d,t.child=o,o=d,d=t.child,g=e.child.memoizedState,g=g===null?Hc(i):{baseLanes:g.baseLanes|i,cachePool:null,transitions:g.transitions},d.memoizedState=g,d.childLanes=e.childLanes&~i,t.memoizedState=Vc,o}return d=e.child,e=d.sibling,o=Gr(d,{mode:"visible",children:o.children}),!(t.mode&1)&&(o.lanes=i),o.return=t,o.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=o,t.memoizedState=null,o}function Gu(e,t){return t=il({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Jo(e,t,i,o){return o!==null&&Ru(o),ts(t,e.child,null,i),e=Gu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function cx(e,t,i,o,c,d,g){if(i)return t.flags&256?(t.flags&=-257,o=Jl(Error(K(422))),Jo(e,t,g,o)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(d=o.fallback,c=t.mode,o=il({mode:"visible",children:o.children},c,0,null),d=fi(d,c,g,null),d.flags|=2,o.return=t,d.return=t,o.sibling=d,t.child=o,t.mode&1&&ts(t,e.child,null,g),t.child.memoizedState=Hc(g),t.memoizedState=Vc,d);if(!(t.mode&1))return Jo(e,t,g,null);if(c.data==="$!"){if(o=c.nextSibling&&c.nextSibling.dataset,o)var x=o.dgst;return o=x,d=Error(K(419)),o=Jl(d,o,void 0),Jo(e,t,g,o)}if(x=(g&e.childLanes)!==0,nn||x){if(o=Nt,o!==null){switch(g&-g){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=c&(o.suspendedLanes|g)?0:c,c!==0&&c!==d.retryLane&&(d.retryLane=c,xr(e,c),Vn(o,e,c,-1))}return qu(),o=Jl(Error(K(421))),Jo(e,t,g,o)}return c.data==="$?"?(t.flags|=128,t.child=e.child,t=vx.bind(null,e),c._reactRetry=t,null):(e=d.treeContext,hn=zr(c.nextSibling),gn=t,et=!0,Un=null,e!==null&&(An[Sn++]=ur,An[Sn++]=dr,An[Sn++]=gi,ur=e.id,dr=e.overflow,gi=t),t=Gu(t,o.children),t.flags|=4096,t)}function O1(e,t,i){e.lanes|=t;var o=e.alternate;o!==null&&(o.lanes|=t),Pc(e.return,t,i)}function ec(e,t,i,o,c){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:o,tail:i,tailMode:c}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=o,d.tail=i,d.tailMode=c)}function gh(e,t,i){var o=t.pendingProps,c=o.revealOrder,d=o.tail;if(Gt(e,t,o.children,i),o=it.current,o&2)o=o&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&O1(e,i,t);else if(e.tag===19)O1(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}if(Xe(it,o),!(t.mode&1))t.memoizedState=null;else switch(c){case"forwards":for(i=t.child,c=null;i!==null;)e=i.alternate,e!==null&&La(e)===null&&(c=i),i=i.sibling;i=c,i===null?(c=t.child,t.child=null):(c=i.sibling,i.sibling=null),ec(t,!1,c,i,d);break;case"backwards":for(i=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&La(e)===null){t.child=c;break}e=c.sibling,c.sibling=i,i=c,c=e}ec(t,!0,i,null,d);break;case"together":ec(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ha(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function wr(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),mi|=t.lanes,!(i&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(K(153));if(t.child!==null){for(e=t.child,i=Gr(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=Gr(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function ux(e,t,i){switch(t.tag){case 3:fh(t),es();break;case 5:U0(t);break;case 1:on(t.type)&&_a(t);break;case 4:Bu(t,t.stateNode.containerInfo);break;case 10:var o=t.type._context,c=t.memoizedProps.value;Xe(Oa,o._currentValue),o._currentValue=c;break;case 13:if(o=t.memoizedState,o!==null)return o.dehydrated!==null?(Xe(it,it.current&1),t.flags|=128,null):i&t.child.childLanes?hh(e,t,i):(Xe(it,it.current&1),e=wr(e,t,i),e!==null?e.sibling:null);Xe(it,it.current&1);break;case 19:if(o=(i&t.childLanes)!==0,e.flags&128){if(o)return gh(e,t,i);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Xe(it,it.current),o)break;return null;case 22:case 23:return t.lanes=0,uh(e,t,i)}return wr(e,t,i)}var ph,Wc,mh,xh;ph=function(e,t){for(var i=t.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};Wc=function(){};mh=function(e,t,i,o){var c=e.memoizedProps;if(c!==o){e=t.stateNode,ci(rr.current);var d=null;switch(i){case"input":c=fc(e,c),o=fc(e,o),d=[];break;case"select":c=at({},c,{value:void 0}),o=at({},o,{value:void 0}),d=[];break;case"textarea":c=pc(e,c),o=pc(e,o),d=[];break;default:typeof c.onClick!="function"&&typeof o.onClick=="function"&&(e.onclick=Ta)}xc(i,o);var g;i=null;for(m in c)if(!o.hasOwnProperty(m)&&c.hasOwnProperty(m)&&c[m]!=null)if(m==="style"){var x=c[m];for(g in x)x.hasOwnProperty(g)&&(i||(i={}),i[g]="")}else m!=="dangerouslySetInnerHTML"&&m!=="children"&&m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(Js.hasOwnProperty(m)?d||(d=[]):(d=d||[]).push(m,null));for(m in o){var w=o[m];if(x=c!=null?c[m]:void 0,o.hasOwnProperty(m)&&w!==x&&(w!=null||x!=null))if(m==="style")if(x){for(g in x)!x.hasOwnProperty(g)||w&&w.hasOwnProperty(g)||(i||(i={}),i[g]="");for(g in w)w.hasOwnProperty(g)&&x[g]!==w[g]&&(i||(i={}),i[g]=w[g])}else i||(d||(d=[]),d.push(m,i)),i=w;else m==="dangerouslySetInnerHTML"?(w=w?w.__html:void 0,x=x?x.__html:void 0,w!=null&&x!==w&&(d=d||[]).push(m,w)):m==="children"?typeof w!="string"&&typeof w!="number"||(d=d||[]).push(m,""+w):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&(Js.hasOwnProperty(m)?(w!=null&&m==="onScroll"&&Ke("scroll",e),d||x===w||(d=[])):(d=d||[]).push(m,w))}i&&(d=d||[]).push("style",i);var m=d;(t.updateQueue=m)&&(t.flags|=4)}};xh=function(e,t,i,o){i!==o&&(t.flags|=4)};function Ls(e,t){if(!et)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var o=null;i!==null;)i.alternate!==null&&(o=i),i=i.sibling;o===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function jt(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,o=0;if(t)for(var c=e.child;c!==null;)i|=c.lanes|c.childLanes,o|=c.subtreeFlags&14680064,o|=c.flags&14680064,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)i|=c.lanes|c.childLanes,o|=c.subtreeFlags,o|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=o,e.childLanes=i,t}function dx(e,t,i){var o=t.pendingProps;switch(Mu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(t),null;case 1:return on(t.type)&&ba(),jt(t),null;case 3:return o=t.stateNode,ns(),$e(sn),$e(zt),ju(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(qo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Un!==null&&($c(Un),Un=null))),Wc(e,t),jt(t),null;case 5:Fu(t);var c=ci(fo.current);if(i=t.type,e!==null&&t.stateNode!=null)mh(e,t,i,o,c),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(t.stateNode===null)throw Error(K(166));return jt(t),null}if(e=ci(rr.current),qo(t)){o=t.stateNode,i=t.type;var d=t.memoizedProps;switch(o[tr]=t,o[co]=d,e=(t.mode&1)!==0,i){case"dialog":Ke("cancel",o),Ke("close",o);break;case"iframe":case"object":case"embed":Ke("load",o);break;case"video":case"audio":for(c=0;c<Hs.length;c++)Ke(Hs[c],o);break;case"source":Ke("error",o);break;case"img":case"image":case"link":Ke("error",o),Ke("load",o);break;case"details":Ke("toggle",o);break;case"input":zd(o,d),Ke("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!d.multiple},Ke("invalid",o);break;case"textarea":Hd(o,d),Ke("invalid",o)}xc(i,d),c=null;for(var g in d)if(d.hasOwnProperty(g)){var x=d[g];g==="children"?typeof x=="string"?o.textContent!==x&&(d.suppressHydrationWarning!==!0&&Ko(o.textContent,x,e),c=["children",x]):typeof x=="number"&&o.textContent!==""+x&&(d.suppressHydrationWarning!==!0&&Ko(o.textContent,x,e),c=["children",""+x]):Js.hasOwnProperty(g)&&x!=null&&g==="onScroll"&&Ke("scroll",o)}switch(i){case"input":Vo(o),Vd(o,d,!0);break;case"textarea":Vo(o),Wd(o);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(o.onclick=Ta)}o=c,t.updateQueue=o,o!==null&&(t.flags|=4)}else{g=c.nodeType===9?c:c.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Gf(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=g.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof o.is=="string"?e=g.createElement(i,{is:o.is}):(e=g.createElement(i),i==="select"&&(g=e,o.multiple?g.multiple=!0:o.size&&(g.size=o.size))):e=g.createElementNS(e,i),e[tr]=t,e[co]=o,ph(e,t,!1,!1),t.stateNode=e;e:{switch(g=wc(i,o),i){case"dialog":Ke("cancel",e),Ke("close",e),c=o;break;case"iframe":case"object":case"embed":Ke("load",e),c=o;break;case"video":case"audio":for(c=0;c<Hs.length;c++)Ke(Hs[c],e);c=o;break;case"source":Ke("error",e),c=o;break;case"img":case"image":case"link":Ke("error",e),Ke("load",e),c=o;break;case"details":Ke("toggle",e),c=o;break;case"input":zd(e,o),c=fc(e,o),Ke("invalid",e);break;case"option":c=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},c=at({},o,{value:void 0}),Ke("invalid",e);break;case"textarea":Hd(e,o),c=pc(e,o),Ke("invalid",e);break;default:c=o}xc(i,c),x=c;for(d in x)if(x.hasOwnProperty(d)){var w=x[d];d==="style"?Qf(e,w):d==="dangerouslySetInnerHTML"?(w=w?w.__html:void 0,w!=null&&Yf(e,w)):d==="children"?typeof w=="string"?(i!=="textarea"||w!=="")&&eo(e,w):typeof w=="number"&&eo(e,""+w):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Js.hasOwnProperty(d)?w!=null&&d==="onScroll"&&Ke("scroll",e):w!=null&&pu(e,d,w,g))}switch(i){case"input":Vo(e),Vd(e,o,!1);break;case"textarea":Vo(e),Wd(e);break;case"option":o.value!=null&&e.setAttribute("value",""+Yr(o.value));break;case"select":e.multiple=!!o.multiple,d=o.value,d!=null?Yi(e,!!o.multiple,d,!1):o.defaultValue!=null&&Yi(e,!!o.multiple,o.defaultValue,!0);break;default:typeof c.onClick=="function"&&(e.onclick=Ta)}switch(i){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return jt(t),null;case 6:if(e&&t.stateNode!=null)xh(e,t,e.memoizedProps,o);else{if(typeof o!="string"&&t.stateNode===null)throw Error(K(166));if(i=ci(fo.current),ci(rr.current),qo(t)){if(o=t.stateNode,i=t.memoizedProps,o[tr]=t,(d=o.nodeValue!==i)&&(e=gn,e!==null))switch(e.tag){case 3:Ko(o.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ko(o.nodeValue,i,(e.mode&1)!==0)}d&&(t.flags|=4)}else o=(i.nodeType===9?i:i.ownerDocument).createTextNode(o),o[tr]=t,t.stateNode=o}return jt(t),null;case 13:if($e(it),o=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(et&&hn!==null&&t.mode&1&&!(t.flags&128))L0(),es(),t.flags|=98560,d=!1;else if(d=qo(t),o!==null&&o.dehydrated!==null){if(e===null){if(!d)throw Error(K(318));if(d=t.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(K(317));d[tr]=t}else es(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;jt(t),d=!1}else Un!==null&&($c(Un),Un=null),d=!0;if(!d)return t.flags&65536?t:null}return t.flags&128?(t.lanes=i,t):(o=o!==null,o!==(e!==null&&e.memoizedState!==null)&&o&&(t.child.flags|=8192,t.mode&1&&(e===null||it.current&1?Et===0&&(Et=3):qu())),t.updateQueue!==null&&(t.flags|=4),jt(t),null);case 4:return ns(),Wc(e,t),e===null&&ao(t.stateNode.containerInfo),jt(t),null;case 10:return ku(t.type._context),jt(t),null;case 17:return on(t.type)&&ba(),jt(t),null;case 19:if($e(it),d=t.memoizedState,d===null)return jt(t),null;if(o=(t.flags&128)!==0,g=d.rendering,g===null)if(o)Ls(d,!1);else{if(Et!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(g=La(e),g!==null){for(t.flags|=128,Ls(d,!1),o=g.updateQueue,o!==null&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=i,i=t.child;i!==null;)d=i,e=o,d.flags&=14680066,g=d.alternate,g===null?(d.childLanes=0,d.lanes=e,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=g.childLanes,d.lanes=g.lanes,d.child=g.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=g.memoizedProps,d.memoizedState=g.memoizedState,d.updateQueue=g.updateQueue,d.type=g.type,e=g.dependencies,d.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return Xe(it,it.current&1|2),t.child}e=e.sibling}d.tail!==null&&gt()>is&&(t.flags|=128,o=!0,Ls(d,!1),t.lanes=4194304)}else{if(!o)if(e=La(g),e!==null){if(t.flags|=128,o=!0,i=e.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),Ls(d,!0),d.tail===null&&d.tailMode==="hidden"&&!g.alternate&&!et)return jt(t),null}else 2*gt()-d.renderingStartTime>is&&i!==1073741824&&(t.flags|=128,o=!0,Ls(d,!1),t.lanes=4194304);d.isBackwards?(g.sibling=t.child,t.child=g):(i=d.last,i!==null?i.sibling=g:t.child=g,d.last=g)}return d.tail!==null?(t=d.tail,d.rendering=t,d.tail=t.sibling,d.renderingStartTime=gt(),t.sibling=null,i=it.current,Xe(it,o?i&1|2:i&1),t):(jt(t),null);case 22:case 23:return Ku(),o=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==o&&(t.flags|=8192),o&&t.mode&1?dn&1073741824&&(jt(t),t.subtreeFlags&6&&(t.flags|=8192)):jt(t),null;case 24:return null;case 25:return null}throw Error(K(156,t.tag))}function fx(e,t){switch(Mu(t),t.tag){case 1:return on(t.type)&&ba(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ns(),$e(sn),$e(zt),ju(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Fu(t),null;case 13:if($e(it),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(K(340));es()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return $e(it),null;case 4:return ns(),null;case 10:return ku(t.type._context),null;case 22:case 23:return Ku(),null;case 24:return null;default:return null}}var ea=!1,Ut=!1,hx=typeof WeakSet=="function"?WeakSet:Set,oe=null;function Hi(e,t){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(o){ft(e,t,o)}else i.current=null}function Gc(e,t,i){try{i()}catch(o){ft(e,t,o)}}var D1=!1;function gx(e,t){if(bc=Sa,e=v0(),bu(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var o=i.getSelection&&i.getSelection();if(o&&o.rangeCount!==0){i=o.anchorNode;var c=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{i.nodeType,d.nodeType}catch{i=null;break e}var g=0,x=-1,w=-1,m=0,E=0,S=e,R=null;t:for(;;){for(var k;S!==i||c!==0&&S.nodeType!==3||(x=g+c),S!==d||o!==0&&S.nodeType!==3||(w=g+o),S.nodeType===3&&(g+=S.nodeValue.length),(k=S.firstChild)!==null;)R=S,S=k;for(;;){if(S===e)break t;if(R===i&&++m===c&&(x=g),R===d&&++E===o&&(w=g),(k=S.nextSibling)!==null)break;S=R,R=S.parentNode}S=k}i=x===-1||w===-1?null:{start:x,end:w}}else i=null}i=i||{start:0,end:0}}else i=null;for(_c={focusedElem:e,selectionRange:i},Sa=!1,oe=t;oe!==null;)if(t=oe,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,oe=e;else for(;oe!==null;){t=oe;try{var B=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(B!==null){var O=B.memoizedProps,U=B.memoizedState,N=t.stateNode,b=N.getSnapshotBeforeUpdate(t.elementType===t.type?O:Bn(t.type,O),U);N.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var M=t.stateNode.containerInfo;M.nodeType===1?M.textContent="":M.nodeType===9&&M.documentElement&&M.removeChild(M.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(z){ft(t,t.return,z)}if(e=t.sibling,e!==null){e.return=t.return,oe=e;break}oe=t.return}return B=D1,D1=!1,B}function Ks(e,t,i){var o=t.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var c=o=o.next;do{if((c.tag&e)===e){var d=c.destroy;c.destroy=void 0,d!==void 0&&Gc(t,i,d)}c=c.next}while(c!==o)}}function nl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var i=t=t.next;do{if((i.tag&e)===e){var o=i.create;i.destroy=o()}i=i.next}while(i!==t)}}function Yc(e){var t=e.ref;if(t!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof t=="function"?t(e):t.current=e}}function wh(e){var t=e.alternate;t!==null&&(e.alternate=null,wh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[tr],delete t[co],delete t[Oc],delete t[Km],delete t[qm])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function yh(e){return e.tag===5||e.tag===3||e.tag===4}function k1(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||yh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Xc(e,t,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?i.nodeType===8?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(i.nodeType===8?(t=i.parentNode,t.insertBefore(e,i)):(t=i,t.appendChild(e)),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=Ta));else if(o!==4&&(e=e.child,e!==null))for(Xc(e,t,i),e=e.sibling;e!==null;)Xc(e,t,i),e=e.sibling}function Qc(e,t,i){var o=e.tag;if(o===5||o===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(o!==4&&(e=e.child,e!==null))for(Qc(e,t,i),e=e.sibling;e!==null;)Qc(e,t,i),e=e.sibling}var Ot=null,Fn=!1;function _r(e,t,i){for(i=i.child;i!==null;)Ch(e,t,i),i=i.sibling}function Ch(e,t,i){if(nr&&typeof nr.onCommitFiberUnmount=="function")try{nr.onCommitFiberUnmount(Qa,i)}catch{}switch(i.tag){case 5:Ut||Hi(i,t);case 6:var o=Ot,c=Fn;Ot=null,_r(e,t,i),Ot=o,Fn=c,Ot!==null&&(Fn?(e=Ot,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):Ot.removeChild(i.stateNode));break;case 18:Ot!==null&&(Fn?(e=Ot,i=i.stateNode,e.nodeType===8?Xl(e.parentNode,i):e.nodeType===1&&Xl(e,i),io(e)):Xl(Ot,i.stateNode));break;case 4:o=Ot,c=Fn,Ot=i.stateNode.containerInfo,Fn=!0,_r(e,t,i),Ot=o,Fn=c;break;case 0:case 11:case 14:case 15:if(!Ut&&(o=i.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){c=o=o.next;do{var d=c,g=d.destroy;d=d.tag,g!==void 0&&(d&2||d&4)&&Gc(i,t,g),c=c.next}while(c!==o)}_r(e,t,i);break;case 1:if(!Ut&&(Hi(i,t),o=i.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=i.memoizedProps,o.state=i.memoizedState,o.componentWillUnmount()}catch(x){ft(i,t,x)}_r(e,t,i);break;case 21:_r(e,t,i);break;case 22:i.mode&1?(Ut=(o=Ut)||i.memoizedState!==null,_r(e,t,i),Ut=o):_r(e,t,i);break;default:_r(e,t,i)}}function L1(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new hx),t.forEach(function(o){var c=Ax.bind(null,e,o);i.has(o)||(i.add(o),o.then(c,c))})}}function Ln(e,t){var i=t.deletions;if(i!==null)for(var o=0;o<i.length;o++){var c=i[o];try{var d=e,g=t,x=g;e:for(;x!==null;){switch(x.tag){case 5:Ot=x.stateNode,Fn=!1;break e;case 3:Ot=x.stateNode.containerInfo,Fn=!0;break e;case 4:Ot=x.stateNode.containerInfo,Fn=!0;break e}x=x.return}if(Ot===null)throw Error(K(160));Ch(d,g,c),Ot=null,Fn=!1;var w=c.alternate;w!==null&&(w.return=null),c.return=null}catch(m){ft(c,t,m)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Eh(t,e),t=t.sibling}function Eh(e,t){var i=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ln(t,e),$n(e),o&4){try{Ks(3,e,e.return),nl(3,e)}catch(O){ft(e,e.return,O)}try{Ks(5,e,e.return)}catch(O){ft(e,e.return,O)}}break;case 1:Ln(t,e),$n(e),o&512&&i!==null&&Hi(i,i.return);break;case 5:if(Ln(t,e),$n(e),o&512&&i!==null&&Hi(i,i.return),e.flags&32){var c=e.stateNode;try{eo(c,"")}catch(O){ft(e,e.return,O)}}if(o&4&&(c=e.stateNode,c!=null)){var d=e.memoizedProps,g=i!==null?i.memoizedProps:d,x=e.type,w=e.updateQueue;if(e.updateQueue=null,w!==null)try{x==="input"&&d.type==="radio"&&d.name!=null&&Hf(c,d),wc(x,g);var m=wc(x,d);for(g=0;g<w.length;g+=2){var E=w[g],S=w[g+1];E==="style"?Qf(c,S):E==="dangerouslySetInnerHTML"?Yf(c,S):E==="children"?eo(c,S):pu(c,E,S,m)}switch(x){case"input":hc(c,d);break;case"textarea":Wf(c,d);break;case"select":var R=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!d.multiple;var k=d.value;k!=null?Yi(c,!!d.multiple,k,!1):R!==!!d.multiple&&(d.defaultValue!=null?Yi(c,!!d.multiple,d.defaultValue,!0):Yi(c,!!d.multiple,d.multiple?[]:"",!1))}c[co]=d}catch(O){ft(e,e.return,O)}}break;case 6:if(Ln(t,e),$n(e),o&4){if(e.stateNode===null)throw Error(K(162));c=e.stateNode,d=e.memoizedProps;try{c.nodeValue=d}catch(O){ft(e,e.return,O)}}break;case 3:if(Ln(t,e),$n(e),o&4&&i!==null&&i.memoizedState.isDehydrated)try{io(t.containerInfo)}catch(O){ft(e,e.return,O)}break;case 4:Ln(t,e),$n(e);break;case 13:Ln(t,e),$n(e),c=e.child,c.flags&8192&&(d=c.memoizedState!==null,c.stateNode.isHidden=d,!d||c.alternate!==null&&c.alternate.memoizedState!==null||(Qu=gt())),o&4&&L1(e);break;case 22:if(E=i!==null&&i.memoizedState!==null,e.mode&1?(Ut=(m=Ut)||E,Ln(t,e),Ut=m):Ln(t,e),$n(e),o&8192){if(m=e.memoizedState!==null,(e.stateNode.isHidden=m)&&!E&&e.mode&1)for(oe=e,E=e.child;E!==null;){for(S=oe=E;oe!==null;){switch(R=oe,k=R.child,R.tag){case 0:case 11:case 14:case 15:Ks(4,R,R.return);break;case 1:Hi(R,R.return);var B=R.stateNode;if(typeof B.componentWillUnmount=="function"){o=R,i=R.return;try{t=o,B.props=t.memoizedProps,B.state=t.memoizedState,B.componentWillUnmount()}catch(O){ft(o,i,O)}}break;case 5:Hi(R,R.return);break;case 22:if(R.memoizedState!==null){B1(S);continue}}k!==null?(k.return=R,oe=k):B1(S)}E=E.sibling}e:for(E=null,S=e;;){if(S.tag===5){if(E===null){E=S;try{c=S.stateNode,m?(d=c.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(x=S.stateNode,w=S.memoizedProps.style,g=w!=null&&w.hasOwnProperty("display")?w.display:null,x.style.display=Xf("display",g))}catch(O){ft(e,e.return,O)}}}else if(S.tag===6){if(E===null)try{S.stateNode.nodeValue=m?"":S.memoizedProps}catch(O){ft(e,e.return,O)}}else if((S.tag!==22&&S.tag!==23||S.memoizedState===null||S===e)&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===e)break e;for(;S.sibling===null;){if(S.return===null||S.return===e)break e;E===S&&(E=null),S=S.return}E===S&&(E=null),S.sibling.return=S.return,S=S.sibling}}break;case 19:Ln(t,e),$n(e),o&4&&L1(e);break;case 21:break;default:Ln(t,e),$n(e)}}function $n(e){var t=e.flags;if(t&2){try{e:{for(var i=e.return;i!==null;){if(yh(i)){var o=i;break e}i=i.return}throw Error(K(160))}switch(o.tag){case 5:var c=o.stateNode;o.flags&32&&(eo(c,""),o.flags&=-33);var d=k1(e);Qc(e,d,c);break;case 3:case 4:var g=o.stateNode.containerInfo,x=k1(e);Xc(e,x,g);break;default:throw Error(K(161))}}catch(w){ft(e,e.return,w)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function px(e,t,i){oe=e,vh(e)}function vh(e,t,i){for(var o=(e.mode&1)!==0;oe!==null;){var c=oe,d=c.child;if(c.tag===22&&o){var g=c.memoizedState!==null||ea;if(!g){var x=c.alternate,w=x!==null&&x.memoizedState!==null||Ut;x=ea;var m=Ut;if(ea=g,(Ut=w)&&!m)for(oe=c;oe!==null;)g=oe,w=g.child,g.tag===22&&g.memoizedState!==null?F1(c):w!==null?(w.return=g,oe=w):F1(c);for(;d!==null;)oe=d,vh(d),d=d.sibling;oe=c,ea=x,Ut=m}P1(e)}else c.subtreeFlags&8772&&d!==null?(d.return=c,oe=d):P1(e)}}function P1(e){for(;oe!==null;){var t=oe;if(t.flags&8772){var i=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ut||nl(5,t);break;case 1:var o=t.stateNode;if(t.flags&4&&!Ut)if(i===null)o.componentDidMount();else{var c=t.elementType===t.type?i.memoizedProps:Bn(t.type,i.memoizedProps);o.componentDidUpdate(c,i.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var d=t.updateQueue;d!==null&&C1(t,d,o);break;case 3:var g=t.updateQueue;if(g!==null){if(i=null,t.child!==null)switch(t.child.tag){case 5:i=t.child.stateNode;break;case 1:i=t.child.stateNode}C1(t,g,i)}break;case 5:var x=t.stateNode;if(i===null&&t.flags&4){i=x;var w=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":w.autoFocus&&i.focus();break;case"img":w.src&&(i.src=w.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var m=t.alternate;if(m!==null){var E=m.memoizedState;if(E!==null){var S=E.dehydrated;S!==null&&io(S)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}Ut||t.flags&512&&Yc(t)}catch(R){ft(t,t.return,R)}}if(t===e){oe=null;break}if(i=t.sibling,i!==null){i.return=t.return,oe=i;break}oe=t.return}}function B1(e){for(;oe!==null;){var t=oe;if(t===e){oe=null;break}var i=t.sibling;if(i!==null){i.return=t.return,oe=i;break}oe=t.return}}function F1(e){for(;oe!==null;){var t=oe;try{switch(t.tag){case 0:case 11:case 15:var i=t.return;try{nl(4,t)}catch(w){ft(t,i,w)}break;case 1:var o=t.stateNode;if(typeof o.componentDidMount=="function"){var c=t.return;try{o.componentDidMount()}catch(w){ft(t,c,w)}}var d=t.return;try{Yc(t)}catch(w){ft(t,d,w)}break;case 5:var g=t.return;try{Yc(t)}catch(w){ft(t,g,w)}}}catch(w){ft(t,t.return,w)}if(t===e){oe=null;break}var x=t.sibling;if(x!==null){x.return=t.return,oe=x;break}oe=t.return}}var mx=Math.ceil,Fa=Cr.ReactCurrentDispatcher,Yu=Cr.ReactCurrentOwner,bn=Cr.ReactCurrentBatchConfig,Me=0,Nt=null,mt=null,kt=0,dn=0,Wi=Kr(0),Et=0,mo=null,mi=0,rl=0,Xu=0,qs=null,tn=null,Qu=0,is=1/0,lr=null,ja=!1,Zc=null,Hr=null,ta=!1,Br=null,Ua=0,$s=0,Kc=null,ga=-1,pa=0;function Yt(){return Me&6?gt():ga!==-1?ga:ga=gt()}function Wr(e){return e.mode&1?Me&2&&kt!==0?kt&-kt:Jm.transition!==null?(pa===0&&(pa=o0()),pa):(e=Be,e!==0||(e=window.event,e=e===void 0?16:h0(e.type)),e):1}function Vn(e,t,i,o){if(50<$s)throw $s=0,Kc=null,Error(K(185));yo(e,i,o),(!(Me&2)||e!==Nt)&&(e===Nt&&(!(Me&2)&&(rl|=i),Et===4&&Lr(e,kt)),an(e,o),i===1&&Me===0&&!(t.mode&1)&&(is=gt()+500,Ja&&qr()))}function an(e,t){var i=e.callbackNode;Jp(e,t);var o=Aa(e,e===Nt?kt:0);if(o===0)i!==null&&Xd(i),e.callbackNode=null,e.callbackPriority=0;else if(t=o&-o,e.callbackPriority!==t){if(i!=null&&Xd(i),t===1)e.tag===0?$m(j1.bind(null,e)):O0(j1.bind(null,e)),Qm(function(){!(Me&6)&&qr()}),i=null;else{switch(a0(o)){case 1:i=Cu;break;case 4:i=i0;break;case 16:i=va;break;case 536870912:i=s0;break;default:i=va}i=Mh(i,Ah.bind(null,e))}e.callbackPriority=t,e.callbackNode=i}}function Ah(e,t){if(ga=-1,pa=0,Me&6)throw Error(K(327));var i=e.callbackNode;if(qi()&&e.callbackNode!==i)return null;var o=Aa(e,e===Nt?kt:0);if(o===0)return null;if(o&30||o&e.expiredLanes||t)t=za(e,o);else{t=o;var c=Me;Me|=2;var d=Ih();(Nt!==e||kt!==t)&&(lr=null,is=gt()+500,di(e,t));do try{yx();break}catch(x){Sh(e,x)}while(1);Du(),Fa.current=d,Me=c,mt!==null?t=0:(Nt=null,kt=0,t=Et)}if(t!==0){if(t===2&&(c=Ac(e),c!==0&&(o=c,t=qc(e,c))),t===1)throw i=mo,di(e,0),Lr(e,o),an(e,gt()),i;if(t===6)Lr(e,o);else{if(c=e.current.alternate,!(o&30)&&!xx(c)&&(t=za(e,o),t===2&&(d=Ac(e),d!==0&&(o=d,t=qc(e,d))),t===1))throw i=mo,di(e,0),Lr(e,o),an(e,gt()),i;switch(e.finishedWork=c,e.finishedLanes=o,t){case 0:case 1:throw Error(K(345));case 2:oi(e,tn,lr);break;case 3:if(Lr(e,o),(o&130023424)===o&&(t=Qu+500-gt(),10<t)){if(Aa(e,0)!==0)break;if(c=e.suspendedLanes,(c&o)!==o){Yt(),e.pingedLanes|=e.suspendedLanes&c;break}e.timeoutHandle=Rc(oi.bind(null,e,tn,lr),t);break}oi(e,tn,lr);break;case 4:if(Lr(e,o),(o&4194240)===o)break;for(t=e.eventTimes,c=-1;0<o;){var g=31-zn(o);d=1<<g,g=t[g],g>c&&(c=g),o&=~d}if(o=c,o=gt()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*mx(o/1960))-o,10<o){e.timeoutHandle=Rc(oi.bind(null,e,tn,lr),o);break}oi(e,tn,lr);break;case 5:oi(e,tn,lr);break;default:throw Error(K(329))}}}return an(e,gt()),e.callbackNode===i?Ah.bind(null,e):null}function qc(e,t){var i=qs;return e.current.memoizedState.isDehydrated&&(di(e,t).flags|=256),e=za(e,t),e!==2&&(t=tn,tn=i,t!==null&&$c(t)),e}function $c(e){tn===null?tn=e:tn.push.apply(tn,e)}function xx(e){for(var t=e;;){if(t.flags&16384){var i=t.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var o=0;o<i.length;o++){var c=i[o],d=c.getSnapshot;c=c.value;try{if(!Hn(d(),c))return!1}catch{return!1}}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Lr(e,t){for(t&=~Xu,t&=~rl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var i=31-zn(t),o=1<<i;e[i]=-1,t&=~o}}function j1(e){if(Me&6)throw Error(K(327));qi();var t=Aa(e,0);if(!(t&1))return an(e,gt()),null;var i=za(e,t);if(e.tag!==0&&i===2){var o=Ac(e);o!==0&&(t=o,i=qc(e,o))}if(i===1)throw i=mo,di(e,0),Lr(e,t),an(e,gt()),i;if(i===6)throw Error(K(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,oi(e,tn,lr),an(e,gt()),null}function Zu(e,t){var i=Me;Me|=1;try{return e(t)}finally{Me=i,Me===0&&(is=gt()+500,Ja&&qr())}}function xi(e){Br!==null&&Br.tag===0&&!(Me&6)&&qi();var t=Me;Me|=1;var i=bn.transition,o=Be;try{if(bn.transition=null,Be=1,e)return e()}finally{Be=o,bn.transition=i,Me=t,!(Me&6)&&qr()}}function Ku(){dn=Wi.current,$e(Wi)}function di(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,Xm(i)),mt!==null)for(i=mt.return;i!==null;){var o=i;switch(Mu(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&ba();break;case 3:ns(),$e(sn),$e(zt),ju();break;case 5:Fu(o);break;case 4:ns();break;case 13:$e(it);break;case 19:$e(it);break;case 10:ku(o.type._context);break;case 22:case 23:Ku()}i=i.return}if(Nt=e,mt=e=Gr(e.current,null),kt=dn=t,Et=0,mo=null,Xu=rl=mi=0,tn=qs=null,li!==null){for(t=0;t<li.length;t++)if(i=li[t],o=i.interleaved,o!==null){i.interleaved=null;var c=o.next,d=i.pending;if(d!==null){var g=d.next;d.next=c,o.next=g}i.pending=o}li=null}return e}function Sh(e,t){do{var i=mt;try{if(Du(),da.current=Ba,Pa){for(var o=st.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}Pa=!1}if(pi=0,It=Ct=st=null,Zs=!1,ho=0,Yu.current=null,i===null||i.return===null){Et=1,mo=t,mt=null;break}e:{var d=e,g=i.return,x=i,w=t;if(t=kt,x.flags|=32768,w!==null&&typeof w=="object"&&typeof w.then=="function"){var m=w,E=x,S=E.tag;if(!(E.mode&1)&&(S===0||S===11||S===15)){var R=E.alternate;R?(E.updateQueue=R.updateQueue,E.memoizedState=R.memoizedState,E.lanes=R.lanes):(E.updateQueue=null,E.memoizedState=null)}var k=N1(g);if(k!==null){k.flags&=-257,T1(k,g,x,d,t),k.mode&1&&I1(d,m,t),t=k,w=m;var B=t.updateQueue;if(B===null){var O=new Set;O.add(w),t.updateQueue=O}else B.add(w);break e}else{if(!(t&1)){I1(d,m,t),qu();break e}w=Error(K(426))}}else if(et&&x.mode&1){var U=N1(g);if(U!==null){!(U.flags&65536)&&(U.flags|=256),T1(U,g,x,d,t),Ru(rs(w,x));break e}}d=w=rs(w,x),Et!==4&&(Et=2),qs===null?qs=[d]:qs.push(d),d=g;do{switch(d.tag){case 3:d.flags|=65536,t&=-t,d.lanes|=t;var N=ah(d,w,t);y1(d,N);break e;case 1:x=w;var b=d.type,M=d.stateNode;if(!(d.flags&128)&&(typeof b.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(Hr===null||!Hr.has(M)))){d.flags|=65536,t&=-t,d.lanes|=t;var z=lh(d,x,t);y1(d,z);break e}}d=d.return}while(d!==null)}Th(i)}catch($){t=$,mt===i&&i!==null&&(mt=i=i.return);continue}break}while(1)}function Ih(){var e=Fa.current;return Fa.current=Ba,e===null?Ba:e}function qu(){(Et===0||Et===3||Et===2)&&(Et=4),Nt===null||!(mi&268435455)&&!(rl&268435455)||Lr(Nt,kt)}function za(e,t){var i=Me;Me|=2;var o=Ih();(Nt!==e||kt!==t)&&(lr=null,di(e,t));do try{wx();break}catch(c){Sh(e,c)}while(1);if(Du(),Me=i,Fa.current=o,mt!==null)throw Error(K(261));return Nt=null,kt=0,Et}function wx(){for(;mt!==null;)Nh(mt)}function yx(){for(;mt!==null&&!Wp();)Nh(mt)}function Nh(e){var t=_h(e.alternate,e,dn);e.memoizedProps=e.pendingProps,t===null?Th(e):mt=t,Yu.current=null}function Th(e){var t=e;do{var i=t.alternate;if(e=t.return,t.flags&32768){if(i=fx(i,t),i!==null){i.flags&=32767,mt=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Et=6,mt=null;return}}else if(i=dx(i,t,dn),i!==null){mt=i;return}if(t=t.sibling,t!==null){mt=t;return}mt=t=e}while(t!==null);Et===0&&(Et=5)}function oi(e,t,i){var o=Be,c=bn.transition;try{bn.transition=null,Be=1,Cx(e,t,i,o)}finally{bn.transition=c,Be=o}return null}function Cx(e,t,i,o){do qi();while(Br!==null);if(Me&6)throw Error(K(327));i=e.finishedWork;var c=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(K(177));e.callbackNode=null,e.callbackPriority=0;var d=i.lanes|i.childLanes;if(em(e,d),e===Nt&&(mt=Nt=null,kt=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||ta||(ta=!0,Mh(va,function(){return qi(),null})),d=(i.flags&15990)!==0,i.subtreeFlags&15990||d){d=bn.transition,bn.transition=null;var g=Be;Be=1;var x=Me;Me|=4,Yu.current=null,gx(e,i),Eh(i,e),Um(_c),Sa=!!bc,_c=bc=null,e.current=i,px(i),Gp(),Me=x,Be=g,bn.transition=d}else e.current=i;if(ta&&(ta=!1,Br=e,Ua=c),d=e.pendingLanes,d===0&&(Hr=null),Qp(i.stateNode),an(e,gt()),t!==null)for(o=e.onRecoverableError,i=0;i<t.length;i++)c=t[i],o(c.value,{componentStack:c.stack,digest:c.digest});if(ja)throw ja=!1,e=Zc,Zc=null,e;return Ua&1&&e.tag!==0&&qi(),d=e.pendingLanes,d&1?e===Kc?$s++:($s=0,Kc=e):$s=0,qr(),null}function qi(){if(Br!==null){var e=a0(Ua),t=bn.transition,i=Be;try{if(bn.transition=null,Be=16>e?16:e,Br===null)var o=!1;else{if(e=Br,Br=null,Ua=0,Me&6)throw Error(K(331));var c=Me;for(Me|=4,oe=e.current;oe!==null;){var d=oe,g=d.child;if(oe.flags&16){var x=d.deletions;if(x!==null){for(var w=0;w<x.length;w++){var m=x[w];for(oe=m;oe!==null;){var E=oe;switch(E.tag){case 0:case 11:case 15:Ks(8,E,d)}var S=E.child;if(S!==null)S.return=E,oe=S;else for(;oe!==null;){E=oe;var R=E.sibling,k=E.return;if(wh(E),E===m){oe=null;break}if(R!==null){R.return=k,oe=R;break}oe=k}}}var B=d.alternate;if(B!==null){var O=B.child;if(O!==null){B.child=null;do{var U=O.sibling;O.sibling=null,O=U}while(O!==null)}}oe=d}}if(d.subtreeFlags&2064&&g!==null)g.return=d,oe=g;else e:for(;oe!==null;){if(d=oe,d.flags&2048)switch(d.tag){case 0:case 11:case 15:Ks(9,d,d.return)}var N=d.sibling;if(N!==null){N.return=d.return,oe=N;break e}oe=d.return}}var b=e.current;for(oe=b;oe!==null;){g=oe;var M=g.child;if(g.subtreeFlags&2064&&M!==null)M.return=g,oe=M;else e:for(g=b;oe!==null;){if(x=oe,x.flags&2048)try{switch(x.tag){case 0:case 11:case 15:nl(9,x)}}catch($){ft(x,x.return,$)}if(x===g){oe=null;break e}var z=x.sibling;if(z!==null){z.return=x.return,oe=z;break e}oe=x.return}}if(Me=c,qr(),nr&&typeof nr.onPostCommitFiberRoot=="function")try{nr.onPostCommitFiberRoot(Qa,e)}catch{}o=!0}return o}finally{Be=i,bn.transition=t}}return!1}function U1(e,t,i){t=rs(i,t),t=ah(e,t,1),e=Vr(e,t,1),t=Yt(),e!==null&&(yo(e,1,t),an(e,t))}function ft(e,t,i){if(e.tag===3)U1(e,e,i);else for(;t!==null;){if(t.tag===3){U1(t,e,i);break}else if(t.tag===1){var o=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Hr===null||!Hr.has(o))){e=rs(i,e),e=lh(t,e,1),t=Vr(t,e,1),e=Yt(),t!==null&&(yo(t,1,e),an(t,e));break}}t=t.return}}function Ex(e,t,i){var o=e.pingCache;o!==null&&o.delete(t),t=Yt(),e.pingedLanes|=e.suspendedLanes&i,Nt===e&&(kt&i)===i&&(Et===4||Et===3&&(kt&130023424)===kt&&500>gt()-Qu?di(e,0):Xu|=i),an(e,t)}function bh(e,t){t===0&&(e.mode&1?(t=Go,Go<<=1,!(Go&130023424)&&(Go=4194304)):t=1);var i=Yt();e=xr(e,t),e!==null&&(yo(e,t,i),an(e,i))}function vx(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),bh(e,i)}function Ax(e,t){var i=0;switch(e.tag){case 13:var o=e.stateNode,c=e.memoizedState;c!==null&&(i=c.retryLane);break;case 19:o=e.stateNode;break;default:throw Error(K(314))}o!==null&&o.delete(t),bh(e,i)}var _h;_h=function(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps||sn.current)nn=!0;else{if(!(e.lanes&i)&&!(t.flags&128))return nn=!1,ux(e,t,i);nn=!!(e.flags&131072)}else nn=!1,et&&t.flags&1048576&&D0(t,Ra,t.index);switch(t.lanes=0,t.tag){case 2:var o=t.type;ha(e,t),e=t.pendingProps;var c=Ji(t,zt.current);Ki(t,i),c=zu(null,t,o,e,c,i);var d=Vu();return t.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,on(o)?(d=!0,_a(t)):d=!1,t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,Pu(t),c.updater=tl,t.stateNode=c,c._reactInternals=t,Fc(t,o,e,i),t=zc(null,t,o,!0,d,i)):(t.tag=0,et&&d&&_u(t),Gt(null,t,c,i),t=t.child),t;case 16:o=t.elementType;e:{switch(ha(e,t),e=t.pendingProps,c=o._init,o=c(o._payload),t.type=o,c=t.tag=Ix(o),e=Bn(o,e),c){case 0:t=Uc(null,t,o,e,i);break e;case 1:t=M1(null,t,o,e,i);break e;case 11:t=b1(null,t,o,e,i);break e;case 14:t=_1(null,t,o,Bn(o.type,e),i);break e}throw Error(K(306,o,""))}return t;case 0:return o=t.type,c=t.pendingProps,c=t.elementType===o?c:Bn(o,c),Uc(e,t,o,c,i);case 1:return o=t.type,c=t.pendingProps,c=t.elementType===o?c:Bn(o,c),M1(e,t,o,c,i);case 3:e:{if(fh(t),e===null)throw Error(K(387));o=t.pendingProps,d=t.memoizedState,c=d.element,j0(e,t),ka(t,o,null,i);var g=t.memoizedState;if(o=g.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){c=rs(Error(K(423)),t),t=R1(e,t,o,i,c);break e}else if(o!==c){c=rs(Error(K(424)),t),t=R1(e,t,o,i,c);break e}else for(hn=zr(t.stateNode.containerInfo.firstChild),gn=t,et=!0,Un=null,i=B0(t,null,o,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(es(),o===c){t=wr(e,t,i);break e}Gt(e,t,o,i)}t=t.child}return t;case 5:return U0(t),e===null&&Lc(t),o=t.type,c=t.pendingProps,d=e!==null?e.memoizedProps:null,g=c.children,Mc(o,c)?g=null:d!==null&&Mc(o,d)&&(t.flags|=32),dh(e,t),Gt(e,t,g,i),t.child;case 6:return e===null&&Lc(t),null;case 13:return hh(e,t,i);case 4:return Bu(t,t.stateNode.containerInfo),o=t.pendingProps,e===null?t.child=ts(t,null,o,i):Gt(e,t,o,i),t.child;case 11:return o=t.type,c=t.pendingProps,c=t.elementType===o?c:Bn(o,c),b1(e,t,o,c,i);case 7:return Gt(e,t,t.pendingProps,i),t.child;case 8:return Gt(e,t,t.pendingProps.children,i),t.child;case 12:return Gt(e,t,t.pendingProps.children,i),t.child;case 10:e:{if(o=t.type._context,c=t.pendingProps,d=t.memoizedProps,g=c.value,Xe(Oa,o._currentValue),o._currentValue=g,d!==null)if(Hn(d.value,g)){if(d.children===c.children&&!sn.current){t=wr(e,t,i);break e}}else for(d=t.child,d!==null&&(d.return=t);d!==null;){var x=d.dependencies;if(x!==null){g=d.child;for(var w=x.firstContext;w!==null;){if(w.context===o){if(d.tag===1){w=hr(-1,i&-i),w.tag=2;var m=d.updateQueue;if(m!==null){m=m.shared;var E=m.pending;E===null?w.next=w:(w.next=E.next,E.next=w),m.pending=w}}d.lanes|=i,w=d.alternate,w!==null&&(w.lanes|=i),Pc(d.return,i,t),x.lanes|=i;break}w=w.next}}else if(d.tag===10)g=d.type===t.type?null:d.child;else if(d.tag===18){if(g=d.return,g===null)throw Error(K(341));g.lanes|=i,x=g.alternate,x!==null&&(x.lanes|=i),Pc(g,i,t),g=d.sibling}else g=d.child;if(g!==null)g.return=d;else for(g=d;g!==null;){if(g===t){g=null;break}if(d=g.sibling,d!==null){d.return=g.return,g=d;break}g=g.return}d=g}Gt(e,t,c.children,i),t=t.child}return t;case 9:return c=t.type,o=t.pendingProps.children,Ki(t,i),c=_n(c),o=o(c),t.flags|=1,Gt(e,t,o,i),t.child;case 14:return o=t.type,c=Bn(o,t.pendingProps),c=Bn(o.type,c),_1(e,t,o,c,i);case 15:return ch(e,t,t.type,t.pendingProps,i);case 17:return o=t.type,c=t.pendingProps,c=t.elementType===o?c:Bn(o,c),ha(e,t),t.tag=1,on(o)?(e=!0,_a(t)):e=!1,Ki(t,i),oh(t,o,c),Fc(t,o,c,i),zc(null,t,o,!0,e,i);case 19:return gh(e,t,i);case 22:return uh(e,t,i)}throw Error(K(156,t.tag))};function Mh(e,t){return r0(e,t)}function Sx(e,t,i,o){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(e,t,i,o){return new Sx(e,t,i,o)}function $u(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ix(e){if(typeof e=="function")return $u(e)?1:0;if(e!=null){if(e=e.$$typeof,e===xu)return 11;if(e===wu)return 14}return 2}function Gr(e,t){var i=e.alternate;return i===null?(i=In(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function ma(e,t,i,o,c,d){var g=2;if(o=e,typeof e=="function")$u(e)&&(g=1);else if(typeof e=="string")g=5;else e:switch(e){case ki:return fi(i.children,c,d,t);case mu:g=8,c|=8;break;case lc:return e=In(12,i,t,c|2),e.elementType=lc,e.lanes=d,e;case cc:return e=In(13,i,t,c),e.elementType=cc,e.lanes=d,e;case uc:return e=In(19,i,t,c),e.elementType=uc,e.lanes=d,e;case Uf:return il(i,c,d,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ff:g=10;break e;case jf:g=9;break e;case xu:g=11;break e;case wu:g=14;break e;case Or:g=16,o=null;break e}throw Error(K(130,e==null?e:typeof e,""))}return t=In(g,i,t,c),t.elementType=e,t.type=o,t.lanes=d,t}function fi(e,t,i,o){return e=In(7,e,o,t),e.lanes=i,e}function il(e,t,i,o){return e=In(22,e,o,t),e.elementType=Uf,e.lanes=i,e.stateNode={isHidden:!1},e}function tc(e,t,i){return e=In(6,e,null,t),e.lanes=i,e}function nc(e,t,i){return t=In(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Nx(e,t,i,o,c){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pl(0),this.expirationTimes=Pl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pl(0),this.identifierPrefix=o,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function Ju(e,t,i,o,c,d,g,x,w){return e=new Nx(e,t,i,x,w),t===1?(t=1,d===!0&&(t|=8)):t=0,d=In(3,null,null,t),e.current=d,d.stateNode=e,d.memoizedState={element:o,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pu(d),e}function Tx(e,t,i){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Di,key:o==null?null:""+o,children:e,containerInfo:t,implementation:i}}function Rh(e){if(!e)return Xr;e=e._reactInternals;e:{if(yi(e)!==e||e.tag!==1)throw Error(K(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(on(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(K(171))}if(e.tag===1){var i=e.type;if(on(i))return R0(e,i,t)}return t}function Oh(e,t,i,o,c,d,g,x,w){return e=Ju(i,o,!0,e,c,d,g,x,w),e.context=Rh(null),i=e.current,o=Yt(),c=Wr(i),d=hr(o,c),d.callback=t??null,Vr(i,d,c),e.current.lanes=c,yo(e,c,o),an(e,o),e}function sl(e,t,i,o){var c=t.current,d=Yt(),g=Wr(c);return i=Rh(i),t.context===null?t.context=i:t.pendingContext=i,t=hr(d,g),t.payload={element:e},o=o===void 0?null:o,o!==null&&(t.callback=o),e=Vr(c,t,g),e!==null&&(Vn(e,c,g,d),ua(e,c,g)),g}function Va(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function z1(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function ed(e,t){z1(e,t),(e=e.alternate)&&z1(e,t)}function bx(){return null}var Dh=typeof reportError=="function"?reportError:function(e){console.error(e)};function td(e){this._internalRoot=e}ol.prototype.render=td.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(K(409));sl(e,t,null,null)};ol.prototype.unmount=td.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;xi(function(){sl(null,e,null,null)}),t[mr]=null}};function ol(e){this._internalRoot=e}ol.prototype.unstable_scheduleHydration=function(e){if(e){var t=u0();e={blockedOn:null,target:e,priority:t};for(var i=0;i<kr.length&&t!==0&&t<kr[i].priority;i++);kr.splice(i,0,e),i===0&&f0(e)}};function nd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function al(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function V1(){}function _x(e,t,i,o,c){if(c){if(typeof o=="function"){var d=o;o=function(){var m=Va(g);d.call(m)}}var g=Oh(t,o,e,0,null,!1,!1,"",V1);return e._reactRootContainer=g,e[mr]=g.current,ao(e.nodeType===8?e.parentNode:e),xi(),g}for(;c=e.lastChild;)e.removeChild(c);if(typeof o=="function"){var x=o;o=function(){var m=Va(w);x.call(m)}}var w=Ju(e,0,!1,null,null,!1,!1,"",V1);return e._reactRootContainer=w,e[mr]=w.current,ao(e.nodeType===8?e.parentNode:e),xi(function(){sl(t,w,i,o)}),w}function ll(e,t,i,o,c){var d=i._reactRootContainer;if(d){var g=d;if(typeof c=="function"){var x=c;c=function(){var w=Va(g);x.call(w)}}sl(t,g,e,c)}else g=_x(i,t,e,c,o);return Va(g)}l0=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var i=Vs(t.pendingLanes);i!==0&&(Eu(t,i|1),an(t,gt()),!(Me&6)&&(is=gt()+500,qr()))}break;case 13:xi(function(){var o=xr(e,1);if(o!==null){var c=Yt();Vn(o,e,1,c)}}),ed(e,1)}};vu=function(e){if(e.tag===13){var t=xr(e,134217728);if(t!==null){var i=Yt();Vn(t,e,134217728,i)}ed(e,134217728)}};c0=function(e){if(e.tag===13){var t=Wr(e),i=xr(e,t);if(i!==null){var o=Yt();Vn(i,e,t,o)}ed(e,t)}};u0=function(){return Be};d0=function(e,t){var i=Be;try{return Be=e,t()}finally{Be=i}};Cc=function(e,t,i){switch(t){case"input":if(hc(e,i),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<i.length;t++){var o=i[t];if(o!==e&&o.form===e.form){var c=$a(o);if(!c)throw Error(K(90));Vf(o),hc(o,c)}}}break;case"textarea":Wf(e,i);break;case"select":t=i.value,t!=null&&Yi(e,!!i.multiple,t,!1)}};qf=Zu;$f=xi;var Mx={usingClientEntryPoint:!1,Events:[Eo,Fi,$a,Zf,Kf,Zu]},Ps={findFiberByHostInstance:ai,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Rx={bundleType:Ps.bundleType,version:Ps.version,rendererPackageName:Ps.rendererPackageName,rendererConfig:Ps.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Cr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=t0(e),e===null?null:e.stateNode},findFiberByHostInstance:Ps.findFiberByHostInstance||bx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var na=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!na.isDisabled&&na.supportsFiber)try{Qa=na.inject(Rx),nr=na}catch{}}mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mx;mn.createPortal=function(e,t){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!nd(t))throw Error(K(200));return Tx(e,t,null,i)};mn.createRoot=function(e,t){if(!nd(e))throw Error(K(299));var i=!1,o="",c=Dh;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(o=t.identifierPrefix),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),t=Ju(e,1,!1,null,null,i,!1,o,c),e[mr]=t.current,ao(e.nodeType===8?e.parentNode:e),new td(t)};mn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(K(188)):(e=Object.keys(e).join(","),Error(K(268,e)));return e=t0(t),e=e===null?null:e.stateNode,e};mn.flushSync=function(e){return xi(e)};mn.hydrate=function(e,t,i){if(!al(t))throw Error(K(200));return ll(null,e,t,!0,i)};mn.hydrateRoot=function(e,t,i){if(!nd(e))throw Error(K(405));var o=i!=null&&i.hydratedSources||null,c=!1,d="",g=Dh;if(i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(d=i.identifierPrefix),i.onRecoverableError!==void 0&&(g=i.onRecoverableError)),t=Oh(t,null,e,1,i??null,c,!1,d,g),e[mr]=t.current,ao(e),o)for(e=0;e<o.length;e++)i=o[e],c=i._getVersion,c=c(i._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[i,c]:t.mutableSourceEagerHydrationData.push(i,c);return new ol(t)};mn.render=function(e,t,i){if(!al(t))throw Error(K(200));return ll(null,e,t,!1,i)};mn.unmountComponentAtNode=function(e){if(!al(e))throw Error(K(40));return e._reactRootContainer?(xi(function(){ll(null,null,e,!1,function(){e._reactRootContainer=null,e[mr]=null})}),!0):!1};mn.unstable_batchedUpdates=Zu;mn.unstable_renderSubtreeIntoContainer=function(e,t,i,o){if(!al(i))throw Error(K(200));if(e==null||e._reactInternals===void 0)throw Error(K(38));return ll(e,t,i,!1,o)};mn.version="18.3.1-next-f1338f8080-20240426";function kh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(kh)}catch(e){console.error(e)}}kh(),kf.exports=mn;var Ox=kf.exports,H1=Ox;oc.createRoot=H1.createRoot,oc.hydrateRoot=H1.hydrateRoot;const Dx="modulepreload",kx=function(e){return"/"+e},W1={},Lx=function(t,i,o){if(!i||i.length===0)return t();const c=document.getElementsByTagName("link");return Promise.all(i.map(d=>{if(d=kx(d),d in W1)return;W1[d]=!0;const g=d.endsWith(".css"),x=g?'[rel="stylesheet"]':"";if(!!o)for(let E=c.length-1;E>=0;E--){const S=c[E];if(S.href===d&&(!g||S.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${d}"]${x}`))return;const m=document.createElement("link");if(m.rel=g?"stylesheet":Dx,g||(m.as="script",m.crossOrigin=""),m.href=d,document.head.appendChild(m),g)return new Promise((E,S)=>{m.addEventListener("load",E),m.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${d}`)))})})).then(()=>t()).catch(d=>{const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=d,window.dispatchEvent(g),!g.defaultPrevented)throw d})};var G1="popstate";function Px(e={}){function t(o,c){let{pathname:d,search:g,hash:x}=o.location;return Jc("",{pathname:d,search:g,hash:x},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function i(o,c){return typeof c=="string"?c:xo(c)}return Fx(t,i,null,e)}function ot(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ir(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Bx(){return Math.random().toString(36).substring(2,10)}function Y1(e,t){return{usr:e.state,key:e.key,idx:t}}function Jc(e,t,i=null,o){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?gs(t):t,state:i,key:t&&t.key||o||Bx()}}function xo({pathname:e="/",search:t="",hash:i=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function gs(e){let t={};if(e){let i=e.indexOf("#");i>=0&&(t.hash=e.substring(i),e=e.substring(0,i));let o=e.indexOf("?");o>=0&&(t.search=e.substring(o),e=e.substring(0,o)),e&&(t.pathname=e)}return t}function Fx(e,t,i,o={}){let{window:c=document.defaultView,v5Compat:d=!1}=o,g=c.history,x="POP",w=null,m=E();m==null&&(m=0,g.replaceState({...g.state,idx:m},""));function E(){return(g.state||{idx:null}).idx}function S(){x="POP";let U=E(),N=U==null?null:U-m;m=U,w&&w({action:x,location:O.location,delta:N})}function R(U,N){x="PUSH";let b=Jc(O.location,U,N);i&&i(b,U),m=E()+1;let M=Y1(b,m),z=O.createHref(b);try{g.pushState(M,"",z)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;c.location.assign(z)}d&&w&&w({action:x,location:O.location,delta:1})}function k(U,N){x="REPLACE";let b=Jc(O.location,U,N);i&&i(b,U),m=E();let M=Y1(b,m),z=O.createHref(b);g.replaceState(M,"",z),d&&w&&w({action:x,location:O.location,delta:0})}function B(U){return jx(U)}let O={get action(){return x},get location(){return e(c,g)},listen(U){if(w)throw new Error("A history only accepts one active listener");return c.addEventListener(G1,S),w=U,()=>{c.removeEventListener(G1,S),w=null}},createHref(U){return t(c,U)},createURL:B,encodeLocation(U){let N=B(U);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:R,replace:k,go(U){return g.go(U)}};return O}function jx(e,t=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),ot(i,"No window.location.(origin|href) available to create URL");let o=typeof e=="string"?e:xo(e);return o=o.replace(/ $/,"%20"),!t&&o.startsWith("//")&&(o=i+o),new URL(o,i)}function Lh(e,t,i="/"){return Ux(e,t,i,!1)}function Ux(e,t,i,o){let c=typeof t=="string"?gs(t):t,d=yr(c.pathname||"/",i);if(d==null)return null;let g=Ph(e);zx(g);let x=null;for(let w=0;x==null&&w<g.length;++w){let m=$x(d);x=Kx(g[w],m,o)}return x}function Ph(e,t=[],i=[],o="",c=!1){let d=(g,x,w=c,m)=>{let E={relativePath:m===void 0?g.path||"":m,caseSensitive:g.caseSensitive===!0,childrenIndex:x,route:g};if(E.relativePath.startsWith("/")){if(!E.relativePath.startsWith(o)&&w)return;ot(E.relativePath.startsWith(o),`Absolute route path "${E.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),E.relativePath=E.relativePath.slice(o.length)}let S=gr([o,E.relativePath]),R=i.concat(E);g.children&&g.children.length>0&&(ot(g.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${S}".`),Ph(g.children,t,R,S,w)),!(g.path==null&&!g.index)&&t.push({path:S,score:Qx(S,g.index),routesMeta:R})};return e.forEach((g,x)=>{var w;if(g.path===""||!((w=g.path)!=null&&w.includes("?")))d(g,x);else for(let m of Bh(g.path))d(g,x,!0,m)}),t}function Bh(e){let t=e.split("/");if(t.length===0)return[];let[i,...o]=t,c=i.endsWith("?"),d=i.replace(/\?$/,"");if(o.length===0)return c?[d,""]:[d];let g=Bh(o.join("/")),x=[];return x.push(...g.map(w=>w===""?d:[d,w].join("/"))),c&&x.push(...g),x.map(w=>e.startsWith("/")&&w===""?"/":w)}function zx(e){e.sort((t,i)=>t.score!==i.score?i.score-t.score:Zx(t.routesMeta.map(o=>o.childrenIndex),i.routesMeta.map(o=>o.childrenIndex)))}var Vx=/^:[\w-]+$/,Hx=3,Wx=2,Gx=1,Yx=10,Xx=-2,X1=e=>e==="*";function Qx(e,t){let i=e.split("/"),o=i.length;return i.some(X1)&&(o+=Xx),t&&(o+=Wx),i.filter(c=>!X1(c)).reduce((c,d)=>c+(Vx.test(d)?Hx:d===""?Gx:Yx),o)}function Zx(e,t){return e.length===t.length&&e.slice(0,-1).every((o,c)=>o===t[c])?e[e.length-1]-t[t.length-1]:0}function Kx(e,t,i=!1){let{routesMeta:o}=e,c={},d="/",g=[];for(let x=0;x<o.length;++x){let w=o[x],m=x===o.length-1,E=d==="/"?t:t.slice(d.length)||"/",S=Ha({path:w.relativePath,caseSensitive:w.caseSensitive,end:m},E),R=w.route;if(!S&&m&&i&&!o[o.length-1].route.index&&(S=Ha({path:w.relativePath,caseSensitive:w.caseSensitive,end:!1},E)),!S)return null;Object.assign(c,S.params),g.push({params:c,pathname:gr([d,S.pathname]),pathnameBase:n2(gr([d,S.pathnameBase])),route:R}),S.pathnameBase!=="/"&&(d=gr([d,S.pathnameBase]))}return g}function Ha(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[i,o]=qx(e.path,e.caseSensitive,e.end),c=t.match(i);if(!c)return null;let d=c[0],g=d.replace(/(.)\/+$/,"$1"),x=c.slice(1);return{params:o.reduce((m,{paramName:E,isOptional:S},R)=>{if(E==="*"){let B=x[R]||"";g=d.slice(0,d.length-B.length).replace(/(.)\/+$/,"$1")}const k=x[R];return S&&!k?m[E]=void 0:m[E]=(k||"").replace(/%2F/g,"/"),m},{}),pathname:d,pathnameBase:g,pattern:e}}function qx(e,t=!1,i=!0){ir(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let o=[],c="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(g,x,w)=>(o.push({paramName:x,isOptional:w!=null}),w?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(o.push({paramName:"*"}),c+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?c+="\\/*$":e!==""&&e!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,t?void 0:"i"),o]}function $x(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ir(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function yr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let i=t.endsWith("/")?t.length-1:t.length,o=e.charAt(i);return o&&o!=="/"?null:e.slice(i)||"/"}function Jx(e,t="/"){let{pathname:i,search:o="",hash:c=""}=typeof e=="string"?gs(e):e;return{pathname:i?i.startsWith("/")?i:e2(i,t):t,search:r2(o),hash:i2(c)}}function e2(e,t){let i=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(c=>{c===".."?i.length>1&&i.pop():c!=="."&&i.push(c)}),i.length>1?i.join("/"):"/"}function rc(e,t,i,o){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function t2(e){return e.filter((t,i)=>i===0||t.route.path&&t.route.path.length>0)}function Fh(e){let t=t2(e);return t.map((i,o)=>o===t.length-1?i.pathname:i.pathnameBase)}function jh(e,t,i,o=!1){let c;typeof e=="string"?c=gs(e):(c={...e},ot(!c.pathname||!c.pathname.includes("?"),rc("?","pathname","search",c)),ot(!c.pathname||!c.pathname.includes("#"),rc("#","pathname","hash",c)),ot(!c.search||!c.search.includes("#"),rc("#","search","hash",c)));let d=e===""||c.pathname==="",g=d?"/":c.pathname,x;if(g==null)x=i;else{let S=t.length-1;if(!o&&g.startsWith("..")){let R=g.split("/");for(;R[0]==="..";)R.shift(),S-=1;c.pathname=R.join("/")}x=S>=0?t[S]:"/"}let w=Jx(c,x),m=g&&g!=="/"&&g.endsWith("/"),E=(d||g===".")&&i.endsWith("/");return!w.pathname.endsWith("/")&&(m||E)&&(w.pathname+="/"),w}var gr=e=>e.join("/").replace(/\/\/+/g,"/"),n2=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),r2=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,i2=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function s2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var Uh=["POST","PUT","PATCH","DELETE"];new Set(Uh);var o2=["GET",...Uh];new Set(o2);var ps=L.createContext(null);ps.displayName="DataRouter";var cl=L.createContext(null);cl.displayName="DataRouterState";L.createContext(!1);var zh=L.createContext({isTransitioning:!1});zh.displayName="ViewTransition";var a2=L.createContext(new Map);a2.displayName="Fetchers";var l2=L.createContext(null);l2.displayName="Await";var sr=L.createContext(null);sr.displayName="Navigation";var Ao=L.createContext(null);Ao.displayName="Location";var or=L.createContext({outlet:null,matches:[],isDataRoute:!1});or.displayName="Route";var rd=L.createContext(null);rd.displayName="RouteError";function c2(e,{relative:t}={}){ot(So(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:o}=L.useContext(sr),{hash:c,pathname:d,search:g}=Io(e,{relative:t}),x=d;return i!=="/"&&(x=d==="/"?i:gr([i,d])),o.createHref({pathname:x,search:g,hash:c})}function So(){return L.useContext(Ao)!=null}function Wn(){return ot(So(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(Ao).location}var Vh="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Hh(e){L.useContext(sr).static||L.useLayoutEffect(e)}function wn(){let{isDataRoute:e}=L.useContext(or);return e?A2():u2()}function u2(){ot(So(),"useNavigate() may be used only in the context of a <Router> component.");let e=L.useContext(ps),{basename:t,navigator:i}=L.useContext(sr),{matches:o}=L.useContext(or),{pathname:c}=Wn(),d=JSON.stringify(Fh(o)),g=L.useRef(!1);return Hh(()=>{g.current=!0}),L.useCallback((w,m={})=>{if(ir(g.current,Vh),!g.current)return;if(typeof w=="number"){i.go(w);return}let E=jh(w,JSON.parse(d),c,m.relative==="path");e==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:gr([t,E.pathname])),(m.replace?i.replace:i.push)(E,m.state,m)},[t,i,d,c,e])}L.createContext(null);function d2(){let{matches:e}=L.useContext(or),t=e[e.length-1];return t?t.params:{}}function Io(e,{relative:t}={}){let{matches:i}=L.useContext(or),{pathname:o}=Wn(),c=JSON.stringify(Fh(i));return L.useMemo(()=>jh(e,JSON.parse(c),o,t==="path"),[e,c,o,t])}function f2(e,t){return Wh(e,t)}function Wh(e,t,i,o,c){var b;ot(So(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:d}=L.useContext(sr),{matches:g}=L.useContext(or),x=g[g.length-1],w=x?x.params:{},m=x?x.pathname:"/",E=x?x.pathnameBase:"/",S=x&&x.route;{let M=S&&S.path||"";Gh(m,!S||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let R=Wn(),k;if(t){let M=typeof t=="string"?gs(t):t;ot(E==="/"||((b=M.pathname)==null?void 0:b.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${M.pathname}" was given in the \`location\` prop.`),k=M}else k=R;let B=k.pathname||"/",O=B;if(E!=="/"){let M=E.replace(/^\//,"").split("/");O="/"+B.replace(/^\//,"").split("/").slice(M.length).join("/")}let U=Lh(e,{pathname:O});ir(S||U!=null,`No routes matched location "${k.pathname}${k.search}${k.hash}" `),ir(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${k.pathname}${k.search}${k.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=x2(U&&U.map(M=>Object.assign({},M,{params:Object.assign({},w,M.params),pathname:gr([E,d.encodeLocation?d.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?E:gr([E,d.encodeLocation?d.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),g,i,o,c);return t&&N?L.createElement(Ao.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...k},navigationType:"POP"}},N):N}function h2(){let e=v2(),t=s2(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),i=e instanceof Error?e.stack:null,o="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:o},d={padding:"2px 4px",backgroundColor:o},g=null;return console.error("Error handled by React Router default ErrorBoundary:",e),g=L.createElement(L.Fragment,null,L.createElement("p",null,"💿 Hey developer 👋"),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:d},"ErrorBoundary")," or"," ",L.createElement("code",{style:d},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},t),i?L.createElement("pre",{style:c},i):null,g)}var g2=L.createElement(h2,null),p2=class extends L.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?L.createElement(or.Provider,{value:this.props.routeContext},L.createElement(rd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function m2({routeContext:e,match:t,children:i}){let o=L.useContext(ps);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),L.createElement(or.Provider,{value:e},i)}function x2(e,t=[],i=null,o=null,c=null){if(e==null){if(!i)return null;if(i.errors)e=i.matches;else if(t.length===0&&!i.initialized&&i.matches.length>0)e=i.matches;else return null}let d=e,g=i==null?void 0:i.errors;if(g!=null){let m=d.findIndex(E=>E.route.id&&(g==null?void 0:g[E.route.id])!==void 0);ot(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(g).join(",")}`),d=d.slice(0,Math.min(d.length,m+1))}let x=!1,w=-1;if(i)for(let m=0;m<d.length;m++){let E=d[m];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(w=m),E.route.id){let{loaderData:S,errors:R}=i,k=E.route.loader&&!S.hasOwnProperty(E.route.id)&&(!R||R[E.route.id]===void 0);if(E.route.lazy||k){x=!0,w>=0?d=d.slice(0,w+1):d=[d[0]];break}}}return d.reduceRight((m,E,S)=>{let R,k=!1,B=null,O=null;i&&(R=g&&E.route.id?g[E.route.id]:void 0,B=E.route.errorElement||g2,x&&(w<0&&S===0?(Gh("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),k=!0,O=null):w===S&&(k=!0,O=E.route.hydrateFallbackElement||null)));let U=t.concat(d.slice(0,S+1)),N=()=>{let b;return R?b=B:k?b=O:E.route.Component?b=L.createElement(E.route.Component,null):E.route.element?b=E.route.element:b=m,L.createElement(m2,{match:E,routeContext:{outlet:m,matches:U,isDataRoute:i!=null},children:b})};return i&&(E.route.ErrorBoundary||E.route.errorElement||S===0)?L.createElement(p2,{location:i.location,revalidation:i.revalidation,component:B,error:R,children:N(),routeContext:{outlet:null,matches:U,isDataRoute:!0},unstable_onError:o}):N()},null)}function id(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function w2(e){let t=L.useContext(ps);return ot(t,id(e)),t}function y2(e){let t=L.useContext(cl);return ot(t,id(e)),t}function C2(e){let t=L.useContext(or);return ot(t,id(e)),t}function sd(e){let t=C2(e),i=t.matches[t.matches.length-1];return ot(i.route.id,`${e} can only be used on routes that contain a unique "id"`),i.route.id}function E2(){return sd("useRouteId")}function v2(){var o;let e=L.useContext(rd),t=y2("useRouteError"),i=sd("useRouteError");return e!==void 0?e:(o=t.errors)==null?void 0:o[i]}function A2(){let{router:e}=w2("useNavigate"),t=sd("useNavigate"),i=L.useRef(!1);return Hh(()=>{i.current=!0}),L.useCallback(async(c,d={})=>{ir(i.current,Vh),i.current&&(typeof c=="number"?e.navigate(c):await e.navigate(c,{fromRouteId:t,...d}))},[e,t])}var Q1={};function Gh(e,t,i){!t&&!Q1[e]&&(Q1[e]=!0,ir(!1,i))}L.memo(S2);function S2({routes:e,future:t,state:i,unstable_onError:o}){return Wh(e,void 0,i,o,t)}function Wt(e){ot(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function I2({basename:e="/",children:t=null,location:i,navigationType:o="POP",navigator:c,static:d=!1}){ot(!So(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let g=e.replace(/^\/*/,"/"),x=L.useMemo(()=>({basename:g,navigator:c,static:d,future:{}}),[g,c,d]);typeof i=="string"&&(i=gs(i));let{pathname:w="/",search:m="",hash:E="",state:S=null,key:R="default"}=i,k=L.useMemo(()=>{let B=yr(w,g);return B==null?null:{location:{pathname:B,search:m,hash:E,state:S,key:R},navigationType:o}},[g,w,m,E,S,R,o]);return ir(k!=null,`<Router basename="${g}"> is not able to match the URL "${w}${m}${E}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:L.createElement(sr.Provider,{value:x},L.createElement(Ao.Provider,{children:t,value:k}))}function N2({children:e,location:t}){return f2(eu(e),t)}function eu(e,t=[]){let i=[];return L.Children.forEach(e,(o,c)=>{if(!L.isValidElement(o))return;let d=[...t,c];if(o.type===L.Fragment){i.push.apply(i,eu(o.props.children,d));return}ot(o.type===Wt,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ot(!o.props.index||!o.props.children,"An index route cannot have child routes.");let g={id:o.props.id||d.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(g.children=eu(o.props.children,d)),i.push(g)}),i}var xa="get",wa="application/x-www-form-urlencoded";function ul(e){return e!=null&&typeof e.tagName=="string"}function T2(e){return ul(e)&&e.tagName.toLowerCase()==="button"}function b2(e){return ul(e)&&e.tagName.toLowerCase()==="form"}function _2(e){return ul(e)&&e.tagName.toLowerCase()==="input"}function M2(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function R2(e,t){return e.button===0&&(!t||t==="_self")&&!M2(e)}var ra=null;function O2(){if(ra===null)try{new FormData(document.createElement("form"),0),ra=!1}catch{ra=!0}return ra}var D2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ic(e){return e!=null&&!D2.has(e)?(ir(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${wa}"`),null):e}function k2(e,t){let i,o,c,d,g;if(b2(e)){let x=e.getAttribute("action");o=x?yr(x,t):null,i=e.getAttribute("method")||xa,c=ic(e.getAttribute("enctype"))||wa,d=new FormData(e)}else if(T2(e)||_2(e)&&(e.type==="submit"||e.type==="image")){let x=e.form;if(x==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let w=e.getAttribute("formaction")||x.getAttribute("action");if(o=w?yr(w,t):null,i=e.getAttribute("formmethod")||x.getAttribute("method")||xa,c=ic(e.getAttribute("formenctype"))||ic(x.getAttribute("enctype"))||wa,d=new FormData(x,e),!O2()){let{name:m,type:E,value:S}=e;if(E==="image"){let R=m?`${m}.`:"";d.append(`${R}x`,"0"),d.append(`${R}y`,"0")}else m&&d.append(m,S)}}else{if(ul(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=xa,o=null,c=wa,g=e}return d&&c==="text/plain"&&(g=d,d=void 0),{action:o,method:i.toLowerCase(),encType:c,formData:d,body:g}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function od(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function L2(e,t,i){let o=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return o.pathname==="/"?o.pathname=`_root.${i}`:t&&yr(o.pathname,t)==="/"?o.pathname=`${t.replace(/\/$/,"")}/_root.${i}`:o.pathname=`${o.pathname.replace(/\/$/,"")}.${i}`,o}async function P2(e,t){if(e.id in t)return t[e.id];try{let i=await Lx(()=>import(e.module),[]);return t[e.id]=i,i}catch(i){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function B2(e){return e!=null&&typeof e.page=="string"}function F2(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function j2(e,t,i){let o=await Promise.all(e.map(async c=>{let d=t.routes[c.route.id];if(d){let g=await P2(d,i);return g.links?g.links():[]}return[]}));return H2(o.flat(1).filter(F2).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function Z1(e,t,i,o,c,d){let g=(w,m)=>i[m]?w.route.id!==i[m].route.id:!0,x=(w,m)=>{var E;return i[m].pathname!==w.pathname||((E=i[m].route.path)==null?void 0:E.endsWith("*"))&&i[m].params["*"]!==w.params["*"]};return d==="assets"?t.filter((w,m)=>g(w,m)||x(w,m)):d==="data"?t.filter((w,m)=>{var S;let E=o.routes[w.route.id];if(!E||!E.hasLoader)return!1;if(g(w,m)||x(w,m))return!0;if(w.route.shouldRevalidate){let R=w.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:((S=i[0])==null?void 0:S.params)||{},nextUrl:new URL(e,window.origin),nextParams:w.params,defaultShouldRevalidate:!0});if(typeof R=="boolean")return R}return!0}):[]}function U2(e,t,{includeHydrateFallback:i}={}){return z2(e.map(o=>{let c=t.routes[o.route.id];if(!c)return[];let d=[c.module];return c.clientActionModule&&(d=d.concat(c.clientActionModule)),c.clientLoaderModule&&(d=d.concat(c.clientLoaderModule)),i&&c.hydrateFallbackModule&&(d=d.concat(c.hydrateFallbackModule)),c.imports&&(d=d.concat(c.imports)),d}).flat(1))}function z2(e){return[...new Set(e)]}function V2(e){let t={},i=Object.keys(e).sort();for(let o of i)t[o]=e[o];return t}function H2(e,t){let i=new Set,o=new Set(t);return e.reduce((c,d)=>{if(t&&!B2(d)&&d.as==="script"&&d.href&&o.has(d.href))return c;let x=JSON.stringify(V2(d));return i.has(x)||(i.add(x),c.push({key:x,link:d})),c},[])}function Yh(){let e=L.useContext(ps);return od(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function W2(){let e=L.useContext(cl);return od(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var ad=L.createContext(void 0);ad.displayName="FrameworkContext";function Xh(){let e=L.useContext(ad);return od(e,"You must render this element inside a <HydratedRouter> element"),e}function G2(e,t){let i=L.useContext(ad),[o,c]=L.useState(!1),[d,g]=L.useState(!1),{onFocus:x,onBlur:w,onMouseEnter:m,onMouseLeave:E,onTouchStart:S}=t,R=L.useRef(null);L.useEffect(()=>{if(e==="render"&&g(!0),e==="viewport"){let O=N=>{N.forEach(b=>{g(b.isIntersecting)})},U=new IntersectionObserver(O,{threshold:.5});return R.current&&U.observe(R.current),()=>{U.disconnect()}}},[e]),L.useEffect(()=>{if(o){let O=setTimeout(()=>{g(!0)},100);return()=>{clearTimeout(O)}}},[o]);let k=()=>{c(!0)},B=()=>{c(!1),g(!1)};return i?e!=="intent"?[d,R,{}]:[d,R,{onFocus:Bs(x,k),onBlur:Bs(w,B),onMouseEnter:Bs(m,k),onMouseLeave:Bs(E,B),onTouchStart:Bs(S,k)}]:[!1,R,{}]}function Bs(e,t){return i=>{e&&e(i),i.defaultPrevented||t(i)}}function Y2({page:e,...t}){let{router:i}=Yh(),o=L.useMemo(()=>Lh(i.routes,e,i.basename),[i.routes,e,i.basename]);return o?L.createElement(Q2,{page:e,matches:o,...t}):null}function X2(e){let{manifest:t,routeModules:i}=Xh(),[o,c]=L.useState([]);return L.useEffect(()=>{let d=!1;return j2(e,t,i).then(g=>{d||c(g)}),()=>{d=!0}},[e,t,i]),o}function Q2({page:e,matches:t,...i}){let o=Wn(),{manifest:c,routeModules:d}=Xh(),{basename:g}=Yh(),{loaderData:x,matches:w}=W2(),m=L.useMemo(()=>Z1(e,t,w,c,o,"data"),[e,t,w,c,o]),E=L.useMemo(()=>Z1(e,t,w,c,o,"assets"),[e,t,w,c,o]),S=L.useMemo(()=>{if(e===o.pathname+o.search+o.hash)return[];let B=new Set,O=!1;if(t.forEach(N=>{var M;let b=c.routes[N.route.id];!b||!b.hasLoader||(!m.some(z=>z.route.id===N.route.id)&&N.route.id in x&&((M=d[N.route.id])!=null&&M.shouldRevalidate)||b.hasClientLoader?O=!0:B.add(N.route.id))}),B.size===0)return[];let U=L2(e,g,"data");return O&&B.size>0&&U.searchParams.set("_routes",t.filter(N=>B.has(N.route.id)).map(N=>N.route.id).join(",")),[U.pathname+U.search]},[g,x,o,c,m,t,e,d]),R=L.useMemo(()=>U2(E,c),[E,c]),k=X2(E);return L.createElement(L.Fragment,null,S.map(B=>L.createElement("link",{key:B,rel:"prefetch",as:"fetch",href:B,...i})),R.map(B=>L.createElement("link",{key:B,rel:"modulepreload",href:B,...i})),k.map(({key:B,link:O})=>L.createElement("link",{key:B,nonce:i.nonce,...O})))}function Z2(...e){return t=>{e.forEach(i=>{typeof i=="function"?i(t):i!=null&&(i.current=t)})}}var Qh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Qh&&(window.__reactRouterVersion="7.8.2")}catch{}function K2({basename:e,children:t,window:i}){let o=L.useRef();o.current==null&&(o.current=Px({window:i,v5Compat:!0}));let c=o.current,[d,g]=L.useState({action:c.action,location:c.location}),x=L.useCallback(w=>{L.startTransition(()=>g(w))},[g]);return L.useLayoutEffect(()=>c.listen(x),[c,x]),L.createElement(I2,{basename:e,children:t,location:d.location,navigationType:d.action,navigator:c})}var Zh=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ld=L.forwardRef(function({onClick:t,discover:i="render",prefetch:o="none",relative:c,reloadDocument:d,replace:g,state:x,target:w,to:m,preventScrollReset:E,viewTransition:S,...R},k){let{basename:B}=L.useContext(sr),O=typeof m=="string"&&Zh.test(m),U,N=!1;if(typeof m=="string"&&O&&(U=m,Qh))try{let Y=new URL(window.location.href),de=m.startsWith("//")?new URL(Y.protocol+m):new URL(m),Te=yr(de.pathname,B);de.origin===Y.origin&&Te!=null?m=Te+de.search+de.hash:N=!0}catch{ir(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let b=c2(m,{relative:c}),[M,z,$]=G2(o,R),Z=ew(m,{replace:g,state:x,target:w,preventScrollReset:E,relative:c,viewTransition:S});function V(Y){t&&t(Y),Y.defaultPrevented||Z(Y)}let J=L.createElement("a",{...R,...$,href:U||b,onClick:N||d?t:V,ref:Z2(k,z),target:w,"data-discover":!O&&i==="render"?"true":void 0});return M&&!O?L.createElement(L.Fragment,null,J,L.createElement(Y2,{page:b})):J});ld.displayName="Link";var q2=L.forwardRef(function({"aria-current":t="page",caseSensitive:i=!1,className:o="",end:c=!1,style:d,to:g,viewTransition:x,children:w,...m},E){let S=Io(g,{relative:m.relative}),R=Wn(),k=L.useContext(cl),{navigator:B,basename:O}=L.useContext(sr),U=k!=null&&sw(S)&&x===!0,N=B.encodeLocation?B.encodeLocation(S).pathname:S.pathname,b=R.pathname,M=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;i||(b=b.toLowerCase(),M=M?M.toLowerCase():null,N=N.toLowerCase()),M&&O&&(M=yr(M,O)||M);const z=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let $=b===N||!c&&b.startsWith(N)&&b.charAt(z)==="/",Z=M!=null&&(M===N||!c&&M.startsWith(N)&&M.charAt(N.length)==="/"),V={isActive:$,isPending:Z,isTransitioning:U},J=$?t:void 0,Y;typeof o=="function"?Y=o(V):Y=[o,$?"active":null,Z?"pending":null,U?"transitioning":null].filter(Boolean).join(" ");let de=typeof d=="function"?d(V):d;return L.createElement(ld,{...m,"aria-current":J,className:Y,ref:E,style:de,to:g,viewTransition:x},typeof w=="function"?w(V):w)});q2.displayName="NavLink";var $2=L.forwardRef(({discover:e="render",fetcherKey:t,navigate:i,reloadDocument:o,replace:c,state:d,method:g=xa,action:x,onSubmit:w,relative:m,preventScrollReset:E,viewTransition:S,...R},k)=>{let B=rw(),O=iw(x,{relative:m}),U=g.toLowerCase()==="get"?"get":"post",N=typeof x=="string"&&Zh.test(x),b=M=>{if(w&&w(M),M.defaultPrevented)return;M.preventDefault();let z=M.nativeEvent.submitter,$=(z==null?void 0:z.getAttribute("formmethod"))||g;B(z||M.currentTarget,{fetcherKey:t,method:$,navigate:i,replace:c,state:d,relative:m,preventScrollReset:E,viewTransition:S})};return L.createElement("form",{ref:k,method:U,action:O,onSubmit:o?w:b,...R,"data-discover":!N&&e==="render"?"true":void 0})});$2.displayName="Form";function J2(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Kh(e){let t=L.useContext(ps);return ot(t,J2(e)),t}function ew(e,{target:t,replace:i,state:o,preventScrollReset:c,relative:d,viewTransition:g}={}){let x=wn(),w=Wn(),m=Io(e,{relative:d});return L.useCallback(E=>{if(R2(E,t)){E.preventDefault();let S=i!==void 0?i:xo(w)===xo(m);x(e,{replace:S,state:o,preventScrollReset:c,relative:d,viewTransition:g})}},[w,x,m,i,o,t,e,c,d,g])}var tw=0,nw=()=>`__${String(++tw)}__`;function rw(){let{router:e}=Kh("useSubmit"),{basename:t}=L.useContext(sr),i=E2();return L.useCallback(async(o,c={})=>{let{action:d,method:g,encType:x,formData:w,body:m}=k2(o,t);if(c.navigate===!1){let E=c.fetcherKey||nw();await e.fetch(E,i,c.action||d,{preventScrollReset:c.preventScrollReset,formData:w,body:m,formMethod:c.method||g,formEncType:c.encType||x,flushSync:c.flushSync})}else await e.navigate(c.action||d,{preventScrollReset:c.preventScrollReset,formData:w,body:m,formMethod:c.method||g,formEncType:c.encType||x,replace:c.replace,state:c.state,fromRouteId:i,flushSync:c.flushSync,viewTransition:c.viewTransition})},[e,t,i])}function iw(e,{relative:t}={}){let{basename:i}=L.useContext(sr),o=L.useContext(or);ot(o,"useFormAction must be used inside a RouteContext");let[c]=o.matches.slice(-1),d={...Io(e||".",{relative:t})},g=Wn();if(e==null){d.search=g.search;let x=new URLSearchParams(d.search),w=x.getAll("index");if(w.some(E=>E==="")){x.delete("index"),w.filter(S=>S).forEach(S=>x.append("index",S));let E=x.toString();d.search=E?`?${E}`:""}}return(!e||e===".")&&c.route.index&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(d.pathname=d.pathname==="/"?i:gr([i,d.pathname])),xo(d)}function sw(e,{relative:t}={}){let i=L.useContext(zh);ot(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=Kh("useViewTransitionState"),c=Io(e,{relative:t});if(!i.isTransitioning)return!1;let d=yr(i.currentLocation.pathname,o)||i.currentLocation.pathname,g=yr(i.nextLocation.pathname,o)||i.nextLocation.pathname;return Ha(c.pathname,g)!=null||Ha(c.pathname,d)!=null}function K1(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function ow(...e){return t=>{let i=!1;const o=e.map(c=>{const d=K1(c,t);return!i&&typeof d=="function"&&(i=!0),d});if(i)return()=>{for(let c=0;c<o.length;c++){const d=o[c];typeof d=="function"?d():K1(e[c],null)}}}}function qh(e){const t=aw(e),i=L.forwardRef((o,c)=>{const{children:d,...g}=o,x=L.Children.toArray(d),w=x.find(cw);if(w){const m=w.props.children,E=x.map(S=>S===w?L.Children.count(m)>1?L.Children.only(null):L.isValidElement(m)?m.props.children:null:S);return y.jsx(t,{...g,ref:c,children:L.isValidElement(m)?L.cloneElement(m,void 0,E):null})}return y.jsx(t,{...g,ref:c,children:d})});return i.displayName=`${e}.Slot`,i}var $h=qh("Slot");function aw(e){const t=L.forwardRef((i,o)=>{const{children:c,...d}=i;if(L.isValidElement(c)){const g=dw(c),x=uw(d,c.props);return c.type!==L.Fragment&&(x.ref=o?ow(o,g):g),L.cloneElement(c,x)}return L.Children.count(c)>1?L.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var lw=Symbol("radix.slottable");function cw(e){return L.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===lw}function uw(e,t){const i={...t};for(const o in t){const c=e[o],d=t[o];/^on[A-Z]/.test(o)?c&&d?i[o]=(...x)=>{const w=d(...x);return c(...x),w}:c&&(i[o]=c):o==="style"?i[o]={...c,...d}:o==="className"&&(i[o]=[c,d].filter(Boolean).join(" "))}return{...e,...i}}function dw(e){var o,c;let t=(o=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:o.get,i=t&&"isReactWarning"in t&&t.isReactWarning;return i?e.ref:(t=(c=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:c.get,i=t&&"isReactWarning"in t&&t.isReactWarning,i?e.props.ref:e.props.ref||e.ref)}function Jh(e){var t,i,o="";if(typeof e=="string"||typeof e=="number")o+=e;else if(typeof e=="object")if(Array.isArray(e)){var c=e.length;for(t=0;t<c;t++)e[t]&&(i=Jh(e[t]))&&(o&&(o+=" "),o+=i)}else for(i in e)e[i]&&(o&&(o+=" "),o+=i);return o}function eg(){for(var e,t,i=0,o="",c=arguments.length;i<c;i++)(e=arguments[i])&&(t=Jh(e))&&(o&&(o+=" "),o+=t);return o}const q1=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,$1=eg,cd=(e,t)=>i=>{var o;if((t==null?void 0:t.variants)==null)return $1(e,i==null?void 0:i.class,i==null?void 0:i.className);const{variants:c,defaultVariants:d}=t,g=Object.keys(c).map(m=>{const E=i==null?void 0:i[m],S=d==null?void 0:d[m];if(E===null)return null;const R=q1(E)||q1(S);return c[m][R]}),x=i&&Object.entries(i).reduce((m,E)=>{let[S,R]=E;return R===void 0||(m[S]=R),m},{}),w=t==null||(o=t.compoundVariants)===null||o===void 0?void 0:o.reduce((m,E)=>{let{class:S,className:R,...k}=E;return Object.entries(k).every(B=>{let[O,U]=B;return Array.isArray(U)?U.includes({...d,...x}[O]):{...d,...x}[O]===U})?[...m,S,R]:m},[]);return $1(e,g,w,i==null?void 0:i.class,i==null?void 0:i.className)};function fw(){for(var e=0,t,i,o="";e<arguments.length;)(t=arguments[e++])&&(i=tg(t))&&(o&&(o+=" "),o+=i);return o}function tg(e){if(typeof e=="string")return e;for(var t,i="",o=0;o<e.length;o++)e[o]&&(t=tg(e[o]))&&(i&&(i+=" "),i+=t);return i}var ud="-";function hw(e){var t=pw(e),i=e.conflictingClassGroups,o=e.conflictingClassGroupModifiers,c=o===void 0?{}:o;function d(x){var w=x.split(ud);return w[0]===""&&w.length!==1&&w.shift(),ng(w,t)||gw(x)}function g(x,w){var m=i[x]||[];return w&&c[x]?[].concat(m,c[x]):m}return{getClassGroupId:d,getConflictingClassGroupIds:g}}function ng(e,t){var g;if(e.length===0)return t.classGroupId;var i=e[0],o=t.nextPart.get(i),c=o?ng(e.slice(1),o):void 0;if(c)return c;if(t.validators.length!==0){var d=e.join(ud);return(g=t.validators.find(function(x){var w=x.validator;return w(d)}))==null?void 0:g.classGroupId}}var J1=/^\[(.+)\]$/;function gw(e){if(J1.test(e)){var t=J1.exec(e)[1],i=t==null?void 0:t.substring(0,t.indexOf(":"));if(i)return"arbitrary.."+i}}function pw(e){var t=e.theme,i=e.prefix,o={nextPart:new Map,validators:[]},c=xw(Object.entries(e.classGroups),i);return c.forEach(function(d){var g=d[0],x=d[1];tu(x,o,g,t)}),o}function tu(e,t,i,o){e.forEach(function(c){if(typeof c=="string"){var d=c===""?t:ef(t,c);d.classGroupId=i;return}if(typeof c=="function"){if(mw(c)){tu(c(o),t,i,o);return}t.validators.push({validator:c,classGroupId:i});return}Object.entries(c).forEach(function(g){var x=g[0],w=g[1];tu(w,ef(t,x),i,o)})})}function ef(e,t){var i=e;return t.split(ud).forEach(function(o){i.nextPart.has(o)||i.nextPart.set(o,{nextPart:new Map,validators:[]}),i=i.nextPart.get(o)}),i}function mw(e){return e.isThemeGetter}function xw(e,t){return t?e.map(function(i){var o=i[0],c=i[1],d=c.map(function(g){return typeof g=="string"?t+g:typeof g=="object"?Object.fromEntries(Object.entries(g).map(function(x){var w=x[0],m=x[1];return[t+w,m]})):g});return[o,d]}):e}function ww(e){if(e<1)return{get:function(){},set:function(){}};var t=0,i=new Map,o=new Map;function c(d,g){i.set(d,g),t++,t>e&&(t=0,o=i,i=new Map)}return{get:function(g){var x=i.get(g);if(x!==void 0)return x;if((x=o.get(g))!==void 0)return c(g,x),x},set:function(g,x){i.has(g)?i.set(g,x):c(g,x)}}}var rg="!";function yw(e){var t=e.separator||":",i=t.length===1,o=t[0],c=t.length;return function(g){for(var x=[],w=0,m=0,E,S=0;S<g.length;S++){var R=g[S];if(w===0){if(R===o&&(i||g.slice(S,S+c)===t)){x.push(g.slice(m,S)),m=S+c;continue}if(R==="/"){E=S;continue}}R==="["?w++:R==="]"&&w--}var k=x.length===0?g:g.substring(m),B=k.startsWith(rg),O=B?k.substring(1):k,U=E&&E>m?E-m:void 0;return{modifiers:x,hasImportantModifier:B,baseClassName:O,maybePostfixModifierPosition:U}}}function Cw(e){if(e.length<=1)return e;var t=[],i=[];return e.forEach(function(o){var c=o[0]==="[";c?(t.push.apply(t,i.sort().concat([o])),i=[]):i.push(o)}),t.push.apply(t,i.sort()),t}function Ew(e){return{cache:ww(e.cacheSize),splitModifiers:yw(e),...hw(e)}}var vw=/\s+/;function Aw(e,t){var i=t.splitModifiers,o=t.getClassGroupId,c=t.getConflictingClassGroupIds,d=new Set;return e.trim().split(vw).map(function(g){var x=i(g),w=x.modifiers,m=x.hasImportantModifier,E=x.baseClassName,S=x.maybePostfixModifierPosition,R=o(S?E.substring(0,S):E),k=!!S;if(!R){if(!S)return{isTailwindClass:!1,originalClassName:g};if(R=o(E),!R)return{isTailwindClass:!1,originalClassName:g};k=!1}var B=Cw(w).join(":"),O=m?B+rg:B;return{isTailwindClass:!0,modifierId:O,classGroupId:R,originalClassName:g,hasPostfixModifier:k}}).reverse().filter(function(g){if(!g.isTailwindClass)return!0;var x=g.modifierId,w=g.classGroupId,m=g.hasPostfixModifier,E=x+w;return d.has(E)?!1:(d.add(E),c(w,m).forEach(function(S){return d.add(x+S)}),!0)}).reverse().map(function(g){return g.originalClassName}).join(" ")}function Sw(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];var o,c,d,g=x;function x(m){var E=t[0],S=t.slice(1),R=S.reduce(function(k,B){return B(k)},E());return o=Ew(R),c=o.cache.get,d=o.cache.set,g=w,w(m)}function w(m){var E=c(m);if(E)return E;var S=Aw(m,o);return d(m,S),S}return function(){return g(fw.apply(null,arguments))}}function Ze(e){var t=function(o){return o[e]||[]};return t.isThemeGetter=!0,t}var ig=/^\[(?:([a-z-]+):)?(.+)\]$/i,Iw=/^\d+\/\d+$/,Nw=new Set(["px","full","screen"]),Tw=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,bw=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,_w=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function Pn(e){return ui(e)||Nw.has(e)||Iw.test(e)||nu(e)}function nu(e){return Ci(e,"length",Lw)}function Mw(e){return Ci(e,"size",sg)}function Rw(e){return Ci(e,"position",sg)}function Ow(e){return Ci(e,"url",Pw)}function ia(e){return Ci(e,"number",ui)}function ui(e){return!Number.isNaN(Number(e))}function Dw(e){return e.endsWith("%")&&ui(e.slice(0,-1))}function Fs(e){return tf(e)||Ci(e,"number",tf)}function Ie(e){return ig.test(e)}function js(){return!0}function Mr(e){return Tw.test(e)}function kw(e){return Ci(e,"",Bw)}function Ci(e,t,i){var o=ig.exec(e);return o?o[1]?o[1]===t:i(o[2]):!1}function Lw(e){return bw.test(e)}function sg(){return!1}function Pw(e){return e.startsWith("url(")}function tf(e){return Number.isInteger(Number(e))}function Bw(e){return _w.test(e)}function Fw(){var e=Ze("colors"),t=Ze("spacing"),i=Ze("blur"),o=Ze("brightness"),c=Ze("borderColor"),d=Ze("borderRadius"),g=Ze("borderSpacing"),x=Ze("borderWidth"),w=Ze("contrast"),m=Ze("grayscale"),E=Ze("hueRotate"),S=Ze("invert"),R=Ze("gap"),k=Ze("gradientColorStops"),B=Ze("gradientColorStopPositions"),O=Ze("inset"),U=Ze("margin"),N=Ze("opacity"),b=Ze("padding"),M=Ze("saturate"),z=Ze("scale"),$=Ze("sepia"),Z=Ze("skew"),V=Ze("space"),J=Ze("translate"),Y=function(){return["auto","contain","none"]},de=function(){return["auto","hidden","clip","visible","scroll"]},Te=function(){return["auto",Ie,t]},ne=function(){return[Ie,t]},ve=function(){return["",Pn]},He=function(){return["auto",ui,Ie]},G=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},je=function(){return["solid","dashed","dotted","double","none"]},me=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},re=function(){return["start","end","center","between","around","evenly","stretch"]},ce=function(){return["","0",Ie]},ge=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},ke=function(){return[ui,ia]},ye=function(){return[ui,Ie]};return{cacheSize:500,theme:{colors:[js],spacing:[Pn],blur:["none","",Mr,Ie],brightness:ke(),borderColor:[e],borderRadius:["none","","full",Mr,Ie],borderSpacing:ne(),borderWidth:ve(),contrast:ke(),grayscale:ce(),hueRotate:ye(),invert:ce(),gap:ne(),gradientColorStops:[e],gradientColorStopPositions:[Dw,nu],inset:Te(),margin:Te(),opacity:ke(),padding:ne(),saturate:ke(),scale:ke(),sepia:ce(),skew:ye(),space:ne(),translate:ne()},classGroups:{aspect:[{aspect:["auto","square","video",Ie]}],container:["container"],columns:[{columns:[Mr]}],"break-after":[{"break-after":ge()}],"break-before":[{"break-before":ge()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(G(),[Ie])}],overflow:[{overflow:de()}],"overflow-x":[{"overflow-x":de()}],"overflow-y":[{"overflow-y":de()}],overscroll:[{overscroll:Y()}],"overscroll-x":[{"overscroll-x":Y()}],"overscroll-y":[{"overscroll-y":Y()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[O]}],"inset-x":[{"inset-x":[O]}],"inset-y":[{"inset-y":[O]}],start:[{start:[O]}],end:[{end:[O]}],top:[{top:[O]}],right:[{right:[O]}],bottom:[{bottom:[O]}],left:[{left:[O]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Fs]}],basis:[{basis:Te()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ie]}],grow:[{grow:ce()}],shrink:[{shrink:ce()}],order:[{order:["first","last","none",Fs]}],"grid-cols":[{"grid-cols":[js]}],"col-start-end":[{col:["auto",{span:["full",Fs]},Ie]}],"col-start":[{"col-start":He()}],"col-end":[{"col-end":He()}],"grid-rows":[{"grid-rows":[js]}],"row-start-end":[{row:["auto",{span:[Fs]},Ie]}],"row-start":[{"row-start":He()}],"row-end":[{"row-end":He()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ie]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ie]}],gap:[{gap:[R]}],"gap-x":[{"gap-x":[R]}],"gap-y":[{"gap-y":[R]}],"justify-content":[{justify:["normal"].concat(re())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(re(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(re(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[b]}],px:[{px:[b]}],py:[{py:[b]}],ps:[{ps:[b]}],pe:[{pe:[b]}],pt:[{pt:[b]}],pr:[{pr:[b]}],pb:[{pb:[b]}],pl:[{pl:[b]}],m:[{m:[U]}],mx:[{mx:[U]}],my:[{my:[U]}],ms:[{ms:[U]}],me:[{me:[U]}],mt:[{mt:[U]}],mr:[{mr:[U]}],mb:[{mb:[U]}],ml:[{ml:[U]}],"space-x":[{"space-x":[V]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[V]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",Ie,t]}],"min-w":[{"min-w":["min","max","fit",Ie,Pn]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Mr]},Mr,Ie]}],h:[{h:[Ie,t,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",Ie,Pn]}],"max-h":[{"max-h":[Ie,t,"min","max","fit"]}],"font-size":[{text:["base",Mr,nu]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ia]}],"font-family":[{font:[js]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ie]}],"line-clamp":[{"line-clamp":["none",ui,ia]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ie,Pn]}],"list-image":[{"list-image":["none",Ie]}],"list-style-type":[{list:["none","disc","decimal",Ie]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[N]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[N]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(je(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",Pn]}],"underline-offset":[{"underline-offset":["auto",Ie,Pn]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:ne()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ie]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ie]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[N]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(G(),[Rw])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Mw]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Ow]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[B]}],"gradient-via-pos":[{via:[B]}],"gradient-to-pos":[{to:[B]}],"gradient-from":[{from:[k]}],"gradient-via":[{via:[k]}],"gradient-to":[{to:[k]}],rounded:[{rounded:[d]}],"rounded-s":[{"rounded-s":[d]}],"rounded-e":[{"rounded-e":[d]}],"rounded-t":[{"rounded-t":[d]}],"rounded-r":[{"rounded-r":[d]}],"rounded-b":[{"rounded-b":[d]}],"rounded-l":[{"rounded-l":[d]}],"rounded-ss":[{"rounded-ss":[d]}],"rounded-se":[{"rounded-se":[d]}],"rounded-ee":[{"rounded-ee":[d]}],"rounded-es":[{"rounded-es":[d]}],"rounded-tl":[{"rounded-tl":[d]}],"rounded-tr":[{"rounded-tr":[d]}],"rounded-br":[{"rounded-br":[d]}],"rounded-bl":[{"rounded-bl":[d]}],"border-w":[{border:[x]}],"border-w-x":[{"border-x":[x]}],"border-w-y":[{"border-y":[x]}],"border-w-s":[{"border-s":[x]}],"border-w-e":[{"border-e":[x]}],"border-w-t":[{"border-t":[x]}],"border-w-r":[{"border-r":[x]}],"border-w-b":[{"border-b":[x]}],"border-w-l":[{"border-l":[x]}],"border-opacity":[{"border-opacity":[N]}],"border-style":[{border:[].concat(je(),["hidden"])}],"divide-x":[{"divide-x":[x]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[x]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[N]}],"divide-style":[{divide:je()}],"border-color":[{border:[c]}],"border-color-x":[{"border-x":[c]}],"border-color-y":[{"border-y":[c]}],"border-color-t":[{"border-t":[c]}],"border-color-r":[{"border-r":[c]}],"border-color-b":[{"border-b":[c]}],"border-color-l":[{"border-l":[c]}],"divide-color":[{divide:[c]}],"outline-style":[{outline:[""].concat(je())}],"outline-offset":[{"outline-offset":[Ie,Pn]}],"outline-w":[{outline:[Pn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:ve()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[N]}],"ring-offset-w":[{"ring-offset":[Pn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Mr,kw]}],"shadow-color":[{shadow:[js]}],opacity:[{opacity:[N]}],"mix-blend":[{"mix-blend":me()}],"bg-blend":[{"bg-blend":me()}],filter:[{filter:["","none"]}],blur:[{blur:[i]}],brightness:[{brightness:[o]}],contrast:[{contrast:[w]}],"drop-shadow":[{"drop-shadow":["","none",Mr,Ie]}],grayscale:[{grayscale:[m]}],"hue-rotate":[{"hue-rotate":[E]}],invert:[{invert:[S]}],saturate:[{saturate:[M]}],sepia:[{sepia:[$]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[i]}],"backdrop-brightness":[{"backdrop-brightness":[o]}],"backdrop-contrast":[{"backdrop-contrast":[w]}],"backdrop-grayscale":[{"backdrop-grayscale":[m]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[E]}],"backdrop-invert":[{"backdrop-invert":[S]}],"backdrop-opacity":[{"backdrop-opacity":[N]}],"backdrop-saturate":[{"backdrop-saturate":[M]}],"backdrop-sepia":[{"backdrop-sepia":[$]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[g]}],"border-spacing-x":[{"border-spacing-x":[g]}],"border-spacing-y":[{"border-spacing-y":[g]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ie]}],duration:[{duration:ye()}],ease:[{ease:["linear","in","out","in-out",Ie]}],delay:[{delay:ye()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ie]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[z]}],"scale-x":[{"scale-x":[z]}],"scale-y":[{"scale-y":[z]}],rotate:[{rotate:[Fs,Ie]}],"translate-x":[{"translate-x":[J]}],"translate-y":[{"translate-y":[J]}],"skew-x":[{"skew-x":[Z]}],"skew-y":[{"skew-y":[Z]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ie]}],accent:[{accent:["auto",e]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ie]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":ne()}],"scroll-mx":[{"scroll-mx":ne()}],"scroll-my":[{"scroll-my":ne()}],"scroll-ms":[{"scroll-ms":ne()}],"scroll-me":[{"scroll-me":ne()}],"scroll-mt":[{"scroll-mt":ne()}],"scroll-mr":[{"scroll-mr":ne()}],"scroll-mb":[{"scroll-mb":ne()}],"scroll-ml":[{"scroll-ml":ne()}],"scroll-p":[{"scroll-p":ne()}],"scroll-px":[{"scroll-px":ne()}],"scroll-py":[{"scroll-py":ne()}],"scroll-ps":[{"scroll-ps":ne()}],"scroll-pe":[{"scroll-pe":ne()}],"scroll-pt":[{"scroll-pt":ne()}],"scroll-pr":[{"scroll-pr":ne()}],"scroll-pb":[{"scroll-pb":ne()}],"scroll-pl":[{"scroll-pl":ne()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ie]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Pn,ia]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var jw=Sw(Fw);function Rn(...e){return jw(eg(e))}const Uw=cd("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function Ee({className:e,variant:t,size:i,asChild:o=!1,...c}){const d=o?$h:"button";return y.jsx(d,{"data-slot":"button",className:Rn(Uw({variant:t,size:i,className:e})),...c})}function rn({className:e,type:t,...i}){return y.jsx("input",{type:t,"data-slot":"input",className:Rn("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...i})}var zw=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],No=zw.reduce((e,t)=>{const i=qh(`Primitive.${t}`),o=L.forwardRef((c,d)=>{const{asChild:g,...x}=c,w=g?i:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(w,{...x,ref:d})});return o.displayName=`Primitive.${t}`,{...e,[t]:o}},{}),Vw="Label",og=L.forwardRef((e,t)=>y.jsx(No.label,{...e,ref:t,onMouseDown:i=>{var c;i.target.closest("button, input, select, textarea")||((c=e.onMouseDown)==null||c.call(e,i),!i.defaultPrevented&&i.detail>1&&i.preventDefault())}}));og.displayName=Vw;var Hw=og;function Dt({className:e,...t}){return y.jsx(Hw,{"data-slot":"label",className:Rn("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}const Ww=cd("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function ss({className:e,variant:t,...i}){return y.jsx("div",{"data-slot":"alert",role:"alert",className:Rn(Ww({variant:t}),e),...i})}function os({className:e,...t}){return y.jsx("div",{"data-slot":"alert-description",className:Rn("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",e),...t})}var Gw="Separator",nf="horizontal",Yw=["horizontal","vertical"],ag=L.forwardRef((e,t)=>{const{decorative:i,orientation:o=nf,...c}=e,d=Xw(o)?o:nf,x=i?{role:"none"}:{"aria-orientation":d==="vertical"?d:void 0,role:"separator"};return y.jsx(No.div,{"data-orientation":d,...x,...c,ref:t})});ag.displayName=Gw;function Xw(e){return Yw.includes(e)}var Qw=ag;function lg({className:e,orientation:t="horizontal",decorative:i=!0,...o}){return y.jsx(Qw,{"data-slot":"separator-root",decorative:i,orientation:t,className:Rn("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...o})}var Zw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Kw=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),qw=(e,t)=>{const i=L.forwardRef(({color:o="currentColor",size:c=24,strokeWidth:d=2,absoluteStrokeWidth:g,children:x,...w},m)=>L.createElement("svg",{ref:m,...Zw,width:c,height:c,stroke:o,strokeWidth:g?Number(d)*24/Number(c):d,className:`lucide lucide-${Kw(e)}`,...w},[...t.map(([E,S])=>L.createElement(E,S)),...(Array.isArray(x)?x:[x])||[]]));return i.displayName=`${e}`,i};var tt=qw;const Ei=tt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),ru=tt("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),$w=tt("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),Jw=tt("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),ey=tt("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),ty=tt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),ny=tt("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),cg=tt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),ry=tt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),iu=tt("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),su=tt("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),iy=tt("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]),sy=tt("KeyRound",[["path",{d:"M2 18v3c0 .6.4 1 1 1h4v-3h3v-3h2l1.4-1.4a6.5 6.5 0 1 0-4-4Z",key:"167ctg"}],["circle",{cx:"16.5",cy:"7.5",r:".5",key:"1kog09"}]]),oy=tt("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]),ug=tt("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),ay=tt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),ly=tt("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]),dd=tt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),rf=tt("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),cy=tt("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),Wa=tt("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]),uy=tt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),dg=tt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),dy=tt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Tt="https://backend-service-wop3.onrender.com";function fy({onContinue:e}){const[t,i]=L.useState({email:"",password:"",confirmPassword:""}),o=wn(),[c,d]=L.useState(!1),[g,x]=L.useState(!1),[w,m]=L.useState({}),[E,S]=L.useState(!1),R=N=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(N),k=N=>N.length>=8,B=(N,b)=>{i(M=>({...M,[N]:b})),w[N]&&m(M=>({...M,[N]:""}))},O=()=>{const N={};return t.email.trim()?R(t.email)||(N.email="Please enter a valid email address"):N.email="Email address is required",t.password?k(t.password)||(N.password="Password must be at least 8 characters long"):N.password="Password is required",t.confirmPassword?t.password!==t.confirmPassword&&(N.confirmPassword="Passwords do not match"):N.confirmPassword="Please confirm your password",m(N),Object.keys(N).length===0},U=async()=>{if(O()){S(!0),m({});try{const N=await fetch(`${Tt}/v1/auth/signup`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t.email,password:t.password}),credentials:"include"}),b=await N.json();if(!N.ok)throw new Error(b.error||"Signup failed");o("/verify-email",{state:{email:t.email}})}catch(N){m({api:N.message})}finally{S(!1)}}};return L.useEffect(()=>{window.google&&window.google.accounts&&window.google.accounts.id&&(window.google.accounts.id.initialize({client_id:{}.VITE_GOOGLE_CLIENT_ID,callback:async N=>{if(N.credential)try{const b=await fetch(`${Tt}/v1/auth/google`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({idToken:N.credential})}),M=await b.json();if(!b.ok)throw new Error(M.error||"Google signup failed");e()}catch(b){m({api:b.message})}}}),window.google.accounts.id.renderButton(document.getElementById("google-btn"),{theme:"outline",size:"large",width:"100%",text:"signup_with"}))},[]),y.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[y.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-border",children:[y.jsx(Ee,{variant:"ghost",size:"icon",children:y.jsx(Ei,{className:"w-5 h-5"})}),y.jsx("h2",{className:"font-medium",children:"Sign Up"}),y.jsx("div",{className:"w-10"})]}),y.jsx("div",{className:"flex-1 flex flex-col justify-center px-6 py-8",children:y.jsxs("div",{className:"w-full max-w-sm mx-auto space-y-6",children:[y.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-2xl flex items-center justify-center mx-auto",children:y.jsx(dd,{className:"w-8 h-8 text-primary"})}),y.jsxs("div",{className:"text-center space-y-2",children:[y.jsx("h1",{className:"text-2xl font-semibold",children:"Create your account"}),y.jsx("p",{className:"text-muted-foreground",children:"Join Rekindle and start building your professional network"})]}),w.api&&y.jsx(ss,{variant:"destructive",children:y.jsx(os,{children:w.api})}),y.jsx("div",{id:"google-btn",className:"w-full flex justify-center"}),y.jsxs("div",{className:"relative mt-4",children:[y.jsx(lg,{}),y.jsx("span",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 bg-background px-2 text-sm text-muted-foreground",children:"or"})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx(Dt,{htmlFor:"email",children:"Email address"}),y.jsx(rn,{id:"email",type:"email",placeholder:"john@company.com",value:t.email,onChange:N=>B("email",N.target.value),className:w.email?"border-destructive":"",autoFocus:!0}),w.email&&y.jsx("p",{className:"text-sm text-destructive",children:w.email})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(Dt,{htmlFor:"password",children:"Password"}),y.jsxs("div",{className:"relative",children:[y.jsx(rn,{id:"password",type:c?"text":"password",placeholder:"Enter your password",value:t.password,onChange:N=>B("password",N.target.value),className:w.password?"border-destructive pr-10":"pr-10"}),y.jsx(Ee,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>d(!c),children:c?y.jsx(iu,{className:"w-4 h-4 text-muted-foreground"}):y.jsx(su,{className:"w-4 h-4 text-muted-foreground"})})]}),w.password&&y.jsx("p",{className:"text-sm text-destructive",children:w.password}),y.jsx("p",{className:"text-xs text-muted-foreground",children:"Must be at least 8 characters long"})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(Dt,{htmlFor:"confirmPassword",children:"Confirm password"}),y.jsxs("div",{className:"relative",children:[y.jsx(rn,{id:"confirmPassword",type:g?"text":"password",placeholder:"Confirm your password",value:t.confirmPassword,onChange:N=>B("confirmPassword",N.target.value),className:w.confirmPassword?"border-destructive pr-10":"pr-10"}),y.jsx(Ee,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>x(!g),children:g?y.jsx(iu,{className:"w-4 h-4 text-muted-foreground"}):y.jsx(su,{className:"w-4 h-4 text-muted-foreground"})})]}),w.confirmPassword&&y.jsx("p",{className:"text-sm text-destructive",children:w.confirmPassword})]}),y.jsx(Ee,{onClick:U,disabled:!t.email.trim()||!t.password||!t.confirmPassword||E,className:"w-full h-12",children:E?y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx("div",{className:"w-4 h-4 border-2 border-primary-foreground border-t-transparent rounded-full animate-spin"}),y.jsx("span",{children:"Creating account..."})]}):"Create Account"})]}),y.jsx("div",{className:"text-center",children:y.jsx(ld,{to:"/login",className:"text-primary hover:underline font-medium",children:"Already have an account? Login"})})]})})]})}function hy(){var O;const e=Wn(),t=wn(),i=((O=e.state)==null?void 0:O.email)||"",[o,c]=L.useState(""),[d,g]=L.useState(""),[x,w]=L.useState(""),[m,E]=L.useState(!1),[S,R]=L.useState(!1),k=async()=>{if(!o.trim()){g("OTP code is required");return}E(!0),g("");try{const U=await fetch(`${Tt}/v1/auth/verify-email`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:i,code:o})}),N=await U.json();if(!U.ok)throw new Error(N.error||"Verification failed");t("/profile")}catch(U){g(U.message)}finally{E(!1)}},B=async()=>{R(!0),w("");try{const U=await fetch("/v1/otp/send-otp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:i})}),N=await U.json();if(!U.ok)throw new Error(N.error||"Failed to resend OTP");w("OTP resent successfully!")}catch(U){g(U.message)}finally{R(!1)}};return y.jsx("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center px-6",children:y.jsxs("div",{className:"w-full max-w-md space-y-8 p-6 rounded-2xl border shadow-sm bg-card",children:[y.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-2xl flex items-center justify-center mx-auto",children:y.jsx(dd,{className:"w-8 h-8 text-primary"})}),y.jsxs("div",{className:"text-center space-y-2",children:[y.jsx("h1",{className:"text-2xl font-semibold",children:"Verify your email"}),y.jsxs("p",{className:"text-muted-foreground",children:["We sent a 6-digit code to ",y.jsx("span",{className:"font-medium",children:i}),". Enter it below to continue."]})]}),y.jsxs("div",{className:"space-y-3",children:[y.jsx(Dt,{htmlFor:"otp",children:"OTP Code"}),y.jsx(rn,{id:"otp",type:"text",placeholder:"Enter 6-digit code",value:o,onChange:U=>c(U.target.value),maxLength:6,className:"tracking-widest text-center text-lg"}),d&&y.jsx("p",{className:"text-sm text-destructive",children:d}),x&&y.jsx("p",{className:"text-sm text-green-600",children:x})]}),y.jsx(Ee,{onClick:k,disabled:m||!o.trim(),className:"w-full h-12",children:m?y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx(ug,{className:"w-4 h-4 animate-spin"}),y.jsx("span",{children:"Verifying..."})]}):"Verify Email"}),y.jsx("div",{className:"text-center",children:y.jsxs("p",{className:"text-sm text-muted-foreground",children:["Didn’t receive the code?"," ",y.jsx("button",{onClick:B,disabled:S,className:"text-primary font-medium hover:underline",children:S?"Resending...":"Resend OTP"})]})})]})})}function gy(){const e=wn(),[t,i]=L.useState({email:"",password:""}),[o,c]=L.useState(!1),[d,g]=L.useState({}),[x,w]=L.useState(!1),[m,E]=L.useState(!1),S=O=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(O),R=(O,U)=>{i(N=>({...N,[O]:U})),d[O]&&g(N=>({...N,[O]:""}))},k=()=>{const O={};return t.email.trim()?S(t.email)||(O.email="Invalid email"):O.email="Email is required",t.password||(O.password="Password is required"),g(O),Object.keys(O).length===0},B=async()=>{if(k()){w(!0),g({});try{const O=await fetch(`${Tt}/v1/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)}),U=await O.json();if(!O.ok)throw new Error(U.error||"Login failed");e("/home")}catch(O){g({api:O.message})}finally{w(!1)}}};return L.useEffect(()=>{window.google&&window.google.accounts&&window.google.accounts.id&&(window.google.accounts.id.initialize({client_id:{}.VITE_GOOGLE_CLIENT_ID,callback:async O=>{if(O.credential){E(!0);try{const U=await fetch(`${Tt}/v1/auth/google`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({idToken:O.credential})}),N=await U.json();if(!U.ok)throw new Error(N.error||"Google login failed");e("/home")}catch(U){g({api:U.message})}finally{E(!1)}}}}),window.google.accounts.id.renderButton(document.getElementById("google-login-btn"),{theme:"outline",size:"large",width:"100%"}))},[e]),y.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[y.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-border",children:[y.jsx(Ee,{variant:"ghost",size:"icon",onClick:()=>e(-1),children:y.jsx(Ei,{className:"w-5 h-5"})}),y.jsx("h2",{className:"font-medium",children:"Sign In"}),y.jsx("div",{className:"w-10"})]}),y.jsx("div",{className:"flex-1 flex flex-col justify-center px-6 py-8",children:y.jsxs("div",{className:"w-full max-w-sm mx-auto space-y-6",children:[y.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-2xl flex items-center justify-center mx-auto",children:y.jsx(ly,{className:"w-8 h-8 text-primary"})}),y.jsxs("div",{className:"text-center space-y-2",children:[y.jsx("h1",{className:"text-2xl font-semibold",children:"Welcome back"}),y.jsx("p",{className:"text-muted-foreground",children:"Sign in to your NetConnect account"})]}),d.api&&y.jsx(ss,{variant:"destructive",children:y.jsx(os,{children:d.api})}),y.jsx("div",{id:"google-login-btn",className:"w-full flex justify-center"}),m&&y.jsx("p",{className:"text-sm text-muted-foreground text-center mt-2",children:"Connecting with Google..."}),y.jsxs("div",{className:"relative",children:[y.jsx(lg,{}),y.jsx("span",{className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 bg-background px-2 text-sm text-muted-foreground",children:"or"})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx(Dt,{htmlFor:"email",children:"Email address"}),y.jsx(rn,{id:"email",type:"email",placeholder:"john@company.com",value:t.email,onChange:O=>R("email",O.target.value),disabled:x,className:d.email?"border-destructive":""}),d.email&&y.jsx("p",{className:"text-sm text-destructive",children:d.email})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx(Dt,{htmlFor:"password",children:"Password"}),y.jsx("button",{onClick:()=>e("/forgot-password"),className:"text-primary hover:underline font-medium",children:"forgot password?"})]}),y.jsxs("div",{className:"relative",children:[y.jsx(rn,{id:"password",type:o?"text":"password",placeholder:"Enter your password",value:t.password,onChange:O=>R("password",O.target.value),disabled:x,className:d.password?"border-destructive pr-10":"pr-10"}),y.jsx(Ee,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>c(!o),children:o?y.jsx(iu,{className:"w-4 h-4 text-muted-foreground"}):y.jsx(su,{className:"w-4 h-4 text-muted-foreground"})})]}),d.password&&y.jsx("p",{className:"text-sm text-destructive",children:d.password})]}),y.jsx(Ee,{onClick:B,disabled:!t.email.trim()||!t.password||x,className:"w-full h-12",children:x?y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx("div",{className:"w-4 h-4 border-2 border-primary-foreground border-t-transparent rounded-full animate-spin"}),y.jsx("span",{children:"Signing in..."})]}):"Sign In"})]}),y.jsx("div",{className:"text-center",children:y.jsxs("p",{className:"text-sm text-muted-foreground",children:["Don't have an account?"," ",y.jsx("button",{onClick:()=>e("/signup"),className:"text-primary hover:underline font-medium",children:"Sign up"})]})})]})})]})}function py({onGetStarted:e}){return y.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary to-primary/80 flex flex-col items-center justify-center px-6 text-white",children:y.jsxs("div",{className:"w-full max-w-sm lg:max-w-2xl space-y-8 lg:space-y-12 text-center",children:[y.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[y.jsx("div",{className:"w-20 h-20 lg:w-32 lg:h-32 bg-secondary rounded-2xl lg:rounded-3xl flex items-center justify-center mx-auto",children:y.jsx(Wa,{className:"w-10 h-10 lg:w-16 lg:h-16 text-primary"})}),y.jsxs("div",{children:[y.jsx("h1",{className:"text-3xl lg:text-5xl xl:text-6xl font-semibold text-white",children:"Rekindle"}),y.jsx("p",{className:"text-primary-foreground/80 mt-2 lg:mt-4 lg:text-xl",children:"Connect instantly. Remember forever."})]})]}),y.jsx("div",{className:"space-y-6 lg:space-y-8",children:y.jsxs("div",{className:"lg:grid lg:grid-cols-3 lg:gap-8 space-y-6 lg:space-y-0",children:[y.jsxs("div",{className:"flex lg:flex-col items-center lg:items-center space-x-4 lg:space-x-0 lg:space-y-4 text-left lg:text-center",children:[y.jsx("div",{className:"w-12 h-12 lg:w-16 lg:h-16 bg-primary-foreground/10 rounded-xl lg:rounded-2xl flex items-center justify-center flex-shrink-0",children:y.jsx(Wa,{className:"w-6 h-6 lg:w-8 lg:h-8 text-secondary"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-medium text-white lg:text-lg",children:"Quick QR Scan"}),y.jsx("p",{className:"text-sm lg:text-base text-primary-foreground/70",children:"Connect instantly with a quick scan"})]})]}),y.jsxs("div",{className:"flex lg:flex-col items-center lg:items-center space-x-4 lg:space-x-0 lg:space-y-4 text-left lg:text-center",children:[y.jsx("div",{className:"w-12 h-12 lg:w-16 lg:h-16 bg-primary-foreground/10 rounded-xl lg:rounded-2xl flex items-center justify-center flex-shrink-0",children:y.jsx(dy,{className:"w-6 h-6 lg:w-8 lg:h-8 text-secondary"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-medium text-white lg:text-lg",children:"Manage Connections"}),y.jsx("p",{className:"text-sm lg:text-base text-primary-foreground/70",children:"Organize and track your network"})]})]}),y.jsxs("div",{className:"flex lg:flex-col items-center lg:items-center space-x-4 lg:space-x-0 lg:space-y-4 text-left lg:text-center",children:[y.jsx("div",{className:"w-12 h-12 lg:w-16 lg:h-16 bg-primary-foreground/10 rounded-xl lg:rounded-2xl flex items-center justify-center flex-shrink-0",children:y.jsx(ru,{className:"w-6 h-6 lg:w-8 lg:h-8 text-secondary"})}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-medium text-white lg:text-lg",children:"Smart Reminders"}),y.jsx("p",{className:"text-sm lg:text-base text-primary-foreground/70",children:"Never forget to follow up"})]})]})]})}),y.jsxs("div",{className:"space-y-4 lg:space-y-6 pt-8 lg:pt-12",children:[y.jsx(Ee,{onClick:e,className:"w-full lg:w-auto lg:px-12 bg-secondary text-secondary-foreground hover:bg-secondary/90 h-12 lg:h-14 text-base lg:text-lg font-medium",children:"Get Started"}),y.jsx("p",{className:"text-primary-foreground/70 text-sm lg:text-base",children:"Join thousands of professionals building meaningful connections"})]}),y.jsx("div",{className:"hidden lg:block pt-8",children:y.jsxs("div",{className:"bg-primary-foreground/10 rounded-2xl p-6 lg:p-8",children:[y.jsx("h3",{className:"font-medium text-white mb-2 lg:text-lg",children:"Perfect for professionals"}),y.jsx("p",{className:"text-sm lg:text-base text-primary-foreground/70",children:"Networking events, conferences, business meetings - build meaningful connections wherever you go."})]})})]})})}const my=cd("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function fg({className:e,variant:t,asChild:i=!1,...o}){const c=i?$h:"span";return y.jsx(c,{"data-slot":"badge",className:Rn(my({variant:t}),e),...o})}function xy(e,t=[]){let i=[];function o(d,g){const x=L.createContext(g),w=i.length;i=[...i,g];const m=S=>{var N;const{scope:R,children:k,...B}=S,O=((N=R==null?void 0:R[e])==null?void 0:N[w])||x,U=L.useMemo(()=>B,Object.values(B));return y.jsx(O.Provider,{value:U,children:k})};m.displayName=d+"Provider";function E(S,R){var O;const k=((O=R==null?void 0:R[e])==null?void 0:O[w])||x,B=L.useContext(k);if(B)return B;if(g!==void 0)return g;throw new Error(`\`${S}\` must be used within \`${d}\``)}return[m,E]}const c=()=>{const d=i.map(g=>L.createContext(g));return function(x){const w=(x==null?void 0:x[e])||d;return L.useMemo(()=>({[`__scope${e}`]:{...x,[e]:w}}),[x,w])}};return c.scopeName=e,[o,wy(c,...t)]}function wy(...e){const t=e[0];if(e.length===1)return t;const i=()=>{const o=e.map(c=>({useScope:c(),scopeName:c.scopeName}));return function(d){const g=o.reduce((x,{useScope:w,scopeName:m})=>{const S=w(d)[`__scope${m}`];return{...x,...S}},{});return L.useMemo(()=>({[`__scope${t.scopeName}`]:g}),[g])}};return i.scopeName=t.scopeName,i}function yy(e){const t=L.useRef(e);return L.useEffect(()=>{t.current=e}),L.useMemo(()=>(...i)=>{var o;return(o=t.current)==null?void 0:o.call(t,...i)},[])}var ou=globalThis!=null&&globalThis.document?L.useLayoutEffect:()=>{},hg={exports:{}},gg={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var as=L;function Cy(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ey=typeof Object.is=="function"?Object.is:Cy,vy=as.useState,Ay=as.useEffect,Sy=as.useLayoutEffect,Iy=as.useDebugValue;function Ny(e,t){var i=t(),o=vy({inst:{value:i,getSnapshot:t}}),c=o[0].inst,d=o[1];return Sy(function(){c.value=i,c.getSnapshot=t,sc(c)&&d({inst:c})},[e,i,t]),Ay(function(){return sc(c)&&d({inst:c}),e(function(){sc(c)&&d({inst:c})})},[e]),Iy(i),i}function sc(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!Ey(e,i)}catch{return!0}}function Ty(e,t){return t()}var by=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Ty:Ny;gg.useSyncExternalStore=as.useSyncExternalStore!==void 0?as.useSyncExternalStore:by;hg.exports=gg;var _y=hg.exports;function My(){return _y.useSyncExternalStore(Ry,()=>!0,()=>!1)}function Ry(){return()=>{}}var fd="Avatar",[Oy,z3]=xy(fd),[Dy,pg]=Oy(fd),mg=L.forwardRef((e,t)=>{const{__scopeAvatar:i,...o}=e,[c,d]=L.useState("idle");return y.jsx(Dy,{scope:i,imageLoadingStatus:c,onImageLoadingStatusChange:d,children:y.jsx(No.span,{...o,ref:t})})});mg.displayName=fd;var xg="AvatarImage",wg=L.forwardRef((e,t)=>{const{__scopeAvatar:i,src:o,onLoadingStatusChange:c=()=>{},...d}=e,g=pg(xg,i),x=ky(o,d),w=yy(m=>{c(m),g.onImageLoadingStatusChange(m)});return ou(()=>{x!=="idle"&&w(x)},[x,w]),x==="loaded"?y.jsx(No.img,{...d,ref:t,src:o}):null});wg.displayName=xg;var yg="AvatarFallback",Cg=L.forwardRef((e,t)=>{const{__scopeAvatar:i,delayMs:o,...c}=e,d=pg(yg,i),[g,x]=L.useState(o===void 0);return L.useEffect(()=>{if(o!==void 0){const w=window.setTimeout(()=>x(!0),o);return()=>window.clearTimeout(w)}},[o]),g&&d.imageLoadingStatus!=="loaded"?y.jsx(No.span,{...c,ref:t}):null});Cg.displayName=yg;function sf(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function ky(e,{referrerPolicy:t,crossOrigin:i}){const o=My(),c=L.useRef(null),d=(()=>o?(c.current||(c.current=new window.Image),c.current):null)(),[g,x]=L.useState(()=>sf(d,e));return ou(()=>{x(sf(d,e))},[d,e]),ou(()=>{const w=S=>()=>{x(S)};if(!d)return;const m=w("loaded"),E=w("error");return d.addEventListener("load",m),d.addEventListener("error",E),t&&(d.referrerPolicy=t),typeof i=="string"&&(d.crossOrigin=i),()=>{d.removeEventListener("load",m),d.removeEventListener("error",E)}},[d,i,t]),g}var Ly=mg,Py=wg,By=Cg;function ls({className:e,...t}){return y.jsx(Ly,{"data-slot":"avatar",className:Rn("relative flex size-10 shrink-0 overflow-hidden rounded-full",e),...t})}function cs({className:e,...t}){return y.jsx(Py,{"data-slot":"avatar-image",className:Rn("aspect-square size-full",e),...t})}function us({className:e,...t}){return y.jsx(By,{"data-slot":"avatar-fallback",className:Rn("bg-muted flex size-full items-center justify-center rounded-full",e),...t})}const Fy=["Software Engineer","Product Manager","Designer","Data Scientist","Marketer","Sales","Founder","Investor","Recruiter","Other"];function jy(){const e=wn(),[t,i]=L.useState({name:"",email:"john@company.com",linkedin:"",photo:""}),[o,c]=L.useState([]),[d,g]=L.useState(""),[x,w]=L.useState(!1),[m,E]=L.useState(""),S=O=>{var b;const U=(b=O.target.files)==null?void 0:b[0];if(!U)return;const N=new FileReader;N.onload=M=>{var $;const z=($=M.target)==null?void 0:$.result;g(z),i(Z=>({...Z,photo:z}))},N.readAsDataURL(U)},R=O=>{c(U=>U.includes(O)?U.filter(N=>N!==O):[...U,O])},k=async()=>{w(!0),E("");try{const O=await fetch(`${Tt}/v1/auth/me`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({fullName:t.name,linkedin:t.linkedin,photoUrl:t.photo,tags:o})}),U=await O.json();if(!O.ok)throw new Error(U.error||"Failed to update profile");e("/home")}catch(O){E(O.message)}finally{w(!1)}},B=t.name.trim()&&o.length>0;return y.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[y.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-6 border-b border-border",children:[y.jsx(Ee,{variant:"ghost",size:"icon",onClick:()=>e(-1),children:y.jsx(Ei,{className:"w-5 h-5"})}),y.jsx("h2",{className:"font-medium text-base sm:text-lg",children:"Setup Profile"}),y.jsx(Ee,{variant:"ghost",onClick:k,disabled:!B||x,className:"text-primary text-sm sm:text-base",children:x?"Saving...":"Done"})]}),y.jsx("div",{className:"flex-1 overflow-y-auto px-4 py-6 sm:px-6 sm:py-8",children:y.jsxs("div",{className:"max-w-xl mx-auto space-y-8",children:[y.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[y.jsxs("div",{className:"relative",children:[y.jsxs(ls,{className:"w-20 h-20 sm:w-24 sm:h-24",children:[y.jsx(cs,{src:d}),y.jsx(us,{className:"bg-primary/10",children:y.jsx(dg,{className:"w-6 h-6 sm:w-8 sm:h-8 text-primary"})})]}),y.jsxs("label",{className:"absolute -bottom-2 -right-2 w-7 h-7 sm:w-8 sm:h-8 bg-primary rounded-full flex items-center justify-center cursor-pointer hover:bg-primary/90 transition-colors",children:[y.jsx(ey,{className:"w-3 h-3 sm:w-4 sm:h-4 text-primary-foreground"}),y.jsx("input",{type:"file",accept:"image/*",onChange:S,className:"hidden"})]})]}),y.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Add a professional photo"})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx(Dt,{htmlFor:"name",children:"Full Name *"}),y.jsx(rn,{id:"name",value:t.name,onChange:O=>i({...t,name:O.target.value})})]}),y.jsxs("div",{children:[y.jsx(Dt,{children:"Email"}),y.jsx(rn,{value:t.email,disabled:!0,className:"bg-muted text-sm sm:text-base"})]}),y.jsxs("div",{children:[y.jsx(Dt,{children:"LinkedIn (optional)"}),y.jsx(rn,{placeholder:"linkedin.com/in/johndoe",value:t.linkedin,onChange:O=>i({...t,linkedin:O.target.value})})]})]}),y.jsxs("div",{className:"space-y-3",children:[y.jsx(Dt,{children:"Professional Tags *"}),y.jsx("div",{className:"flex flex-wrap gap-2",children:Fy.map(O=>y.jsx(fg,{variant:o.includes(O)?"default":"outline",className:`cursor-pointer px-3 py-1 text-xs sm:text-sm ${o.includes(O)?"bg-primary text-primary-foreground hover:bg-primary/90":"hover:bg-accent"}`,onClick:()=>R(O),children:O},O))})]}),m&&y.jsx("p",{className:"text-sm text-destructive",children:m}),y.jsx(Ee,{onClick:k,disabled:!B||x,className:"w-full h-11 sm:h-12 text-sm sm:text-base",children:x?"Saving...":"Complete Profile"})]})})]})}function Nn({className:e,...t}){return y.jsx("div",{"data-slot":"card",className:Rn("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",e),...t})}function Tn({className:e,...t}){return y.jsx("div",{"data-slot":"card-content",className:Rn("px-6 [&:last-child]:pb-6",e),...t})}function Uy({onViewConnections:e,onEditProfile:t}){const[i,o]=L.useState(null),[c,d]=L.useState(null),[g,x]=L.useState([]),[w,m]=L.useState(!0);return L.useEffect(()=>{(async()=>{try{const S=await fetch(`${Tt}/v1/auth/me`,{credentials:"include"});if(S.ok){const B=await S.json();o(B.user)}const[R,k]=await Promise.all([fetch(`${Tt}/v1/connections/stats`,{credentials:"include"}),fetch(`${Tt}/v1/connections`,{credentials:"include"})]);R.ok&&d(await R.json()),k.ok&&x(await k.json())}catch(S){console.error("Failed to fetch homepage data:",S)}finally{m(!1)}})()},[]),y.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[y.jsx("div",{className:"bg-gradient-to-r from-primary to-primary/80 text-white",children:y.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 lg:py-10",children:[y.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsxs(ls,{className:"w-12 h-12 sm:w-14 sm:h-14 lg:w-16 lg:h-16 border-2 border-white/20",children:[y.jsx(cs,{src:i==null?void 0:i.photoUrl}),y.jsx(us,{className:"bg-secondary text-secondary-foreground font-medium",children:i!=null&&i.name?i.name.split(" ").map(E=>E[0]).join(""):y.jsx(dg,{})})]}),y.jsxs("div",{children:[y.jsx("h1",{className:"font-semibold text-lg sm:text-xl lg:text-2xl",children:"Welcome back!"}),y.jsx("p",{className:"text-white/80 text-sm sm:text-base lg:text-lg",children:(i==null?void 0:i.name)||"there"})]})]}),y.jsx(Ee,{variant:"ghost",size:"icon",onClick:t,className:"text-white hover:bg-white/10 w-10 h-10 sm:w-12 sm:h-12 self-start sm:self-center",children:y.jsx(uy,{className:"w-5 h-5 sm:w-6 sm:h-6"})})]}),y.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mt-6",children:["Connections","This Week","This Month","Pending"].map((E,S)=>{const R=[(c==null?void 0:c.total)??0,(c==null?void 0:c.thisWeek)??0,(c==null?void 0:c.thisMonth)??0,(c==null?void 0:c.pending)??0];return y.jsxs("div",{className:"bg-white/10 rounded-xl p-4 text-center",children:[y.jsx("div",{className:"text-lg sm:text-xl font-bold",children:w?y.jsx("span",{className:"animate-pulse",children:"--"}):R[S]}),y.jsx("div",{className:"text-white/80 text-xs sm:text-sm",children:E})]},E)})})]})}),y.jsxs("div",{className:"flex-1 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 -mt-6 sm:-mt-10 space-y-6 py-8",children:[y.jsx(Nn,{className:"bg-gradient-to-r from-secondary to-secondary/80 border-0 shadow-lg",children:y.jsx(Tn,{className:"p-4 sm:p-6",children:y.jsx(Ee,{onClick:()=>window.location.href="/u/:code",className:"w-full h-14 sm:h-16 bg-white/20 hover:bg-white/30 border border-white/30 text-secondary-foreground",children:y.jsxs("div",{className:"flex items-center justify-center space-x-2 sm:space-x-3",children:[y.jsx(Wa,{className:"w-6 h-6 sm:w-8 sm:h-8"}),y.jsx("span",{className:"font-medium text-base sm:text-lg",children:"Scan QR Code"})]})})})}),y.jsx(Nn,{className:"border border-border/50 hover:shadow-md transition cursor-pointer",onClick:()=>window.location.href="/my-qrcode",children:y.jsxs(Tn,{className:"p-4 text-center",children:[y.jsx("div",{className:"w-12 h-12 sm:w-14 sm:h-14 bg-secondary/10 rounded-xl flex items-center justify-center mx-auto mb-3",children:y.jsx(Wa,{className:"w-6 h-6 sm:w-7 sm:h-7 text-secondary"})}),y.jsx("p",{className:"font-medium text-base sm:text-lg",children:"My QR"}),y.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Share your profile"})]})}),y.jsx(Nn,{children:y.jsxs(Tn,{className:"p-4 sm:p-6",children:[y.jsx("h3",{className:"font-medium text-lg sm:text-xl mb-4",children:"Recent Activity"}),w?y.jsx("div",{className:"space-y-3",children:[...Array(3)].map((E,S)=>y.jsxs("div",{className:"flex items-center space-x-3 animate-pulse",children:[y.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-muted rounded-full"}),y.jsxs("div",{className:"flex-1 space-y-2",children:[y.jsx("div",{className:"h-3 bg-muted rounded w-2/3"}),y.jsx("div",{className:"h-3 bg-muted rounded w-1/3"})]})]},S))}):g.length===0?y.jsx("p",{className:"text-muted-foreground text-sm",children:"No recent connections yet."}):y.jsx("div",{className:"space-y-4",children:g.slice(0,5).map(E=>{var S,R,k,B,O,U;return y.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsxs(ls,{className:"w-10 h-10 sm:w-12 sm:h-12",children:[y.jsx(cs,{src:((S=E.profile)==null?void 0:S.photoUrl)||void 0}),y.jsx(us,{children:(k=(R=E.profile)==null?void 0:R.name)==null?void 0:k.split(" ").map(N=>N[0]).join("")})]}),y.jsxs("div",{children:[y.jsxs("p",{className:"font-medium text-sm sm:text-base",children:["Connected with"," ",y.jsx("span",{className:"font-semibold",children:(B=E.profile)==null?void 0:B.name})]}),y.jsx("p",{className:"text-xs text-muted-foreground",children:new Date(E.createdAt).toLocaleDateString()}),(U=(O=E.profile)==null?void 0:O.tags)!=null&&U.length?y.jsx("p",{className:"text-xs text-muted-foreground",children:E.profile.tags.join(", ")}):null]})]})},E._id)})}),y.jsx("div",{className:"mt-4 sm:mt-6",children:y.jsx(Ee,{variant:"outline",onClick:e,className:"w-full",children:"View All Connections"})})]})})]})]})}function zy(){const[e,t]=L.useState(""),[i,o]=L.useState(""),[c,d]=L.useState(""),[g,x]=L.useState(!1),w=wn(),m=async()=>{if(!e.trim()){d("Please enter your email address");return}x(!0),d(""),o("");try{const E=await fetch(`${Tt}/v1/otp/send-otp`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})}),S=await E.json();if(!E.ok)throw new Error(S.error||"Failed to send OTP");o("OTP has been sent to your email"),w("/reset-password",{state:{email:e}})}catch(E){d(E.message)}finally{x(!1)}};return y.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[y.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-border",children:[y.jsx(Ee,{variant:"ghost",size:"icon",children:y.jsx(Ei,{className:"w-5 h-5"})}),y.jsx("h2",{className:"font-medium",children:"Forgot Password"}),y.jsx("div",{className:"w-10"})]}),y.jsx("div",{className:"flex-1 flex flex-col justify-center px-6 py-8",children:y.jsxs("div",{className:"w-full max-w-sm mx-auto space-y-6",children:[y.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-2xl flex items-center justify-center mx-auto",children:y.jsx(sy,{className:"w-8 h-8 text-primary"})}),y.jsxs("div",{className:"text-center space-y-2",children:[y.jsx("h1",{className:"text-2xl font-semibold",children:"Reset your password"}),y.jsx("p",{className:"text-muted-foreground text-sm",children:"Enter your email address and we’ll send you a one-time code to reset your password."})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx(Dt,{htmlFor:"email",children:"Email address"}),y.jsx(rn,{id:"email",type:"email",placeholder:"you@example.com",value:e,onChange:E=>t(E.target.value),className:c?"border-destructive":"",autoFocus:!0})]}),y.jsx(Ee,{onClick:m,disabled:!e.trim()||g,className:"w-full h-12",children:g?y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx("div",{className:"w-4 h-4 border-2 border-primary-foreground border-t-transparent rounded-full animate-spin"}),y.jsx("span",{children:"Sending OTP..."})]}):"Send OTP"}),i&&y.jsx(ss,{className:"bg-green-50 border-green-200 text-green-700",children:y.jsx(os,{children:i})}),c&&y.jsx(ss,{className:"bg-red-50 border-red-200 text-red-700",children:y.jsx(os,{children:c})})]})]})})]})}function Vy(){var R;const e=Wn(),t=wn(),i=((R=e.state)==null?void 0:R.email)||"",[o,c]=L.useState({email:i,code:"",newPassword:"",confirmPassword:""}),[d,g]=L.useState(!1),[x,w]=L.useState(""),[m,E]=L.useState(""),S=async()=>{if(!o.code.trim()){w("OTP code is required");return}if(!o.newPassword.trim()){w("New password is required");return}if(o.newPassword!==o.confirmPassword){w("Passwords do not match");return}g(!0),w(""),E("");try{const k=await fetch(`${Tt}/v1/auth/reset-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o.email.trim().toLowerCase(),code:o.code.trim(),newPassword:o.newPassword})}),B=await k.json();if(!k.ok)throw new Error(B.error||"Reset failed");E("Password reset successfully. Redirecting to login..."),setTimeout(()=>t("/login"),2e3)}catch(k){w(k.message)}finally{g(!1)}};return y.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[y.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-border",children:[y.jsx(Ee,{variant:"ghost",size:"icon",onClick:()=>t(-1),children:y.jsx(Ei,{className:"w-5 h-5"})}),y.jsx("h2",{className:"font-medium",children:"Reset Password"}),y.jsx("div",{className:"w-10"})]}),y.jsx("div",{className:"flex-1 flex flex-col justify-center px-6 py-8",children:y.jsxs("div",{className:"w-full max-w-sm mx-auto space-y-6",children:[y.jsx("div",{className:"w-16 h-16 bg-primary/10 rounded-2xl flex items-center justify-center mx-auto",children:y.jsx(ay,{className:"w-8 h-8 text-primary"})}),y.jsxs("div",{className:"text-center space-y-2",children:[y.jsx("h1",{className:"text-2xl font-semibold",children:"Set a new password"}),y.jsxs("p",{className:"text-muted-foreground text-sm",children:["Enter the OTP we sent to ",y.jsx("span",{className:"font-medium",children:o.email})," and choose a new password."]})]}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsx(Dt,{htmlFor:"email",children:"Email"}),y.jsx(rn,{id:"email",type:"email",placeholder:"your email",value:o.email,onChange:k=>c({...o,email:k.target.value})})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(Dt,{htmlFor:"otp",children:"OTP Code"}),y.jsx(rn,{id:"otp",placeholder:"Enter the 6-digit code",value:o.code,onChange:k=>c({...o,code:k.target.value}),className:x&&!o.code?"border-destructive":""})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(Dt,{htmlFor:"newPassword",children:"New Password"}),y.jsx(rn,{id:"newPassword",type:"password",placeholder:"Enter new password",value:o.newPassword,onChange:k=>c({...o,newPassword:k.target.value})})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(Dt,{htmlFor:"confirmPassword",children:"Confirm Password"}),y.jsx(rn,{id:"confirmPassword",type:"password",placeholder:"Confirm new password",value:o.confirmPassword,onChange:k=>c({...o,confirmPassword:k.target.value})})]}),y.jsx(Ee,{onClick:S,disabled:!o.code||!o.newPassword||!o.confirmPassword||d,className:"w-full h-12",children:d?y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx("div",{className:"w-4 h-4 border-2 border-primary-foreground border-t-transparent rounded-full animate-spin"}),y.jsx("span",{children:"Resetting..."})]}):"Reset Password"}),m&&y.jsx(ss,{className:"bg-green-50 border-green-200 text-green-700",children:y.jsx(os,{children:m})}),x&&y.jsx(ss,{className:"bg-red-50 border-red-200 text-red-700",children:y.jsx(os,{children:x})})]})]})})]})}function Hy({}){const[e,t]=L.useState([]),[i,o]=L.useState(!0);L.useEffect(()=>{(async()=>{try{const x=await fetch(`${Tt}/v1/connections`,{credentials:"include"});if(!x.ok)throw new Error("Failed to load connections");const w=await x.json();t(w)}catch(x){console.error("Failed to fetch connections:",x)}finally{o(!1)}})()},[]);const c=async g=>{try{if(!(await fetch(`${Tt}/v1/connections/${g}/accept`,{method:"POST",credentials:"include"})).ok)throw new Error("Failed to accept connection");t(w=>w.map(m=>m._id===g?{...m,status:"accepted"}:m))}catch(x){console.error(x),alert("Could not accept connection. Try again.")}},d=async g=>{try{if(!(await fetch(`${Tt}/v1/connections/${g}/reject`,{method:"POST",credentials:"include"})).ok)throw new Error("Failed to reject connection");t(w=>w.filter(m=>m._id!==g))}catch(x){console.error(x),alert("Could not reject connection. Try again.")}};return y.jsxs("div",{className:"min-h-screen bg-background p-6",children:[y.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Your Connections"}),i?y.jsx("p",{className:"text-center text-muted-foreground",children:"Loading..."}):e.length===0?y.jsx("p",{className:"text-center text-muted-foreground",children:"No connections yet."}):y.jsx("div",{className:"space-y-4",children:e.map(g=>{var x,w;return y.jsxs("div",{className:"flex items-center justify-between bg-white dark:bg-card rounded-xl shadow-sm p-4",children:[y.jsxs("div",{className:"flex items-center space-x-3",children:[y.jsx(ls,{className:"w-12 h-12",children:g.profile.photoUrl?y.jsx(cs,{src:g.profile.photoUrl}):y.jsx(us,{children:(x=g.profile.name)==null?void 0:x.split(" ").map(m=>m[0]).join("")})}),y.jsxs("div",{children:[y.jsx("p",{className:"font-medium",children:g.profile.name}),y.jsx("p",{className:"text-xs text-muted-foreground",children:(w=g.profile)==null?void 0:w.tags}),y.jsxs("p",{className:"text-xs text-muted-foreground",children:["Joined on ",new Date(g.createdAt).toLocaleDateString()]})]})]}),g.status==="pending"?g.isSender?y.jsx("span",{className:"text-sm text-muted-foreground",children:"Request Sent"}):g.isReceiver?y.jsxs("div",{className:"flex space-x-2",children:[y.jsx(Ee,{size:"sm",onClick:()=>c(g._id),className:"bg-green-600 text-white hover:bg-green-700",children:"Accept"}),y.jsx(Ee,{size:"sm",variant:"outline",onClick:()=>d(g._id),className:"hover:bg-red-50 text-red-600",children:"Reject"})]}):null:g.isReceiver?y.jsxs(y.Fragment,{children:[y.jsx("span",{className:"text-sm text-green-600",children:"Connection Accepted"}),y.jsx(Ee,{onClick:()=>window.location.href=`/connections/${g._id}`,size:"sm",variant:"outline",children:" View Details "})]}):y.jsxs(y.Fragment,{children:[y.jsx("span",{className:"text-sm text-green-600",children:"Connected"}),y.jsx(Ee,{onClick:()=>window.location.href=`/connections/${g._id}`,size:"sm",variant:"outline",children:" View Details "})]})]},g._id)})})]})}function Wy(){const[e,t]=L.useState(null),[i,o]=L.useState(!0),[c,d]=L.useState(null),[g,x]=L.useState(!1);L.useEffect(()=>{(async()=>{try{const E=await fetch(`${Tt}/v1/me/qr`,{credentials:"include"});if(!E.ok)throw new Error("Failed to generate QR code");const S=await E.json();t(S)}catch(E){d(E.message||"Something went wrong")}finally{o(!1)}})()},[]);const w=async()=>{if(e!=null&&e.url)try{await navigator.clipboard.writeText(e.url),x(!0),setTimeout(()=>x(!1),1500)}catch{d("Failed to copy link")}};return i?y.jsxs("div",{className:"flex items-center justify-center min-h-screen",children:[y.jsx(ug,{className:"w-6 h-6 animate-spin text-primary"}),y.jsx("span",{className:"ml-2 text-muted-foreground",children:"Loading your QR..."})]}):c?y.jsx("p",{className:"p-6 text-center text-red-500 font-medium",children:c}):e?y.jsx("div",{className:"min-h-screen bg-background flex flex-col items-center justify-center px-4 py-8",children:y.jsx(Nn,{className:"max-w-md w-full shadow-lg",children:y.jsxs(Tn,{className:"p-6 flex flex-col items-center space-y-6",children:[y.jsx("h1",{className:"text-xl sm:text-2xl font-semibold text-center",children:"My QR Code"}),y.jsx("img",{src:e.png,alt:"My QR Code",className:"w-48 h-48 sm:w-56 sm:h-56 border rounded-lg shadow-md"}),y.jsx("p",{className:"text-center text-muted-foreground text-sm sm:text-base",children:"Let others scan this QR code to connect with you instantly."}),y.jsx(Ee,{onClick:w,variant:g?"default":"outline",className:"w-full flex items-center justify-center space-x-2",children:g?y.jsxs(y.Fragment,{children:[y.jsx(ny,{className:"w-4 h-4"})," ",y.jsx("span",{children:"Copied!"})]}):y.jsxs(y.Fragment,{children:[y.jsx(ry,{className:"w-4 h-4"})," ",y.jsx("span",{children:"Copy Link"})]})})]})})}):y.jsx("p",{className:"p-6 text-center text-muted-foreground",children:"Could not generate QR"})}var se;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(se||(se={}));var of=new Map([[se.QR_CODE,"QR_CODE"],[se.AZTEC,"AZTEC"],[se.CODABAR,"CODABAR"],[se.CODE_39,"CODE_39"],[se.CODE_93,"CODE_93"],[se.CODE_128,"CODE_128"],[se.DATA_MATRIX,"DATA_MATRIX"],[se.MAXICODE,"MAXICODE"],[se.ITF,"ITF"],[se.EAN_13,"EAN_13"],[se.EAN_8,"EAN_8"],[se.PDF_417,"PDF_417"],[se.RSS_14,"RSS_14"],[se.RSS_EXPANDED,"RSS_EXPANDED"],[se.UPC_A,"UPC_A"],[se.UPC_E,"UPC_E"],[se.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),af;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(af||(af={}));function Gy(e){return Object.values(se).includes(e)}var Qr;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Qr||(Qr={}));var jn=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[Qr.SCAN_TYPE_CAMERA,Qr.SCAN_TYPE_FILE],e}(),Eg=function(){function e(t,i){this.format=t,this.formatName=i}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!of.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,of.get(t))},e}(),lf=function(){function e(){}return e.createFromText=function(t){var i={text:t};return{decodedText:t,result:i}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),au;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(au||(au={}));var vg=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:au.UNKWOWN_ERROR}},e}(),Ag=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,i){(this.verbose||i===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function er(e){return typeof e>"u"||e===null}function Yy(e,t,i){return e>i?i:e<t?t:e}var Gi=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),Pe=function(){function e(){}return e.scanningStatus=function(){return"Scanning"},e.idleStatus=function(){return"Idle"},e.errorStatus=function(){return"Error"},e.permissionStatus=function(){return"Permission"},e.noCameraFoundErrorStatus=function(){return"No Cameras"},e.lastMatch=function(t){return"Last Match: ".concat(t)},e.codeScannerTitle=function(){return"Code Scanner"},e.cameraPermissionTitle=function(){return"Request Camera Permissions"},e.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},e.noCameraFound=function(){return"No camera found"},e.scanButtonStopScanningText=function(){return"Stop Scanning"},e.scanButtonStartScanningText=function(){return"Start Scanning"},e.torchOnButton=function(){return"Switch On Torch"},e.torchOffButton=function(){return"Switch Off Torch"},e.torchOnFailedMessage=function(){return"Failed to turn on torch"},e.torchOffFailedMessage=function(){return"Failed to turn off torch"},e.scanButtonScanningStarting=function(){return"Launching Camera..."},e.textIfCameraScanSelected=function(){return"Scan an Image File"},e.textIfFileScanSelected=function(){return"Scan using camera directly"},e.selectCamera=function(){return"Select Camera"},e.fileSelectionChooseImage=function(){return"Choose Image"},e.fileSelectionChooseAnother=function(){return"Choose Another"},e.fileSelectionNoImageSelected=function(){return"No image choosen"},e.anonymousCameraPrefix=function(){return"Anonymous Camera"},e.dragAndDropMessage=function(){return"Or drop an image to scan"},e.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},e.zoom=function(){return"zoom"},e.loadingImage=function(){return"Loading image..."},e.cameraScanAltText=function(){return"Camera based scan"},e.fileScanAltText=function(){return"Fule based scan"},e}(),cf=function(){function e(){}return e.poweredBy=function(){return"Powered by "},e.reportIssues=function(){return"Report issues"},e}(),Sg=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,i){if(typeof t!="object"){var o=typeof t;return i.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(o,"."),!0),!1}for(var c=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],d=new Set(c),g=Object.keys(t),x=0,w=g;x<w.length;x++){var m=w[x];if(d.has(m))return i.logError("".concat(m," is not supported videoConstaints."),!0),!1}return!0},e}(),lu={exports:{}};(function(e,t){(function(i,o){o(t)})(bs,function(i){function o(v){return v==null}var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,n){v.__proto__=n}||function(v,n){for(var r in n)n.hasOwnProperty(r)&&(v[r]=n[r])};function d(v,n){c(v,n);function r(){this.constructor=v}v.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}function g(v,n){var r=Object.setPrototypeOf;r?r(v,n):v.__proto__=n}function x(v,n){n===void 0&&(n=v.constructor);var r=Error.captureStackTrace;r&&r(v,n)}var w=function(v){d(n,v);function n(r){var s=this.constructor,a=v.call(this,r)||this;return Object.defineProperty(a,"name",{value:s.name,enumerable:!1}),g(a,s.prototype),x(a),a}return n}(Error);class m extends w{constructor(n=void 0){super(n),this.message=n}getKind(){return this.constructor.kind}}m.kind="Exception";class E extends m{}E.kind="ArgumentException";class S extends m{}S.kind="IllegalArgumentException";class R{constructor(n){if(this.binarizer=n,n===null)throw new S("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(n,r){return this.binarizer.getBlackRow(n,r)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(n,r,s,a){const l=this.binarizer.getLuminanceSource().crop(n,r,s,a);return new R(this.binarizer.createBinarizer(l))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const n=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new R(this.binarizer.createBinarizer(n))}rotateCounterClockwise45(){const n=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new R(this.binarizer.createBinarizer(n))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class k extends m{static getChecksumInstance(){return new k}}k.kind="ChecksumException";class B{constructor(n){this.source=n}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class O{static arraycopy(n,r,s,a,l){for(;l--;)s[a++]=n[r++]}static currentTimeMillis(){return Date.now()}}class U extends m{}U.kind="IndexOutOfBoundsException";class N extends U{constructor(n=void 0,r=void 0){super(r),this.index=n,this.message=r}}N.kind="ArrayIndexOutOfBoundsException";class b{static fill(n,r){for(let s=0,a=n.length;s<a;s++)n[s]=r}static fillWithin(n,r,s,a){b.rangeCheck(n.length,r,s);for(let l=r;l<s;l++)n[l]=a}static rangeCheck(n,r,s){if(r>s)throw new S("fromIndex("+r+") > toIndex("+s+")");if(r<0)throw new N(r);if(s>n)throw new N(s)}static asList(...n){return n}static create(n,r,s){return Array.from({length:n}).map(l=>Array.from({length:r}).fill(s))}static createInt32Array(n,r,s){return Array.from({length:n}).map(l=>Int32Array.from({length:r}).fill(s))}static equals(n,r){if(!n||!r||!n.length||!r.length||n.length!==r.length)return!1;for(let s=0,a=n.length;s<a;s++)if(n[s]!==r[s])return!1;return!0}static hashCode(n){if(n===null)return 0;let r=1;for(const s of n)r=31*r+s;return r}static fillUint8Array(n,r){for(let s=0;s!==n.length;s++)n[s]=r}static copyOf(n,r){return n.slice(0,r)}static copyOfUint8Array(n,r){if(n.length<=r){const s=new Uint8Array(r);return s.set(n),s}return n.slice(0,r)}static copyOfRange(n,r,s){const a=s-r,l=new Int32Array(a);return O.arraycopy(n,r,l,0,a),l}static binarySearch(n,r,s){s===void 0&&(s=b.numberComparator);let a=0,l=n.length-1;for(;a<=l;){const u=l+a>>1,f=s(r,n[u]);if(f>0)a=u+1;else if(f<0)l=u-1;else return u}return-a-1}static numberComparator(n,r){return n-r}}class M{static numberOfTrailingZeros(n){let r;if(n===0)return 32;let s=31;return r=n<<16,r!==0&&(s-=16,n=r),r=n<<8,r!==0&&(s-=8,n=r),r=n<<4,r!==0&&(s-=4,n=r),r=n<<2,r!==0&&(s-=2,n=r),s-(n<<1>>>31)}static numberOfLeadingZeros(n){if(n===0)return 32;let r=1;return n>>>16||(r+=16,n<<=16),n>>>24||(r+=8,n<<=8),n>>>28||(r+=4,n<<=4),n>>>30||(r+=2,n<<=2),r-=n>>>31,r}static toHexString(n){return n.toString(16)}static toBinaryString(n){return String(parseInt(String(n),2))}static bitCount(n){return n=n-(n>>>1&1431655765),n=(n&858993459)+(n>>>2&858993459),n=n+(n>>>4)&252645135,n=n+(n>>>8),n=n+(n>>>16),n&63}static truncDivision(n,r){return Math.trunc(n/r)}static parseInt(n,r=void 0){return parseInt(n,r)}}M.MIN_VALUE_32_BITS=-2147483648,M.MAX_VALUE=Number.MAX_SAFE_INTEGER;class z{constructor(n,r){n===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=n,r==null?this.bits=z.makeArray(n):this.bits=r)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(n){if(n>this.bits.length*32){const r=z.makeArray(n);O.arraycopy(this.bits,0,r,0,this.bits.length),this.bits=r}}get(n){return(this.bits[Math.floor(n/32)]&1<<(n&31))!==0}set(n){this.bits[Math.floor(n/32)]|=1<<(n&31)}flip(n){this.bits[Math.floor(n/32)]^=1<<(n&31)}getNextSet(n){const r=this.size;if(n>=r)return r;const s=this.bits;let a=Math.floor(n/32),l=s[a];l&=~((1<<(n&31))-1);const u=s.length;for(;l===0;){if(++a===u)return r;l=s[a]}const f=a*32+M.numberOfTrailingZeros(l);return f>r?r:f}getNextUnset(n){const r=this.size;if(n>=r)return r;const s=this.bits;let a=Math.floor(n/32),l=~s[a];l&=~((1<<(n&31))-1);const u=s.length;for(;l===0;){if(++a===u)return r;l=~s[a]}const f=a*32+M.numberOfTrailingZeros(l);return f>r?r:f}setBulk(n,r){this.bits[Math.floor(n/32)]=r}setRange(n,r){if(r<n||n<0||r>this.size)throw new S;if(r===n)return;r--;const s=Math.floor(n/32),a=Math.floor(r/32),l=this.bits;for(let u=s;u<=a;u++){const f=u>s?0:n&31,p=(2<<(u<a?31:r&31))-(1<<f);l[u]|=p}}clear(){const n=this.bits.length,r=this.bits;for(let s=0;s<n;s++)r[s]=0}isRange(n,r,s){if(r<n||n<0||r>this.size)throw new S;if(r===n)return!0;r--;const a=Math.floor(n/32),l=Math.floor(r/32),u=this.bits;for(let f=a;f<=l;f++){const h=f>a?0:n&31,C=(2<<(f<l?31:r&31))-(1<<h)&4294967295;if((u[f]&C)!==(s?C:0))return!1}return!0}appendBit(n){this.ensureCapacity(this.size+1),n&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(n,r){if(r<0||r>32)throw new S("Num bits must be between 0 and 32");this.ensureCapacity(this.size+r);for(let s=r;s>0;s--)this.appendBit((n>>s-1&1)===1)}appendBitArray(n){const r=n.size;this.ensureCapacity(this.size+r);for(let s=0;s<r;s++)this.appendBit(n.get(s))}xor(n){if(this.size!==n.size)throw new S("Sizes don't match");const r=this.bits;for(let s=0,a=r.length;s<a;s++)r[s]^=n.bits[s]}toBytes(n,r,s,a){for(let l=0;l<a;l++){let u=0;for(let f=0;f<8;f++)this.get(n)&&(u|=1<<7-f),n++;r[s+l]=u}}getBitArray(){return this.bits}reverse(){const n=new Int32Array(this.bits.length),r=Math.floor((this.size-1)/32),s=r+1,a=this.bits;for(let l=0;l<s;l++){let u=a[l];u=u>>1&1431655765|(u&1431655765)<<1,u=u>>2&858993459|(u&858993459)<<2,u=u>>4&252645135|(u&252645135)<<4,u=u>>8&16711935|(u&16711935)<<8,u=u>>16&65535|(u&65535)<<16,n[r-l]=u}if(this.size!==s*32){const l=s*32-this.size;let u=n[0]>>>l;for(let f=1;f<s;f++){const h=n[f];u|=h<<32-l,n[f-1]=u,u=h>>>l}n[s-1]=u}this.bits=n}static makeArray(n){return new Int32Array(Math.floor((n+31)/32))}equals(n){if(!(n instanceof z))return!1;const r=n;return this.size===r.size&&b.equals(this.bits,r.bits)}hashCode(){return 31*this.size+b.hashCode(this.bits)}toString(){let n="";for(let r=0,s=this.size;r<s;r++)r&7||(n+=" "),n+=this.get(r)?"X":".";return n}clone(){return new z(this.size,this.bits.slice())}}var $;(function(v){v[v.OTHER=0]="OTHER",v[v.PURE_BARCODE=1]="PURE_BARCODE",v[v.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",v[v.TRY_HARDER=3]="TRY_HARDER",v[v.CHARACTER_SET=4]="CHARACTER_SET",v[v.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",v[v.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",v[v.ASSUME_GS1=7]="ASSUME_GS1",v[v.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",v[v.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",v[v.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})($||($={}));var Z=$;class V extends m{static getFormatInstance(){return new V}}V.kind="FormatException";var J;(function(v){v[v.Cp437=0]="Cp437",v[v.ISO8859_1=1]="ISO8859_1",v[v.ISO8859_2=2]="ISO8859_2",v[v.ISO8859_3=3]="ISO8859_3",v[v.ISO8859_4=4]="ISO8859_4",v[v.ISO8859_5=5]="ISO8859_5",v[v.ISO8859_6=6]="ISO8859_6",v[v.ISO8859_7=7]="ISO8859_7",v[v.ISO8859_8=8]="ISO8859_8",v[v.ISO8859_9=9]="ISO8859_9",v[v.ISO8859_10=10]="ISO8859_10",v[v.ISO8859_11=11]="ISO8859_11",v[v.ISO8859_13=12]="ISO8859_13",v[v.ISO8859_14=13]="ISO8859_14",v[v.ISO8859_15=14]="ISO8859_15",v[v.ISO8859_16=15]="ISO8859_16",v[v.SJIS=16]="SJIS",v[v.Cp1250=17]="Cp1250",v[v.Cp1251=18]="Cp1251",v[v.Cp1252=19]="Cp1252",v[v.Cp1256=20]="Cp1256",v[v.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",v[v.UTF8=22]="UTF8",v[v.ASCII=23]="ASCII",v[v.Big5=24]="Big5",v[v.GB18030=25]="GB18030",v[v.EUC_KR=26]="EUC_KR"})(J||(J={}));class Y{constructor(n,r,s,...a){this.valueIdentifier=n,this.name=s,typeof r=="number"?this.values=Int32Array.from([r]):this.values=r,this.otherEncodingNames=a,Y.VALUE_IDENTIFIER_TO_ECI.set(n,this),Y.NAME_TO_ECI.set(s,this);const l=this.values;for(let u=0,f=l.length;u!==f;u++){const h=l[u];Y.VALUES_TO_ECI.set(h,this)}for(const u of a)Y.NAME_TO_ECI.set(u,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(n){if(n<0||n>=900)throw new V("incorect value");const r=Y.VALUES_TO_ECI.get(n);if(r===void 0)throw new V("incorect value");return r}static getCharacterSetECIByName(n){const r=Y.NAME_TO_ECI.get(n);if(r===void 0)throw new V("incorect value");return r}equals(n){if(!(n instanceof Y))return!1;const r=n;return this.getName()===r.getName()}}Y.VALUE_IDENTIFIER_TO_ECI=new Map,Y.VALUES_TO_ECI=new Map,Y.NAME_TO_ECI=new Map,Y.Cp437=new Y(J.Cp437,Int32Array.from([0,2]),"Cp437"),Y.ISO8859_1=new Y(J.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),Y.ISO8859_2=new Y(J.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),Y.ISO8859_3=new Y(J.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),Y.ISO8859_4=new Y(J.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),Y.ISO8859_5=new Y(J.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),Y.ISO8859_6=new Y(J.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),Y.ISO8859_7=new Y(J.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),Y.ISO8859_8=new Y(J.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),Y.ISO8859_9=new Y(J.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),Y.ISO8859_10=new Y(J.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),Y.ISO8859_11=new Y(J.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),Y.ISO8859_13=new Y(J.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),Y.ISO8859_14=new Y(J.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),Y.ISO8859_15=new Y(J.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),Y.ISO8859_16=new Y(J.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),Y.SJIS=new Y(J.SJIS,20,"SJIS","Shift_JIS"),Y.Cp1250=new Y(J.Cp1250,21,"Cp1250","windows-1250"),Y.Cp1251=new Y(J.Cp1251,22,"Cp1251","windows-1251"),Y.Cp1252=new Y(J.Cp1252,23,"Cp1252","windows-1252"),Y.Cp1256=new Y(J.Cp1256,24,"Cp1256","windows-1256"),Y.UnicodeBigUnmarked=new Y(J.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),Y.UTF8=new Y(J.UTF8,26,"UTF8","UTF-8"),Y.ASCII=new Y(J.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),Y.Big5=new Y(J.Big5,28,"Big5"),Y.GB18030=new Y(J.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),Y.EUC_KR=new Y(J.EUC_KR,30,"EUC_KR","EUC-KR");class de extends m{}de.kind="UnsupportedOperationException";class Te{static decode(n,r){const s=this.encodingName(r);return this.customDecoder?this.customDecoder(n,s):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(s)?this.decodeFallback(n,s):new TextDecoder(s).decode(n)}static shouldDecodeOnFallback(n){return!Te.isBrowser()&&n==="ISO-8859-1"}static encode(n,r){const s=this.encodingName(r);return this.customEncoder?this.customEncoder(n,s):typeof TextEncoder>"u"?this.encodeFallback(n):new TextEncoder().encode(n)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(n){return typeof n=="string"?n:n.getName()}static encodingCharacterSet(n){return n instanceof Y?n:Y.getCharacterSetECIByName(n)}static decodeFallback(n,r){const s=this.encodingCharacterSet(r);if(Te.isDecodeFallbackSupported(s)){let a="";for(let l=0,u=n.length;l<u;l++){let f=n[l].toString(16);f.length<2&&(f="0"+f),a+="%"+f}return decodeURIComponent(a)}if(s.equals(Y.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(n.buffer));throw new de(`Encoding ${this.encodingName(r)} not supported by fallback.`)}static isDecodeFallbackSupported(n){return n.equals(Y.UTF8)||n.equals(Y.ISO8859_1)||n.equals(Y.ASCII)}static encodeFallback(n){const s=btoa(unescape(encodeURIComponent(n))).split(""),a=[];for(let l=0;l<s.length;l++)a.push(s[l].charCodeAt(0));return new Uint8Array(a)}}class ne{static castAsNonUtf8Char(n,r=null){const s=r?r.getName():this.ISO88591;return Te.decode(new Uint8Array([n]),s)}static guessEncoding(n,r){if(r!=null&&r.get(Z.CHARACTER_SET)!==void 0)return r.get(Z.CHARACTER_SET).toString();const s=n.length;let a=!0,l=!0,u=!0,f=0,h=0,p=0,C=0,A=0,I=0,_=0,D=0,P=0,F=0,W=0;const q=n.length>3&&n[0]===239&&n[1]===187&&n[2]===191;for(let ee=0;ee<s&&(a||l||u);ee++){const Q=n[ee]&255;u&&(f>0?Q&128?f--:u=!1:Q&128&&(Q&64?(f++,Q&32?(f++,Q&16?(f++,Q&8?u=!1:C++):p++):h++):u=!1)),a&&(Q>127&&Q<160?a=!1:Q>159&&(Q<192||Q===215||Q===247)&&W++),l&&(A>0?Q<64||Q===127||Q>252?l=!1:A--:Q===128||Q===160||Q>239?l=!1:Q>160&&Q<224?(I++,D=0,_++,_>P&&(P=_)):Q>127?(A++,_=0,D++,D>F&&(F=D)):(_=0,D=0))}return u&&f>0&&(u=!1),l&&A>0&&(l=!1),u&&(q||h+p+C>0)?ne.UTF8:l&&(ne.ASSUME_SHIFT_JIS||P>=3||F>=3)?ne.SHIFT_JIS:a&&l?P===2&&I===2||W*10>=s?ne.SHIFT_JIS:ne.ISO88591:a?ne.ISO88591:l?ne.SHIFT_JIS:u?ne.UTF8:ne.PLATFORM_DEFAULT_ENCODING}static format(n,...r){let s=-1;function a(u,f,h,p,C,A){if(u==="%%")return"%";if(r[++s]===void 0)return;u=p?parseInt(p.substr(1)):void 0;let I=C?parseInt(C.substr(1)):void 0,_;switch(A){case"s":_=r[s];break;case"c":_=r[s][0];break;case"f":_=parseFloat(r[s]).toFixed(u);break;case"p":_=parseFloat(r[s]).toPrecision(u);break;case"e":_=parseFloat(r[s]).toExponential(u);break;case"x":_=parseInt(r[s]).toString(I||16);break;case"d":_=parseFloat(parseInt(r[s],I||10).toPrecision(u)).toFixed(0);break}_=typeof _=="object"?JSON.stringify(_):(+_).toString(I);let D=parseInt(h),P=h&&h[0]+""=="0"?"0":" ";for(;_.length<D;)_=f!==void 0?_+P:P+_;return _}let l=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return n.replace(l,a)}static getBytes(n,r){return Te.encode(n,r)}static getCharCode(n,r=0){return n.charCodeAt(r)}static getCharAt(n){return String.fromCharCode(n)}}ne.SHIFT_JIS=Y.SJIS.getName(),ne.GB2312="GB2312",ne.ISO88591=Y.ISO8859_1.getName(),ne.EUC_JP="EUC_JP",ne.UTF8=Y.UTF8.getName(),ne.PLATFORM_DEFAULT_ENCODING=ne.UTF8,ne.ASSUME_SHIFT_JIS=!1;class ve{constructor(n=""){this.value=n}enableDecoding(n){return this.encoding=n,this}append(n){return typeof n=="string"?this.value+=n.toString():this.encoding?this.value+=ne.castAsNonUtf8Char(n,this.encoding):this.value+=String.fromCharCode(n),this}appendChars(n,r,s){for(let a=r;r<r+s;a++)this.append(n[a]);return this}length(){return this.value.length}charAt(n){return this.value.charAt(n)}deleteCharAt(n){this.value=this.value.substr(0,n)+this.value.substring(n+1)}setCharAt(n,r){this.value=this.value.substr(0,n)+r+this.value.substr(n+1)}substring(n,r){return this.value.substring(n,r)}setLengthToZero(){this.value=""}toString(){return this.value}insert(n,r){this.value=this.value.substr(0,n)+r+this.value.substr(n+r.length)}}class He{constructor(n,r,s,a){if(this.width=n,this.height=r,this.rowSize=s,this.bits=a,r==null&&(r=n),this.height=r,n<1||r<1)throw new S("Both dimensions must be greater than 0");s==null&&(s=Math.floor((n+31)/32)),this.rowSize=s,a==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(n){const r=n.length,s=n[0].length,a=new He(s,r);for(let l=0;l<r;l++){const u=n[l];for(let f=0;f<s;f++)u[f]&&a.set(f,l)}return a}static parseFromString(n,r,s){if(n===null)throw new S("stringRepresentation cannot be null");const a=new Array(n.length);let l=0,u=0,f=-1,h=0,p=0;for(;p<n.length;)if(n.charAt(p)===`
`||n.charAt(p)==="\r"){if(l>u){if(f===-1)f=l-u;else if(l-u!==f)throw new S("row lengths do not match");u=l,h++}p++}else if(n.substring(p,p+r.length)===r)p+=r.length,a[l]=!0,l++;else if(n.substring(p,p+s.length)===s)p+=s.length,a[l]=!1,l++;else throw new S("illegal character encountered: "+n.substring(p));if(l>u){if(f===-1)f=l-u;else if(l-u!==f)throw new S("row lengths do not match");h++}const C=new He(f,h);for(let A=0;A<l;A++)a[A]&&C.set(Math.floor(A%f),Math.floor(A/f));return C}get(n,r){const s=r*this.rowSize+Math.floor(n/32);return(this.bits[s]>>>(n&31)&1)!==0}set(n,r){const s=r*this.rowSize+Math.floor(n/32);this.bits[s]|=1<<(n&31)&4294967295}unset(n,r){const s=r*this.rowSize+Math.floor(n/32);this.bits[s]&=~(1<<(n&31)&4294967295)}flip(n,r){const s=r*this.rowSize+Math.floor(n/32);this.bits[s]^=1<<(n&31)&4294967295}xor(n){if(this.width!==n.getWidth()||this.height!==n.getHeight()||this.rowSize!==n.getRowSize())throw new S("input matrix dimensions do not match");const r=new z(Math.floor(this.width/32)+1),s=this.rowSize,a=this.bits;for(let l=0,u=this.height;l<u;l++){const f=l*s,h=n.getRow(l,r).getBitArray();for(let p=0;p<s;p++)a[f+p]^=h[p]}}clear(){const n=this.bits,r=n.length;for(let s=0;s<r;s++)n[s]=0}setRegion(n,r,s,a){if(r<0||n<0)throw new S("Left and top must be nonnegative");if(a<1||s<1)throw new S("Height and width must be at least 1");const l=n+s,u=r+a;if(u>this.height||l>this.width)throw new S("The region must fit inside the matrix");const f=this.rowSize,h=this.bits;for(let p=r;p<u;p++){const C=p*f;for(let A=n;A<l;A++)h[C+Math.floor(A/32)]|=1<<(A&31)&4294967295}}getRow(n,r){r==null||r.getSize()<this.width?r=new z(this.width):r.clear();const s=this.rowSize,a=this.bits,l=n*s;for(let u=0;u<s;u++)r.setBulk(u*32,a[l+u]);return r}setRow(n,r){O.arraycopy(r.getBitArray(),0,this.bits,n*this.rowSize,this.rowSize)}rotate180(){const n=this.getWidth(),r=this.getHeight();let s=new z(n),a=new z(n);for(let l=0,u=Math.floor((r+1)/2);l<u;l++)s=this.getRow(l,s),a=this.getRow(r-1-l,a),s.reverse(),a.reverse(),this.setRow(l,a),this.setRow(r-1-l,s)}getEnclosingRectangle(){const n=this.width,r=this.height,s=this.rowSize,a=this.bits;let l=n,u=r,f=-1,h=-1;for(let p=0;p<r;p++)for(let C=0;C<s;C++){const A=a[p*s+C];if(A!==0){if(p<u&&(u=p),p>h&&(h=p),C*32<l){let I=0;for(;!(A<<31-I&4294967295);)I++;C*32+I<l&&(l=C*32+I)}if(C*32+31>f){let I=31;for(;!(A>>>I);)I--;C*32+I>f&&(f=C*32+I)}}}return f<l||h<u?null:Int32Array.from([l,u,f-l+1,h-u+1])}getTopLeftOnBit(){const n=this.rowSize,r=this.bits;let s=0;for(;s<r.length&&r[s]===0;)s++;if(s===r.length)return null;const a=s/n;let l=s%n*32;const u=r[s];let f=0;for(;!(u<<31-f&4294967295);)f++;return l+=f,Int32Array.from([l,a])}getBottomRightOnBit(){const n=this.rowSize,r=this.bits;let s=r.length-1;for(;s>=0&&r[s]===0;)s--;if(s<0)return null;const a=Math.floor(s/n);let l=Math.floor(s%n)*32;const u=r[s];let f=31;for(;!(u>>>f);)f--;return l+=f,Int32Array.from([l,a])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(n){if(!(n instanceof He))return!1;const r=n;return this.width===r.width&&this.height===r.height&&this.rowSize===r.rowSize&&b.equals(this.bits,r.bits)}hashCode(){let n=this.width;return n=31*n+this.width,n=31*n+this.height,n=31*n+this.rowSize,n=31*n+b.hashCode(this.bits),n}toString(n="X ",r="  ",s=`
`){return this.buildToString(n,r,s)}buildToString(n,r,s){let a=new ve;for(let l=0,u=this.height;l<u;l++){for(let f=0,h=this.width;f<h;f++)a.append(this.get(f,l)?n:r);a.append(s)}return a.toString()}clone(){return new He(this.width,this.height,this.rowSize,this.bits.slice())}}class G extends m{static getNotFoundInstance(){return new G}}G.kind="NotFoundException";class je extends B{constructor(n){super(n),this.luminances=je.EMPTY,this.buckets=new Int32Array(je.LUMINANCE_BUCKETS)}getBlackRow(n,r){const s=this.getLuminanceSource(),a=s.getWidth();r==null||r.getSize()<a?r=new z(a):r.clear(),this.initArrays(a);const l=s.getRow(n,this.luminances),u=this.buckets;for(let h=0;h<a;h++)u[(l[h]&255)>>je.LUMINANCE_SHIFT]++;const f=je.estimateBlackPoint(u);if(a<3)for(let h=0;h<a;h++)(l[h]&255)<f&&r.set(h);else{let h=l[0]&255,p=l[1]&255;for(let C=1;C<a-1;C++){const A=l[C+1]&255;(p*4-h-A)/2<f&&r.set(C),h=p,p=A}}return r}getBlackMatrix(){const n=this.getLuminanceSource(),r=n.getWidth(),s=n.getHeight(),a=new He(r,s);this.initArrays(r);const l=this.buckets;for(let h=1;h<5;h++){const p=Math.floor(s*h/5),C=n.getRow(p,this.luminances),A=Math.floor(r*4/5);for(let I=Math.floor(r/5);I<A;I++){const _=C[I]&255;l[_>>je.LUMINANCE_SHIFT]++}}const u=je.estimateBlackPoint(l),f=n.getMatrix();for(let h=0;h<s;h++){const p=h*r;for(let C=0;C<r;C++)(f[p+C]&255)<u&&a.set(C,h)}return a}createBinarizer(n){return new je(n)}initArrays(n){this.luminances.length<n&&(this.luminances=new Uint8ClampedArray(n));const r=this.buckets;for(let s=0;s<je.LUMINANCE_BUCKETS;s++)r[s]=0}static estimateBlackPoint(n){const r=n.length;let s=0,a=0,l=0;for(let C=0;C<r;C++)n[C]>l&&(a=C,l=n[C]),n[C]>s&&(s=n[C]);let u=0,f=0;for(let C=0;C<r;C++){const A=C-a,I=n[C]*A*A;I>f&&(u=C,f=I)}if(a>u){const C=a;a=u,u=C}if(u-a<=r/16)throw new G;let h=u-1,p=-1;for(let C=u-1;C>a;C--){const A=C-a,I=A*A*(u-C)*(s-n[C]);I>p&&(h=C,p=I)}return h<<je.LUMINANCE_SHIFT}}je.LUMINANCE_BITS=5,je.LUMINANCE_SHIFT=8-je.LUMINANCE_BITS,je.LUMINANCE_BUCKETS=1<<je.LUMINANCE_BITS,je.EMPTY=Uint8ClampedArray.from([0]);class me extends je{constructor(n){super(n),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const n=this.getLuminanceSource(),r=n.getWidth(),s=n.getHeight();if(r>=me.MINIMUM_DIMENSION&&s>=me.MINIMUM_DIMENSION){const a=n.getMatrix();let l=r>>me.BLOCK_SIZE_POWER;r&me.BLOCK_SIZE_MASK&&l++;let u=s>>me.BLOCK_SIZE_POWER;s&me.BLOCK_SIZE_MASK&&u++;const f=me.calculateBlackPoints(a,l,u,r,s),h=new He(r,s);me.calculateThresholdForBlock(a,l,u,r,s,f,h),this.matrix=h}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(n){return new me(n)}static calculateThresholdForBlock(n,r,s,a,l,u,f){const h=l-me.BLOCK_SIZE,p=a-me.BLOCK_SIZE;for(let C=0;C<s;C++){let A=C<<me.BLOCK_SIZE_POWER;A>h&&(A=h);const I=me.cap(C,2,s-3);for(let _=0;_<r;_++){let D=_<<me.BLOCK_SIZE_POWER;D>p&&(D=p);const P=me.cap(_,2,r-3);let F=0;for(let q=-2;q<=2;q++){const ee=u[I+q];F+=ee[P-2]+ee[P-1]+ee[P]+ee[P+1]+ee[P+2]}const W=F/25;me.thresholdBlock(n,D,A,W,a,f)}}}static cap(n,r,s){return n<r?r:n>s?s:n}static thresholdBlock(n,r,s,a,l,u){for(let f=0,h=s*l+r;f<me.BLOCK_SIZE;f++,h+=l)for(let p=0;p<me.BLOCK_SIZE;p++)(n[h+p]&255)<=a&&u.set(r+p,s+f)}static calculateBlackPoints(n,r,s,a,l){const u=l-me.BLOCK_SIZE,f=a-me.BLOCK_SIZE,h=new Array(s);for(let p=0;p<s;p++){h[p]=new Int32Array(r);let C=p<<me.BLOCK_SIZE_POWER;C>u&&(C=u);for(let A=0;A<r;A++){let I=A<<me.BLOCK_SIZE_POWER;I>f&&(I=f);let _=0,D=255,P=0;for(let W=0,q=C*a+I;W<me.BLOCK_SIZE;W++,q+=a){for(let ee=0;ee<me.BLOCK_SIZE;ee++){const Q=n[q+ee]&255;_+=Q,Q<D&&(D=Q),Q>P&&(P=Q)}if(P-D>me.MIN_DYNAMIC_RANGE)for(W++,q+=a;W<me.BLOCK_SIZE;W++,q+=a)for(let ee=0;ee<me.BLOCK_SIZE;ee++)_+=n[q+ee]&255}let F=_>>me.BLOCK_SIZE_POWER*2;if(P-D<=me.MIN_DYNAMIC_RANGE&&(F=D/2,p>0&&A>0)){const W=(h[p-1][A]+2*h[p][A-1]+h[p-1][A-1])/4;D<W&&(F=W)}h[p][A]=F}}return h}}me.BLOCK_SIZE_POWER=3,me.BLOCK_SIZE=1<<me.BLOCK_SIZE_POWER,me.BLOCK_SIZE_MASK=me.BLOCK_SIZE-1,me.MINIMUM_DIMENSION=me.BLOCK_SIZE*5,me.MIN_DYNAMIC_RANGE=24;class re{constructor(n,r){this.width=n,this.height=r}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(n,r,s,a){throw new de("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new de("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new de("This luminance source does not support rotation by 45 degrees.")}toString(){const n=new Uint8ClampedArray(this.width);let r=new ve;for(let s=0;s<this.height;s++){const a=this.getRow(s,n);for(let l=0;l<this.width;l++){const u=a[l]&255;let f;u<64?f="#":u<128?f="+":u<192?f=".":f=" ",r.append(f)}r.append(`
`)}return r.toString()}}class ce extends re{constructor(n){super(n.getWidth(),n.getHeight()),this.delegate=n}getRow(n,r){const s=this.delegate.getRow(n,r),a=this.getWidth();for(let l=0;l<a;l++)s[l]=255-(s[l]&255);return s}getMatrix(){const n=this.delegate.getMatrix(),r=this.getWidth()*this.getHeight(),s=new Uint8ClampedArray(r);for(let a=0;a<r;a++)s[a]=255-(n[a]&255);return s}isCropSupported(){return this.delegate.isCropSupported()}crop(n,r,s,a){return new ce(this.delegate.crop(n,r,s,a))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new ce(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new ce(this.delegate.rotateCounterClockwise45())}}class ge extends re{constructor(n){super(n.width,n.height),this.canvas=n,this.tempCanvasElement=null,this.buffer=ge.makeBufferFromCanvasImageData(n)}static makeBufferFromCanvasImageData(n){const r=n.getContext("2d").getImageData(0,0,n.width,n.height);return ge.toGrayscaleBuffer(r.data,n.width,n.height)}static toGrayscaleBuffer(n,r,s){const a=new Uint8ClampedArray(r*s);for(let l=0,u=0,f=n.length;l<f;l+=4,u++){let h;if(n[l+3]===0)h=255;else{const C=n[l],A=n[l+1],I=n[l+2];h=306*C+601*A+117*I+512>>10}a[u]=h}return a}getRow(n,r){if(n<0||n>=this.getHeight())throw new S("Requested row is outside the image: "+n);const s=this.getWidth(),a=n*s;return r===null?r=this.buffer.slice(a,a+s):(r.length<s&&(r=new Uint8ClampedArray(s)),r.set(this.buffer.slice(a,a+s))),r}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(n,r,s,a){return super.crop(n,r,s,a),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const n=this.canvas.ownerDocument.createElement("canvas");n.width=this.canvas.width,n.height=this.canvas.height,this.tempCanvasElement=n}return this.tempCanvasElement}rotate(n){const r=this.getTempCanvasElement(),s=r.getContext("2d"),a=n*ge.DEGREE_TO_RADIANS,l=this.canvas.width,u=this.canvas.height,f=Math.ceil(Math.abs(Math.cos(a))*l+Math.abs(Math.sin(a))*u),h=Math.ceil(Math.abs(Math.sin(a))*l+Math.abs(Math.cos(a))*u);return r.width=f,r.height=h,s.translate(f/2,h/2),s.rotate(a),s.drawImage(this.canvas,l/-2,u/-2),this.buffer=ge.makeBufferFromCanvasImageData(r),this}invert(){return new ce(this)}}ge.DEGREE_TO_RADIANS=Math.PI/180;class ke{constructor(n,r,s){this.deviceId=n,this.label=r,this.kind="videoinput",this.groupId=s||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var ye=(globalThis||bs||self||window||void 0)&&(globalThis||bs||self||window||void 0).__awaiter||function(v,n,r,s){function a(l){return l instanceof r?l:new r(function(u){u(l)})}return new(r||(r=Promise))(function(l,u){function f(C){try{p(s.next(C))}catch(A){u(A)}}function h(C){try{p(s.throw(C))}catch(A){u(A)}}function p(C){C.done?l(C.value):a(C.value).then(f,h)}p((s=s.apply(v,n||[])).next())})};class We{constructor(n,r=500,s){this.reader=n,this.timeBetweenScansMillis=r,this._hints=s,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(n){this._timeBetweenDecodingAttempts=n<0?0:n}set hints(n){this._hints=n||null}get hints(){return this._hints}listVideoInputDevices(){return ye(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const n=yield navigator.mediaDevices.enumerateDevices(),r=[];for(const s of n){const a=s.kind==="video"?"videoinput":s.kind;if(a!=="videoinput")continue;const l=s.deviceId||s.id,u=s.label||`Video device ${r.length+1}`,f=s.groupId,h={deviceId:l,label:u,kind:a,groupId:f};r.push(h)}return r})}getVideoInputDevices(){return ye(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(r=>new ke(r.deviceId,r.label))})}findDeviceById(n){return ye(this,void 0,void 0,function*(){const r=yield this.listVideoInputDevices();return r?r.find(s=>s.deviceId===n):null})}decodeFromInputVideoDevice(n,r){return ye(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(n,r)})}decodeOnceFromVideoDevice(n,r){return ye(this,void 0,void 0,function*(){this.reset();let s;n?s={deviceId:{exact:n}}:s={facingMode:"environment"};const a={video:s};return yield this.decodeOnceFromConstraints(a,r)})}decodeOnceFromConstraints(n,r){return ye(this,void 0,void 0,function*(){const s=yield navigator.mediaDevices.getUserMedia(n);return yield this.decodeOnceFromStream(s,r)})}decodeOnceFromStream(n,r){return ye(this,void 0,void 0,function*(){this.reset();const s=yield this.attachStreamToVideo(n,r);return yield this.decodeOnce(s)})}decodeFromInputVideoDeviceContinuously(n,r,s){return ye(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(n,r,s)})}decodeFromVideoDevice(n,r,s){return ye(this,void 0,void 0,function*(){let a;n?a={deviceId:{exact:n}}:a={facingMode:"environment"};const l={video:a};return yield this.decodeFromConstraints(l,r,s)})}decodeFromConstraints(n,r,s){return ye(this,void 0,void 0,function*(){const a=yield navigator.mediaDevices.getUserMedia(n);return yield this.decodeFromStream(a,r,s)})}decodeFromStream(n,r,s){return ye(this,void 0,void 0,function*(){this.reset();const a=yield this.attachStreamToVideo(n,r);return yield this.decodeContinuously(a,s)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(n,r){return ye(this,void 0,void 0,function*(){const s=this.prepareVideoElement(r);return this.addVideoSource(s,n),this.videoElement=s,this.stream=n,yield this.playVideoOnLoadAsync(s),s})}playVideoOnLoadAsync(n){return new Promise((r,s)=>this.playVideoOnLoad(n,()=>r()))}playVideoOnLoad(n,r){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(n),n.addEventListener("ended",this.videoEndedListener),n.addEventListener("canplay",this.videoCanPlayListener),n.addEventListener("playing",r),this.tryPlayVideo(n)}isVideoPlaying(n){return n.currentTime>0&&!n.paused&&!n.ended&&n.readyState>2}tryPlayVideo(n){return ye(this,void 0,void 0,function*(){if(this.isVideoPlaying(n)){console.warn("Trying to play video that is already playing.");return}try{yield n.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(n,r){const s=document.getElementById(n);if(!s)throw new E(`element with id '${n}' not found`);if(s.nodeName.toLowerCase()!==r.toLowerCase())throw new E(`element with id '${n}' must be an ${r} element`);return s}decodeFromImage(n,r){if(!n&&!r)throw new E("either imageElement with a src set or an url must be provided");return r&&!n?this.decodeFromImageUrl(r):this.decodeFromImageElement(n)}decodeFromVideo(n,r){if(!n&&!r)throw new E("Either an element with a src set or an URL must be provided");return r&&!n?this.decodeFromVideoUrl(r):this.decodeFromVideoElement(n)}decodeFromVideoContinuously(n,r,s){if(n===void 0&&r===void 0)throw new E("Either an element with a src set or an URL must be provided");return r&&!n?this.decodeFromVideoUrlContinuously(r,s):this.decodeFromVideoElementContinuously(n,s)}decodeFromImageElement(n){if(!n)throw new E("An image element must be provided.");this.reset();const r=this.prepareImageElement(n);this.imageElement=r;let s;return this.isImageLoaded(r)?s=this.decodeOnce(r,!1,!0):s=this._decodeOnLoadImage(r),s}decodeFromVideoElement(n){const r=this._decodeFromVideoElementSetup(n);return this._decodeOnLoadVideo(r)}decodeFromVideoElementContinuously(n,r){const s=this._decodeFromVideoElementSetup(n);return this._decodeOnLoadVideoContinuously(s,r)}_decodeFromVideoElementSetup(n){if(!n)throw new E("A video element must be provided.");this.reset();const r=this.prepareVideoElement(n);return this.videoElement=r,r}decodeFromImageUrl(n){if(!n)throw new E("An URL must be provided.");this.reset();const r=this.prepareImageElement();this.imageElement=r;const s=this._decodeOnLoadImage(r);return r.src=n,s}decodeFromVideoUrl(n){if(!n)throw new E("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),s=this.decodeFromVideoElement(r);return r.src=n,s}decodeFromVideoUrlContinuously(n,r){if(!n)throw new E("An URL must be provided.");this.reset();const s=this.prepareVideoElement(),a=this.decodeFromVideoElementContinuously(s,r);return s.src=n,a}_decodeOnLoadImage(n){return new Promise((r,s)=>{this.imageLoadedListener=()=>this.decodeOnce(n,!1,!0).then(r,s),n.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(n){return ye(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(n),yield this.decodeOnce(n)})}_decodeOnLoadVideoContinuously(n,r){return ye(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(n),this.decodeContinuously(n,r)})}isImageLoaded(n){return!(!n.complete||n.naturalWidth===0)}prepareImageElement(n){let r;return typeof n>"u"&&(r=document.createElement("img"),r.width=200,r.height=200),typeof n=="string"&&(r=this.getMediaElement(n,"img")),n instanceof HTMLImageElement&&(r=n),r}prepareVideoElement(n){let r;return!n&&typeof document<"u"&&(r=document.createElement("video"),r.width=200,r.height=200),typeof n=="string"&&(r=this.getMediaElement(n,"video")),n instanceof HTMLVideoElement&&(r=n),r.setAttribute("autoplay","true"),r.setAttribute("muted","true"),r.setAttribute("playsinline","true"),r}decodeOnce(n,r=!0,s=!0){this._stopAsyncDecode=!1;const a=(l,u)=>{if(this._stopAsyncDecode){u(new G("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const f=this.decode(n);l(f)}catch(f){const h=r&&f instanceof G,C=(f instanceof k||f instanceof V)&&s;if(h||C)return setTimeout(a,this._timeBetweenDecodingAttempts,l,u);u(f)}};return new Promise((l,u)=>a(l,u))}decodeContinuously(n,r){this._stopContinuousDecode=!1;const s=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const a=this.decode(n);r(a,null),setTimeout(s,this.timeBetweenScansMillis)}catch(a){r(null,a);const l=a instanceof k||a instanceof V,u=a instanceof G;(l||u)&&setTimeout(s,this._timeBetweenDecodingAttempts)}};s()}decode(n){const r=this.createBinaryBitmap(n);return this.decodeBitmap(r)}_isHTMLVideoElement(n){return n.videoWidth!==0}drawFrameOnCanvas(n,r,s){r||(r={sx:0,sy:0,sWidth:n.videoWidth,sHeight:n.videoHeight,dx:0,dy:0,dWidth:n.videoWidth,dHeight:n.videoHeight}),s||(s=this.captureCanvasContext),s.drawImage(n,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}drawImageOnCanvas(n,r,s=this.captureCanvasContext){r||(r={sx:0,sy:0,sWidth:n.naturalWidth,sHeight:n.naturalHeight,dx:0,dy:0,dWidth:n.naturalWidth,dHeight:n.naturalHeight}),s||(s=this.captureCanvasContext),s.drawImage(n,r.sx,r.sy,r.sWidth,r.sHeight,r.dx,r.dy,r.dWidth,r.dHeight)}createBinaryBitmap(n){this.getCaptureCanvasContext(n),this._isHTMLVideoElement(n)?this.drawFrameOnCanvas(n):this.drawImageOnCanvas(n);const r=this.getCaptureCanvas(n),s=new ge(r),a=new me(s);return new R(a)}getCaptureCanvasContext(n){if(!this.captureCanvasContext){const s=this.getCaptureCanvas(n).getContext("2d");this.captureCanvasContext=s}return this.captureCanvasContext}getCaptureCanvas(n){if(!this.captureCanvas){const r=this.createCaptureCanvas(n);this.captureCanvas=r}return this.captureCanvas}decodeBitmap(n){return this.reader.decode(n,this._hints)}createCaptureCanvas(n){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const r=document.createElement("canvas");let s,a;return typeof n<"u"&&(n instanceof HTMLVideoElement?(s=n.videoWidth,a=n.videoHeight):n instanceof HTMLImageElement&&(s=n.naturalWidth||n.width,a=n.naturalHeight||n.height)),r.style.width=s+"px",r.style.height=a+"px",r.width=s,r.height=a,r}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(n=>n.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(n,r){try{n.srcObject=r}catch{n.src=URL.createObjectURL(r)}}cleanVideoSource(n){try{n.srcObject=null}catch{n.src=""}this.videoElement.removeAttribute("src")}}class nt{constructor(n,r,s=r==null?0:8*r.length,a,l,u=O.currentTimeMillis()){this.text=n,this.rawBytes=r,this.numBits=s,this.resultPoints=a,this.format=l,this.timestamp=u,this.text=n,this.rawBytes=r,s==null?this.numBits=r==null?0:8*r.length:this.numBits=s,this.resultPoints=a,this.format=l,this.resultMetadata=null,u==null?this.timestamp=O.currentTimeMillis():this.timestamp=u}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(n,r){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(n,r)}putAllMetadata(n){n!==null&&(this.resultMetadata===null?this.resultMetadata=n:this.resultMetadata=new Map(n))}addResultPoints(n){const r=this.resultPoints;if(r===null)this.resultPoints=n;else if(n!==null&&n.length>0){const s=new Array(r.length+n.length);O.arraycopy(r,0,s,0,r.length),O.arraycopy(n,0,s,r.length,n.length),this.resultPoints=s}}getTimestamp(){return this.timestamp}toString(){return this.text}}var $r;(function(v){v[v.AZTEC=0]="AZTEC",v[v.CODABAR=1]="CODABAR",v[v.CODE_39=2]="CODE_39",v[v.CODE_93=3]="CODE_93",v[v.CODE_128=4]="CODE_128",v[v.DATA_MATRIX=5]="DATA_MATRIX",v[v.EAN_8=6]="EAN_8",v[v.EAN_13=7]="EAN_13",v[v.ITF=8]="ITF",v[v.MAXICODE=9]="MAXICODE",v[v.PDF_417=10]="PDF_417",v[v.QR_CODE=11]="QR_CODE",v[v.RSS_14=12]="RSS_14",v[v.RSS_EXPANDED=13]="RSS_EXPANDED",v[v.UPC_A=14]="UPC_A",v[v.UPC_E=15]="UPC_E",v[v.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})($r||($r={}));var le=$r,Er;(function(v){v[v.OTHER=0]="OTHER",v[v.ORIENTATION=1]="ORIENTATION",v[v.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",v[v.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",v[v.ISSUE_NUMBER=4]="ISSUE_NUMBER",v[v.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",v[v.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",v[v.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",v[v.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",v[v.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",v[v.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Er||(Er={}));var vt=Er;class ms{constructor(n,r,s,a,l=-1,u=-1){this.rawBytes=n,this.text=r,this.byteSegments=s,this.ecLevel=a,this.structuredAppendSequenceNumber=l,this.structuredAppendParity=u,this.numBits=n==null?0:8*n.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(n){this.numBits=n}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(n){this.errorsCorrected=n}getErasures(){return this.erasures}setErasures(n){this.erasures=n}getOther(){return this.other}setOther(n){this.other=n}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class xs{exp(n){return this.expTable[n]}log(n){if(n===0)throw new S;return this.logTable[n]}static addOrSubtract(n,r){return n^r}}class Zt{constructor(n,r){if(r.length===0)throw new S;this.field=n;const s=r.length;if(s>1&&r[0]===0){let a=1;for(;a<s&&r[a]===0;)a++;a===s?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(s-a),O.arraycopy(r,a,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(n){return this.coefficients[this.coefficients.length-1-n]}evaluateAt(n){if(n===0)return this.getCoefficient(0);const r=this.coefficients;let s;if(n===1){s=0;for(let u=0,f=r.length;u!==f;u++){const h=r[u];s=xs.addOrSubtract(s,h)}return s}s=r[0];const a=r.length,l=this.field;for(let u=1;u<a;u++)s=xs.addOrSubtract(l.multiply(n,s),r[u]);return s}addOrSubtract(n){if(!this.field.equals(n.field))throw new S("GenericGFPolys do not have same GenericGF field");if(this.isZero())return n;if(n.isZero())return this;let r=this.coefficients,s=n.coefficients;if(r.length>s.length){const u=r;r=s,s=u}let a=new Int32Array(s.length);const l=s.length-r.length;O.arraycopy(s,0,a,0,l);for(let u=l;u<s.length;u++)a[u]=xs.addOrSubtract(r[u-l],s[u]);return new Zt(this.field,a)}multiply(n){if(!this.field.equals(n.field))throw new S("GenericGFPolys do not have same GenericGF field");if(this.isZero()||n.isZero())return this.field.getZero();const r=this.coefficients,s=r.length,a=n.coefficients,l=a.length,u=new Int32Array(s+l-1),f=this.field;for(let h=0;h<s;h++){const p=r[h];for(let C=0;C<l;C++)u[h+C]=xs.addOrSubtract(u[h+C],f.multiply(p,a[C]))}return new Zt(f,u)}multiplyScalar(n){if(n===0)return this.field.getZero();if(n===1)return this;const r=this.coefficients.length,s=this.field,a=new Int32Array(r),l=this.coefficients;for(let u=0;u<r;u++)a[u]=s.multiply(l[u],n);return new Zt(s,a)}multiplyByMonomial(n,r){if(n<0)throw new S;if(r===0)return this.field.getZero();const s=this.coefficients,a=s.length,l=new Int32Array(a+n),u=this.field;for(let f=0;f<a;f++)l[f]=u.multiply(s[f],r);return new Zt(u,l)}divide(n){if(!this.field.equals(n.field))throw new S("GenericGFPolys do not have same GenericGF field");if(n.isZero())throw new S("Divide by 0");const r=this.field;let s=r.getZero(),a=this;const l=n.getCoefficient(n.getDegree()),u=r.inverse(l);for(;a.getDegree()>=n.getDegree()&&!a.isZero();){const f=a.getDegree()-n.getDegree(),h=r.multiply(a.getCoefficient(a.getDegree()),u),p=n.multiplyByMonomial(f,h),C=r.buildMonomial(f,h);s=s.addOrSubtract(C),a=a.addOrSubtract(p)}return[s,a]}toString(){let n="";for(let r=this.getDegree();r>=0;r--){let s=this.getCoefficient(r);if(s!==0){if(s<0?(n+=" - ",s=-s):n.length>0&&(n+=" + "),r===0||s!==1){const a=this.field.log(s);a===0?n+="1":a===1?n+="a":(n+="a^",n+=a)}r!==0&&(r===1?n+="x":(n+="x^",n+=r))}}return n}}class To extends m{}To.kind="ArithmeticException";class Re extends xs{constructor(n,r,s){super(),this.primitive=n,this.size=r,this.generatorBase=s;const a=new Int32Array(r);let l=1;for(let f=0;f<r;f++)a[f]=l,l*=2,l>=r&&(l^=n,l&=r-1);this.expTable=a;const u=new Int32Array(r);for(let f=0;f<r-1;f++)u[a[f]]=f;this.logTable=u,this.zero=new Zt(this,Int32Array.from([0])),this.one=new Zt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(n,r){if(n<0)throw new S;if(r===0)return this.zero;const s=new Int32Array(n+1);return s[0]=r,new Zt(this,s)}inverse(n){if(n===0)throw new To;return this.expTable[this.size-this.logTable[n]-1]}multiply(n,r){return n===0||r===0?0:this.expTable[(this.logTable[n]+this.logTable[r])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+M.toHexString(this.primitive)+","+this.size+")"}equals(n){return n===this}}Re.AZTEC_DATA_12=new Re(4201,4096,1),Re.AZTEC_DATA_10=new Re(1033,1024,1),Re.AZTEC_DATA_6=new Re(67,64,1),Re.AZTEC_PARAM=new Re(19,16,1),Re.QR_CODE_FIELD_256=new Re(285,256,0),Re.DATA_MATRIX_FIELD_256=new Re(301,256,1),Re.AZTEC_DATA_8=Re.DATA_MATRIX_FIELD_256,Re.MAXICODE_FIELD_64=Re.AZTEC_DATA_6;class vi extends m{}vi.kind="ReedSolomonException";class Gn extends m{}Gn.kind="IllegalStateException";class ws{constructor(n){this.field=n}decode(n,r){const s=this.field,a=new Zt(s,n),l=new Int32Array(r);let u=!0;for(let _=0;_<r;_++){const D=a.evaluateAt(s.exp(_+s.getGeneratorBase()));l[l.length-1-_]=D,D!==0&&(u=!1)}if(u)return;const f=new Zt(s,l),h=this.runEuclideanAlgorithm(s.buildMonomial(r,1),f,r),p=h[0],C=h[1],A=this.findErrorLocations(p),I=this.findErrorMagnitudes(C,A);for(let _=0;_<A.length;_++){const D=n.length-1-s.log(A[_]);if(D<0)throw new vi("Bad error location");n[D]=Re.addOrSubtract(n[D],I[_])}}runEuclideanAlgorithm(n,r,s){if(n.getDegree()<r.getDegree()){const _=n;n=r,r=_}const a=this.field;let l=n,u=r,f=a.getZero(),h=a.getOne();for(;u.getDegree()>=(s/2|0);){let _=l,D=f;if(l=u,f=h,l.isZero())throw new vi("r_{i-1} was zero");u=_;let P=a.getZero();const F=l.getCoefficient(l.getDegree()),W=a.inverse(F);for(;u.getDegree()>=l.getDegree()&&!u.isZero();){const q=u.getDegree()-l.getDegree(),ee=a.multiply(u.getCoefficient(u.getDegree()),W);P=P.addOrSubtract(a.buildMonomial(q,ee)),u=u.addOrSubtract(l.multiplyByMonomial(q,ee))}if(h=P.multiply(f).addOrSubtract(D),u.getDegree()>=l.getDegree())throw new Gn("Division algorithm failed to reduce polynomial?")}const p=h.getCoefficient(0);if(p===0)throw new vi("sigmaTilde(0) was zero");const C=a.inverse(p),A=h.multiplyScalar(C),I=u.multiplyScalar(C);return[A,I]}findErrorLocations(n){const r=n.getDegree();if(r===1)return Int32Array.from([n.getCoefficient(1)]);const s=new Int32Array(r);let a=0;const l=this.field;for(let u=1;u<l.getSize()&&a<r;u++)n.evaluateAt(u)===0&&(s[a]=l.inverse(u),a++);if(a!==r)throw new vi("Error locator degree does not match number of roots");return s}findErrorMagnitudes(n,r){const s=r.length,a=new Int32Array(s),l=this.field;for(let u=0;u<s;u++){const f=l.inverse(r[u]);let h=1;for(let p=0;p<s;p++)if(u!==p){const C=l.multiply(r[p],f),A=C&1?C&-2:C|1;h=l.multiply(h,A)}a[u]=l.multiply(n.evaluateAt(f),l.inverse(h)),l.getGeneratorBase()!==0&&(a[u]=l.multiply(a[u],f))}return a}}var bt;(function(v){v[v.UPPER=0]="UPPER",v[v.LOWER=1]="LOWER",v[v.MIXED=2]="MIXED",v[v.DIGIT=3]="DIGIT",v[v.PUNCT=4]="PUNCT",v[v.BINARY=5]="BINARY"})(bt||(bt={}));class Ge{decode(n){this.ddata=n;let r=n.getBits(),s=this.extractBits(r),a=this.correctBits(s),l=Ge.convertBoolArrayToByteArray(a),u=Ge.getEncodedData(a),f=new ms(l,u,null,null);return f.setNumBits(a.length),f}static highLevelDecode(n){return this.getEncodedData(n)}static getEncodedData(n){let r=n.length,s=bt.UPPER,a=bt.UPPER,l="",u=0;for(;u<r;)if(a===bt.BINARY){if(r-u<5)break;let f=Ge.readCode(n,u,5);if(u+=5,f===0){if(r-u<11)break;f=Ge.readCode(n,u,11)+31,u+=11}for(let h=0;h<f;h++){if(r-u<8){u=r;break}const p=Ge.readCode(n,u,8);l+=ne.castAsNonUtf8Char(p),u+=8}a=s}else{let f=a===bt.DIGIT?4:5;if(r-u<f)break;let h=Ge.readCode(n,u,f);u+=f;let p=Ge.getCharacter(a,h);p.startsWith("CTRL_")?(s=a,a=Ge.getTable(p.charAt(5)),p.charAt(6)==="L"&&(s=a)):(l+=p,a=s)}return l}static getTable(n){switch(n){case"L":return bt.LOWER;case"P":return bt.PUNCT;case"M":return bt.MIXED;case"D":return bt.DIGIT;case"B":return bt.BINARY;case"U":default:return bt.UPPER}}static getCharacter(n,r){switch(n){case bt.UPPER:return Ge.UPPER_TABLE[r];case bt.LOWER:return Ge.LOWER_TABLE[r];case bt.MIXED:return Ge.MIXED_TABLE[r];case bt.PUNCT:return Ge.PUNCT_TABLE[r];case bt.DIGIT:return Ge.DIGIT_TABLE[r];default:throw new Gn("Bad table")}}correctBits(n){let r,s;this.ddata.getNbLayers()<=2?(s=6,r=Re.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(s=8,r=Re.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(s=10,r=Re.AZTEC_DATA_10):(s=12,r=Re.AZTEC_DATA_12);let a=this.ddata.getNbDatablocks(),l=n.length/s;if(l<a)throw new V;let u=n.length%s,f=new Int32Array(l);for(let I=0;I<l;I++,u+=s)f[I]=Ge.readCode(n,u,s);try{new ws(r).decode(f,l-a)}catch(I){throw new V(I)}let h=(1<<s)-1,p=0;for(let I=0;I<a;I++){let _=f[I];if(_===0||_===h)throw new V;(_===1||_===h-1)&&p++}let C=new Array(a*s-p),A=0;for(let I=0;I<a;I++){let _=f[I];if(_===1||_===h-1)C.fill(_>1,A,A+s-1),A+=s-1;else for(let D=s-1;D>=0;--D)C[A++]=(_&1<<D)!==0}return C}extractBits(n){let r=this.ddata.isCompact(),s=this.ddata.getNbLayers(),a=(r?11:14)+s*4,l=new Int32Array(a),u=new Array(this.totalBitsInLayer(s,r));if(r)for(let f=0;f<l.length;f++)l[f]=f;else{let f=a+1+2*M.truncDivision(M.truncDivision(a,2)-1,15),h=a/2,p=M.truncDivision(f,2);for(let C=0;C<h;C++){let A=C+M.truncDivision(C,15);l[h-C-1]=p-A-1,l[h+C]=p+A+1}}for(let f=0,h=0;f<s;f++){let p=(s-f)*4+(r?9:12),C=f*2,A=a-1-C;for(let I=0;I<p;I++){let _=I*2;for(let D=0;D<2;D++)u[h+_+D]=n.get(l[C+D],l[C+I]),u[h+2*p+_+D]=n.get(l[C+I],l[A-D]),u[h+4*p+_+D]=n.get(l[A-D],l[A-I]),u[h+6*p+_+D]=n.get(l[A-I],l[C+D])}h+=p*8}return u}static readCode(n,r,s){let a=0;for(let l=r;l<r+s;l++)a<<=1,n[l]&&(a|=1);return a}static readByte(n,r){let s=n.length-r;return s>=8?Ge.readCode(n,r,8):Ge.readCode(n,r,s)<<8-s}static convertBoolArrayToByteArray(n){let r=new Uint8Array((n.length+7)/8);for(let s=0;s<r.length;s++)r[s]=Ge.readByte(n,8*s);return r}totalBitsInLayer(n,r){return((r?88:112)+16*n)*n}}Ge.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Ge.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Ge.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Ge.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Ge.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class be{constructor(){}static round(n){return n===NaN?0:n<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:n>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:n+(n<0?-.5:.5)|0}static distance(n,r,s,a){const l=n-s,u=r-a;return Math.sqrt(l*l+u*u)}static sum(n){let r=0;for(let s=0,a=n.length;s!==a;s++){const l=n[s];r+=l}return r}}class bo{static floatToIntBits(n){return n}}bo.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ae{constructor(n,r){this.x=n,this.y=r}getX(){return this.x}getY(){return this.y}equals(n){if(n instanceof ae){const r=n;return this.x===r.x&&this.y===r.y}return!1}hashCode(){return 31*bo.floatToIntBits(this.x)+bo.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(n){const r=this.distance(n[0],n[1]),s=this.distance(n[1],n[2]),a=this.distance(n[0],n[2]);let l,u,f;if(s>=r&&s>=a?(u=n[0],l=n[1],f=n[2]):a>=s&&a>=r?(u=n[1],l=n[0],f=n[2]):(u=n[2],l=n[0],f=n[1]),this.crossProductZ(l,u,f)<0){const h=l;l=f,f=h}n[0]=l,n[1]=u,n[2]=f}static distance(n,r){return be.distance(n.x,n.y,r.x,r.y)}static crossProductZ(n,r,s){const a=r.x,l=r.y;return(s.x-a)*(n.y-l)-(s.y-l)*(n.x-a)}}class _o{constructor(n,r){this.bits=n,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class pd extends _o{constructor(n,r,s,a,l){super(n,r),this.compact=s,this.nbDatablocks=a,this.nbLayers=l}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class ar{constructor(n,r,s,a){this.image=n,this.height=n.getHeight(),this.width=n.getWidth(),r==null&&(r=ar.INIT_SIZE),s==null&&(s=n.getWidth()/2|0),a==null&&(a=n.getHeight()/2|0);const l=r/2|0;if(this.leftInit=s-l,this.rightInit=s+l,this.upInit=a-l,this.downInit=a+l,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new G}detect(){let n=this.leftInit,r=this.rightInit,s=this.upInit,a=this.downInit,l=!1,u=!0,f=!1,h=!1,p=!1,C=!1,A=!1;const I=this.width,_=this.height;for(;u;){u=!1;let D=!0;for(;(D||!h)&&r<I;)D=this.containsBlackPoint(s,a,r,!1),D?(r++,u=!0,h=!0):h||r++;if(r>=I){l=!0;break}let P=!0;for(;(P||!p)&&a<_;)P=this.containsBlackPoint(n,r,a,!0),P?(a++,u=!0,p=!0):p||a++;if(a>=_){l=!0;break}let F=!0;for(;(F||!C)&&n>=0;)F=this.containsBlackPoint(s,a,n,!1),F?(n--,u=!0,C=!0):C||n--;if(n<0){l=!0;break}let W=!0;for(;(W||!A)&&s>=0;)W=this.containsBlackPoint(n,r,s,!0),W?(s--,u=!0,A=!0):A||s--;if(s<0){l=!0;break}u&&(f=!0)}if(!l&&f){const D=r-n;let P=null;for(let ee=1;P===null&&ee<D;ee++)P=this.getBlackPointOnSegment(n,a-ee,n+ee,a);if(P==null)throw new G;let F=null;for(let ee=1;F===null&&ee<D;ee++)F=this.getBlackPointOnSegment(n,s+ee,n+ee,s);if(F==null)throw new G;let W=null;for(let ee=1;W===null&&ee<D;ee++)W=this.getBlackPointOnSegment(r,s+ee,r-ee,s);if(W==null)throw new G;let q=null;for(let ee=1;q===null&&ee<D;ee++)q=this.getBlackPointOnSegment(r,a-ee,r-ee,a);if(q==null)throw new G;return this.centerEdges(q,P,W,F)}else throw new G}getBlackPointOnSegment(n,r,s,a){const l=be.round(be.distance(n,r,s,a)),u=(s-n)/l,f=(a-r)/l,h=this.image;for(let p=0;p<l;p++){const C=be.round(n+p*u),A=be.round(r+p*f);if(h.get(C,A))return new ae(C,A)}return null}centerEdges(n,r,s,a){const l=n.getX(),u=n.getY(),f=r.getX(),h=r.getY(),p=s.getX(),C=s.getY(),A=a.getX(),I=a.getY(),_=ar.CORR;return l<this.width/2?[new ae(A-_,I+_),new ae(f+_,h+_),new ae(p-_,C-_),new ae(l+_,u-_)]:[new ae(A+_,I+_),new ae(f+_,h-_),new ae(p-_,C+_),new ae(l-_,u-_)]}containsBlackPoint(n,r,s,a){const l=this.image;if(a){for(let u=n;u<=r;u++)if(l.get(u,s))return!0}else for(let u=n;u<=r;u++)if(l.get(s,u))return!0;return!1}}ar.INIT_SIZE=10,ar.CORR=1;class dl{static checkAndNudgePoints(n,r){const s=n.getWidth(),a=n.getHeight();let l=!0;for(let u=0;u<r.length&&l;u+=2){const f=Math.floor(r[u]),h=Math.floor(r[u+1]);if(f<-1||f>s||h<-1||h>a)throw new G;l=!1,f===-1?(r[u]=0,l=!0):f===s&&(r[u]=s-1,l=!0),h===-1?(r[u+1]=0,l=!0):h===a&&(r[u+1]=a-1,l=!0)}l=!0;for(let u=r.length-2;u>=0&&l;u-=2){const f=Math.floor(r[u]),h=Math.floor(r[u+1]);if(f<-1||f>s||h<-1||h>a)throw new G;l=!1,f===-1?(r[u]=0,l=!0):f===s&&(r[u]=s-1,l=!0),h===-1?(r[u+1]=0,l=!0):h===a&&(r[u+1]=a-1,l=!0)}}}class On{constructor(n,r,s,a,l,u,f,h,p){this.a11=n,this.a21=r,this.a31=s,this.a12=a,this.a22=l,this.a32=u,this.a13=f,this.a23=h,this.a33=p}static quadrilateralToQuadrilateral(n,r,s,a,l,u,f,h,p,C,A,I,_,D,P,F){const W=On.quadrilateralToSquare(n,r,s,a,l,u,f,h);return On.squareToQuadrilateral(p,C,A,I,_,D,P,F).times(W)}transformPoints(n){const r=n.length,s=this.a11,a=this.a12,l=this.a13,u=this.a21,f=this.a22,h=this.a23,p=this.a31,C=this.a32,A=this.a33;for(let I=0;I<r;I+=2){const _=n[I],D=n[I+1],P=l*_+h*D+A;n[I]=(s*_+u*D+p)/P,n[I+1]=(a*_+f*D+C)/P}}transformPointsWithValues(n,r){const s=this.a11,a=this.a12,l=this.a13,u=this.a21,f=this.a22,h=this.a23,p=this.a31,C=this.a32,A=this.a33,I=n.length;for(let _=0;_<I;_++){const D=n[_],P=r[_],F=l*D+h*P+A;n[_]=(s*D+u*P+p)/F,r[_]=(a*D+f*P+C)/F}}static squareToQuadrilateral(n,r,s,a,l,u,f,h){const p=n-s+l-f,C=r-a+u-h;if(p===0&&C===0)return new On(s-n,l-s,n,a-r,u-a,r,0,0,1);{const A=s-l,I=f-l,_=a-u,D=h-u,P=A*D-I*_,F=(p*D-I*C)/P,W=(A*C-p*_)/P;return new On(s-n+F*s,f-n+W*f,n,a-r+F*a,h-r+W*h,r,F,W,1)}}static quadrilateralToSquare(n,r,s,a,l,u,f,h){return On.squareToQuadrilateral(n,r,s,a,l,u,f,h).buildAdjoint()}buildAdjoint(){return new On(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(n){return new On(this.a11*n.a11+this.a21*n.a12+this.a31*n.a13,this.a11*n.a21+this.a21*n.a22+this.a31*n.a23,this.a11*n.a31+this.a21*n.a32+this.a31*n.a33,this.a12*n.a11+this.a22*n.a12+this.a32*n.a13,this.a12*n.a21+this.a22*n.a22+this.a32*n.a23,this.a12*n.a31+this.a22*n.a32+this.a32*n.a33,this.a13*n.a11+this.a23*n.a12+this.a33*n.a13,this.a13*n.a21+this.a23*n.a22+this.a33*n.a23,this.a13*n.a31+this.a23*n.a32+this.a33*n.a33)}}class md extends dl{sampleGrid(n,r,s,a,l,u,f,h,p,C,A,I,_,D,P,F,W,q,ee){const Q=On.quadrilateralToQuadrilateral(a,l,u,f,h,p,C,A,I,_,D,P,F,W,q,ee);return this.sampleGridWithTransform(n,r,s,Q)}sampleGridWithTransform(n,r,s,a){if(r<=0||s<=0)throw new G;const l=new He(r,s),u=new Float32Array(2*r);for(let f=0;f<s;f++){const h=u.length,p=f+.5;for(let C=0;C<h;C+=2)u[C]=C/2+.5,u[C+1]=p;a.transformPoints(u),dl.checkAndNudgePoints(n,u);try{for(let C=0;C<h;C+=2)n.get(Math.floor(u[C]),Math.floor(u[C+1]))&&l.set(C/2,f)}catch{throw new G}}return l}}class vr{static setGridSampler(n){vr.gridSampler=n}static getInstance(){return vr.gridSampler}}vr.gridSampler=new md;class Vt{constructor(n,r){this.x=n,this.y=r}toResultPoint(){return new ae(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class xd{constructor(n){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=n}detect(){return this.detectMirror(!1)}detectMirror(n){let r=this.getMatrixCenter(),s=this.getBullsEyeCorners(r);if(n){let u=s[0];s[0]=s[2],s[2]=u}this.extractParameters(s);let a=this.sampleGrid(this.image,s[this.shift%4],s[(this.shift+1)%4],s[(this.shift+2)%4],s[(this.shift+3)%4]),l=this.getMatrixCornerPoints(s);return new pd(a,l,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(n){if(!this.isValidPoint(n[0])||!this.isValidPoint(n[1])||!this.isValidPoint(n[2])||!this.isValidPoint(n[3]))throw new G;let r=2*this.nbCenterLayers,s=new Int32Array([this.sampleLine(n[0],n[1],r),this.sampleLine(n[1],n[2],r),this.sampleLine(n[2],n[3],r),this.sampleLine(n[3],n[0],r)]);this.shift=this.getRotation(s,r);let a=0;for(let u=0;u<4;u++){let f=s[(this.shift+u)%4];this.compact?(a<<=7,a+=f>>1&127):(a<<=10,a+=(f>>2&992)+(f>>1&31))}let l=this.getCorrectedParameterData(a,this.compact);this.compact?(this.nbLayers=(l>>6)+1,this.nbDataBlocks=(l&63)+1):(this.nbLayers=(l>>11)+1,this.nbDataBlocks=(l&2047)+1)}getRotation(n,r){let s=0;n.forEach((a,l,u)=>{let f=(a>>r-2<<1)+(a&1);s=(s<<3)+f}),s=((s&1)<<11)+(s>>1);for(let a=0;a<4;a++)if(M.bitCount(s^this.EXPECTED_CORNER_BITS[a])<=2)return a;throw new G}getCorrectedParameterData(n,r){let s,a;r?(s=7,a=2):(s=10,a=4);let l=s-a,u=new Int32Array(s);for(let h=s-1;h>=0;--h)u[h]=n&15,n>>=4;try{new ws(Re.AZTEC_PARAM).decode(u,l)}catch{throw new G}let f=0;for(let h=0;h<a;h++)f=(f<<4)+u[h];return f}getBullsEyeCorners(n){let r=n,s=n,a=n,l=n,u=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let A=this.getFirstDifferent(r,u,1,-1),I=this.getFirstDifferent(s,u,1,1),_=this.getFirstDifferent(a,u,-1,1),D=this.getFirstDifferent(l,u,-1,-1);if(this.nbCenterLayers>2){let P=this.distancePoint(D,A)*this.nbCenterLayers/(this.distancePoint(l,r)*(this.nbCenterLayers+2));if(P<.75||P>1.25||!this.isWhiteOrBlackRectangle(A,I,_,D))break}r=A,s=I,a=_,l=D,u=!u}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new G;this.compact=this.nbCenterLayers===5;let f=new ae(r.getX()+.5,r.getY()-.5),h=new ae(s.getX()+.5,s.getY()+.5),p=new ae(a.getX()-.5,a.getY()+.5),C=new ae(l.getX()-.5,l.getY()-.5);return this.expandSquare([f,h,p,C],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let n,r,s,a;try{let f=new ar(this.image).detect();n=f[0],r=f[1],s=f[2],a=f[3]}catch{let h=this.image.getWidth()/2,p=this.image.getHeight()/2;n=this.getFirstDifferent(new Vt(h+7,p-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new Vt(h+7,p+7),!1,1,1).toResultPoint(),s=this.getFirstDifferent(new Vt(h-7,p+7),!1,-1,1).toResultPoint(),a=this.getFirstDifferent(new Vt(h-7,p-7),!1,-1,-1).toResultPoint()}let l=be.round((n.getX()+a.getX()+r.getX()+s.getX())/4),u=be.round((n.getY()+a.getY()+r.getY()+s.getY())/4);try{let f=new ar(this.image,15,l,u).detect();n=f[0],r=f[1],s=f[2],a=f[3]}catch{n=this.getFirstDifferent(new Vt(l+7,u-7),!1,1,-1).toResultPoint(),r=this.getFirstDifferent(new Vt(l+7,u+7),!1,1,1).toResultPoint(),s=this.getFirstDifferent(new Vt(l-7,u+7),!1,-1,1).toResultPoint(),a=this.getFirstDifferent(new Vt(l-7,u-7),!1,-1,-1).toResultPoint()}return l=be.round((n.getX()+a.getX()+r.getX()+s.getX())/4),u=be.round((n.getY()+a.getY()+r.getY()+s.getY())/4),new Vt(l,u)}getMatrixCornerPoints(n){return this.expandSquare(n,2*this.nbCenterLayers,this.getDimension())}sampleGrid(n,r,s,a,l){let u=vr.getInstance(),f=this.getDimension(),h=f/2-this.nbCenterLayers,p=f/2+this.nbCenterLayers;return u.sampleGrid(n,f,f,h,h,p,h,p,p,h,p,r.getX(),r.getY(),s.getX(),s.getY(),a.getX(),a.getY(),l.getX(),l.getY())}sampleLine(n,r,s){let a=0,l=this.distanceResultPoint(n,r),u=l/s,f=n.getX(),h=n.getY(),p=u*(r.getX()-n.getX())/l,C=u*(r.getY()-n.getY())/l;for(let A=0;A<s;A++)this.image.get(be.round(f+A*p),be.round(h+A*C))&&(a|=1<<s-A-1);return a}isWhiteOrBlackRectangle(n,r,s,a){let l=3;n=new Vt(n.getX()-l,n.getY()+l),r=new Vt(r.getX()-l,r.getY()-l),s=new Vt(s.getX()+l,s.getY()-l),a=new Vt(a.getX()+l,a.getY()+l);let u=this.getColor(a,n);if(u===0)return!1;let f=this.getColor(n,r);return f!==u||(f=this.getColor(r,s),f!==u)?!1:(f=this.getColor(s,a),f===u)}getColor(n,r){let s=this.distancePoint(n,r),a=(r.getX()-n.getX())/s,l=(r.getY()-n.getY())/s,u=0,f=n.getX(),h=n.getY(),p=this.image.get(n.getX(),n.getY()),C=Math.ceil(s);for(let I=0;I<C;I++)f+=a,h+=l,this.image.get(be.round(f),be.round(h))!==p&&u++;let A=u/s;return A>.1&&A<.9?0:A<=.1===p?1:-1}getFirstDifferent(n,r,s,a){let l=n.getX()+s,u=n.getY()+a;for(;this.isValid(l,u)&&this.image.get(l,u)===r;)l+=s,u+=a;for(l-=s,u-=a;this.isValid(l,u)&&this.image.get(l,u)===r;)l+=s;for(l-=s;this.isValid(l,u)&&this.image.get(l,u)===r;)u+=a;return u-=a,new Vt(l,u)}expandSquare(n,r,s){let a=s/(2*r),l=n[0].getX()-n[2].getX(),u=n[0].getY()-n[2].getY(),f=(n[0].getX()+n[2].getX())/2,h=(n[0].getY()+n[2].getY())/2,p=new ae(f+a*l,h+a*u),C=new ae(f-a*l,h-a*u);l=n[1].getX()-n[3].getX(),u=n[1].getY()-n[3].getY(),f=(n[1].getX()+n[3].getX())/2,h=(n[1].getY()+n[3].getY())/2;let A=new ae(f+a*l,h+a*u),I=new ae(f-a*l,h-a*u);return[p,A,C,I]}isValid(n,r){return n>=0&&n<this.image.getWidth()&&r>0&&r<this.image.getHeight()}isValidPoint(n){let r=be.round(n.getX()),s=be.round(n.getY());return this.isValid(r,s)}distancePoint(n,r){return be.distance(n.getX(),n.getY(),r.getX(),r.getY())}distanceResultPoint(n,r){return be.distance(n.getX(),n.getY(),r.getX(),r.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(M.truncDivision(this.nbLayers-4,8)+1)+15}}class Mo{decode(n,r=null){let s=null,a=new xd(n.getBlackMatrix()),l=null,u=null;try{let C=a.detectMirror(!1);l=C.getPoints(),this.reportFoundResultPoints(r,l),u=new Ge().decode(C)}catch(C){s=C}if(u==null)try{let C=a.detectMirror(!0);l=C.getPoints(),this.reportFoundResultPoints(r,l),u=new Ge().decode(C)}catch(C){throw s??C}let f=new nt(u.getText(),u.getRawBytes(),u.getNumBits(),l,le.AZTEC,O.currentTimeMillis()),h=u.getByteSegments();h!=null&&f.putMetadata(vt.BYTE_SEGMENTS,h);let p=u.getECLevel();return p!=null&&f.putMetadata(vt.ERROR_CORRECTION_LEVEL,p),f}reportFoundResultPoints(n,r){if(n!=null){let s=n.get(Z.NEED_RESULT_POINT_CALLBACK);s!=null&&r.forEach((a,l,u)=>{s.foundPossibleResultPoint(a)})}}reset(){}}class bg extends We{constructor(n=500){super(new Mo,n)}}class pt{decode(n,r){try{return this.doDecode(n,r)}catch{if(r&&r.get(Z.TRY_HARDER)===!0&&n.isRotateSupported()){const l=n.rotateCounterClockwise(),u=this.doDecode(l,r),f=u.getResultMetadata();let h=270;f!==null&&f.get(vt.ORIENTATION)===!0&&(h=h+f.get(vt.ORIENTATION)%360),u.putMetadata(vt.ORIENTATION,h);const p=u.getResultPoints();if(p!==null){const C=l.getHeight();for(let A=0;A<p.length;A++)p[A]=new ae(C-p[A].getY()-1,p[A].getX())}return u}else throw new G}}reset(){}doDecode(n,r){const s=n.getWidth(),a=n.getHeight();let l=new z(s);const u=r&&r.get(Z.TRY_HARDER)===!0,f=Math.max(1,a>>(u?8:5));let h;u?h=a:h=15;const p=Math.trunc(a/2);for(let C=0;C<h;C++){const A=Math.trunc((C+1)/2),I=(C&1)===0,_=p+f*(I?A:-A);if(_<0||_>=a)break;try{l=n.getBlackRow(_,l)}catch{continue}for(let D=0;D<2;D++){if(D===1&&(l.reverse(),r&&r.get(Z.NEED_RESULT_POINT_CALLBACK)===!0)){const P=new Map;r.forEach((F,W)=>P.set(W,F)),P.delete(Z.NEED_RESULT_POINT_CALLBACK),r=P}try{const P=this.decodeRow(_,l,r);if(D===1){P.putMetadata(vt.ORIENTATION,180);const F=P.getResultPoints();F!==null&&(F[0]=new ae(s-F[0].getX()-1,F[0].getY()),F[1]=new ae(s-F[1].getX()-1,F[1].getY()))}return P}catch{}}}throw new G}static recordPattern(n,r,s){const a=s.length;for(let p=0;p<a;p++)s[p]=0;const l=n.getSize();if(r>=l)throw new G;let u=!n.get(r),f=0,h=r;for(;h<l;){if(n.get(h)!==u)s[f]++;else{if(++f===a)break;s[f]=1,u=!u}h++}if(!(f===a||f===a-1&&h===l))throw new G}static recordPatternInReverse(n,r,s){let a=s.length,l=n.get(r);for(;r>0&&a>=0;)n.get(--r)!==l&&(a--,l=!l);if(a>=0)throw new G;pt.recordPattern(n,r+1,s)}static patternMatchVariance(n,r,s){const a=n.length;let l=0,u=0;for(let p=0;p<a;p++)l+=n[p],u+=r[p];if(l<u)return Number.POSITIVE_INFINITY;const f=l/u;s*=f;let h=0;for(let p=0;p<a;p++){const C=n[p],A=r[p]*f,I=C>A?C-A:A-C;if(I>s)return Number.POSITIVE_INFINITY;h+=I}return h/l}}class te extends pt{static findStartPattern(n){const r=n.getSize(),s=n.getNextSet(0);let a=0,l=Int32Array.from([0,0,0,0,0,0]),u=s,f=!1;const h=6;for(let p=s;p<r;p++)if(n.get(p)!==f)l[a]++;else{if(a===h-1){let C=te.MAX_AVG_VARIANCE,A=-1;for(let I=te.CODE_START_A;I<=te.CODE_START_C;I++){const _=pt.patternMatchVariance(l,te.CODE_PATTERNS[I],te.MAX_INDIVIDUAL_VARIANCE);_<C&&(C=_,A=I)}if(A>=0&&n.isRange(Math.max(0,u-(p-u)/2),u,!1))return Int32Array.from([u,p,A]);u+=l[0]+l[1],l=l.slice(2,l.length-1),l[a-1]=0,l[a]=0,a--}else a++;l[a]=1,f=!f}throw new G}static decodeCode(n,r,s){pt.recordPattern(n,s,r);let a=te.MAX_AVG_VARIANCE,l=-1;for(let u=0;u<te.CODE_PATTERNS.length;u++){const f=te.CODE_PATTERNS[u],h=this.patternMatchVariance(r,f,te.MAX_INDIVIDUAL_VARIANCE);h<a&&(a=h,l=u)}if(l>=0)return l;throw new G}decodeRow(n,r,s){const a=s&&s.get(Z.ASSUME_GS1)===!0,l=te.findStartPattern(r),u=l[2];let f=0;const h=new Uint8Array(20);h[f++]=u;let p;switch(u){case te.CODE_START_A:p=te.CODE_CODE_A;break;case te.CODE_START_B:p=te.CODE_CODE_B;break;case te.CODE_START_C:p=te.CODE_CODE_C;break;default:throw new V}let C=!1,A=!1,I="",_=l[0],D=l[1];const P=Int32Array.from([0,0,0,0,0,0]);let F=0,W=0,q=u,ee=0,Q=!0,Se=!1,xe=!1;for(;!C;){const Ri=A;switch(A=!1,F=W,W=te.decodeCode(r,P,D),h[f++]=W,W!==te.CODE_STOP&&(Q=!0),W!==te.CODE_STOP&&(ee++,q+=ee*W),_=D,D+=P.reduce((rp,ip)=>rp+ip,0),W){case te.CODE_START_A:case te.CODE_START_B:case te.CODE_START_C:throw new V}switch(p){case te.CODE_CODE_A:if(W<64)xe===Se?I+=String.fromCharCode(" ".charCodeAt(0)+W):I+=String.fromCharCode(" ".charCodeAt(0)+W+128),xe=!1;else if(W<96)xe===Se?I+=String.fromCharCode(W-64):I+=String.fromCharCode(W+64),xe=!1;else switch(W!==te.CODE_STOP&&(Q=!1),W){case te.CODE_FNC_1:a&&(I.length===0?I+="]C1":I+=String.fromCharCode(29));break;case te.CODE_FNC_2:case te.CODE_FNC_3:break;case te.CODE_FNC_4_A:!Se&&xe?(Se=!0,xe=!1):Se&&xe?(Se=!1,xe=!1):xe=!0;break;case te.CODE_SHIFT:A=!0,p=te.CODE_CODE_B;break;case te.CODE_CODE_B:p=te.CODE_CODE_B;break;case te.CODE_CODE_C:p=te.CODE_CODE_C;break;case te.CODE_STOP:C=!0;break}break;case te.CODE_CODE_B:if(W<96)xe===Se?I+=String.fromCharCode(" ".charCodeAt(0)+W):I+=String.fromCharCode(" ".charCodeAt(0)+W+128),xe=!1;else switch(W!==te.CODE_STOP&&(Q=!1),W){case te.CODE_FNC_1:a&&(I.length===0?I+="]C1":I+=String.fromCharCode(29));break;case te.CODE_FNC_2:case te.CODE_FNC_3:break;case te.CODE_FNC_4_B:!Se&&xe?(Se=!0,xe=!1):Se&&xe?(Se=!1,xe=!1):xe=!0;break;case te.CODE_SHIFT:A=!0,p=te.CODE_CODE_A;break;case te.CODE_CODE_A:p=te.CODE_CODE_A;break;case te.CODE_CODE_C:p=te.CODE_CODE_C;break;case te.CODE_STOP:C=!0;break}break;case te.CODE_CODE_C:if(W<100)W<10&&(I+="0"),I+=W;else switch(W!==te.CODE_STOP&&(Q=!1),W){case te.CODE_FNC_1:a&&(I.length===0?I+="]C1":I+=String.fromCharCode(29));break;case te.CODE_CODE_A:p=te.CODE_CODE_A;break;case te.CODE_CODE_B:p=te.CODE_CODE_B;break;case te.CODE_STOP:C=!0;break}break}Ri&&(p=p===te.CODE_CODE_A?te.CODE_CODE_B:te.CODE_CODE_A)}const Jt=D-_;if(D=r.getNextUnset(D),!r.isRange(D,Math.min(r.getSize(),D+(D-_)/2),!1))throw new G;if(q-=ee*F,q%103!==F)throw new k;const kn=I.length;if(kn===0)throw new G;kn>0&&Q&&(p===te.CODE_CODE_C?I=I.substring(0,kn-2):I=I.substring(0,kn-1));const en=(l[1]+l[0])/2,Ve=_+Jt/2,Rt=h.length,ln=new Uint8Array(Rt);for(let Ri=0;Ri<Rt;Ri++)ln[Ri]=h[Ri];const Mi=[new ae(en,n),new ae(Ve,n)];return new nt(I,ln,0,Mi,le.CODE_128,new Date().getTime())}}te.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],te.MAX_AVG_VARIANCE=.25,te.MAX_INDIVIDUAL_VARIANCE=.7,te.CODE_SHIFT=98,te.CODE_CODE_C=99,te.CODE_CODE_B=100,te.CODE_CODE_A=101,te.CODE_FNC_1=102,te.CODE_FNC_2=97,te.CODE_FNC_3=96,te.CODE_FNC_4_A=101,te.CODE_FNC_4_B=100,te.CODE_START_A=103,te.CODE_START_B=104,te.CODE_START_C=105,te.CODE_STOP=106;class xt extends pt{constructor(n=!1,r=!1){super(),this.usingCheckDigit=n,this.extendedMode=r,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(n,r,s){let a=this.counters;a.fill(0),this.decodeRowResult="";let l=xt.findAsteriskPattern(r,a),u=r.getNextSet(l[1]),f=r.getSize(),h,p;do{xt.recordPattern(r,u,a);let P=xt.toNarrowWidePattern(a);if(P<0)throw new G;h=xt.patternToChar(P),this.decodeRowResult+=h,p=u;for(let F of a)u+=F;u=r.getNextSet(u)}while(h!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let C=0;for(let P of a)C+=P;let A=u-p-C;if(u!==f&&A*2<C)throw new G;if(this.usingCheckDigit){let P=this.decodeRowResult.length-1,F=0;for(let W=0;W<P;W++)F+=xt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(W));if(this.decodeRowResult.charAt(P)!==xt.ALPHABET_STRING.charAt(F%43))throw new k;this.decodeRowResult=this.decodeRowResult.substring(0,P)}if(this.decodeRowResult.length===0)throw new G;let I;this.extendedMode?I=xt.decodeExtended(this.decodeRowResult):I=this.decodeRowResult;let _=(l[1]+l[0])/2,D=p+C/2;return new nt(I,null,0,[new ae(_,n),new ae(D,n)],le.CODE_39,new Date().getTime())}static findAsteriskPattern(n,r){let s=n.getSize(),a=n.getNextSet(0),l=0,u=a,f=!1,h=r.length;for(let p=a;p<s;p++)if(n.get(p)!==f)r[l]++;else{if(l===h-1){if(this.toNarrowWidePattern(r)===xt.ASTERISK_ENCODING&&n.isRange(Math.max(0,u-Math.floor((p-u)/2)),u,!1))return[u,p];u+=r[0]+r[1],r.copyWithin(0,2,2+l-1),r[l-1]=0,r[l]=0,l--}else l++;r[l]=1,f=!f}throw new G}static toNarrowWidePattern(n){let r=n.length,s=0,a;do{let l=2147483647;for(let h of n)h<l&&h>s&&(l=h);s=l,a=0;let u=0,f=0;for(let h=0;h<r;h++){let p=n[h];p>s&&(f|=1<<r-1-h,a++,u+=p)}if(a===3){for(let h=0;h<r&&a>0;h++){let p=n[h];if(p>s&&(a--,p*2>=u))return-1}return f}}while(a>3);return-1}static patternToChar(n){for(let r=0;r<xt.CHARACTER_ENCODINGS.length;r++)if(xt.CHARACTER_ENCODINGS[r]===n)return xt.ALPHABET_STRING.charAt(r);if(n===xt.ASTERISK_ENCODING)return"*";throw new G}static decodeExtended(n){let r=n.length,s="";for(let a=0;a<r;a++){let l=n.charAt(a);if(l==="+"||l==="$"||l==="%"||l==="/"){let u=n.charAt(a+1),f="\0";switch(l){case"+":if(u>="A"&&u<="Z")f=String.fromCharCode(u.charCodeAt(0)+32);else throw new V;break;case"$":if(u>="A"&&u<="Z")f=String.fromCharCode(u.charCodeAt(0)-64);else throw new V;break;case"%":if(u>="A"&&u<="E")f=String.fromCharCode(u.charCodeAt(0)-38);else if(u>="F"&&u<="J")f=String.fromCharCode(u.charCodeAt(0)-11);else if(u>="K"&&u<="O")f=String.fromCharCode(u.charCodeAt(0)+16);else if(u>="P"&&u<="T")f=String.fromCharCode(u.charCodeAt(0)+43);else if(u==="U")f="\0";else if(u==="V")f="@";else if(u==="W")f="`";else if(u==="X"||u==="Y"||u==="Z")f="";else throw new V;break;case"/":if(u>="A"&&u<="O")f=String.fromCharCode(u.charCodeAt(0)-32);else if(u==="Z")f=":";else throw new V;break}s+=f,a++}else s+=l}return s}}xt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",xt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],xt.ASTERISK_ENCODING=148;class Ue extends pt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(n,r,s){let a=this.decodeStart(r),l=this.decodeEnd(r),u=new ve;Ue.decodeMiddle(r,a[1],l[0],u);let f=u.toString(),h=null;s!=null&&(h=s.get(Z.ALLOWED_LENGTHS)),h==null&&(h=Ue.DEFAULT_ALLOWED_LENGTHS);let p=f.length,C=!1,A=0;for(let D of h){if(p===D){C=!0;break}D>A&&(A=D)}if(!C&&p>A&&(C=!0),!C)throw new V;const I=[new ae(a[1],n),new ae(l[0],n)];return new nt(f,null,0,I,le.ITF,new Date().getTime())}static decodeMiddle(n,r,s,a){let l=new Int32Array(10),u=new Int32Array(5),f=new Int32Array(5);for(l.fill(0),u.fill(0),f.fill(0);r<s;){pt.recordPattern(n,r,l);for(let p=0;p<5;p++){let C=2*p;u[p]=l[C],f[p]=l[C+1]}let h=Ue.decodeDigit(u);a.append(h.toString()),h=this.decodeDigit(f),a.append(h.toString()),l.forEach(function(p){r+=p})}}decodeStart(n){let r=Ue.skipWhiteSpace(n),s=Ue.findGuardPattern(n,r,Ue.START_PATTERN);return this.narrowLineWidth=(s[1]-s[0])/4,this.validateQuietZone(n,s[0]),s}validateQuietZone(n,r){let s=this.narrowLineWidth*10;s=s<r?s:r;for(let a=r-1;s>0&&a>=0&&!n.get(a);a--)s--;if(s!==0)throw new G}static skipWhiteSpace(n){const r=n.getSize(),s=n.getNextSet(0);if(s===r)throw new G;return s}decodeEnd(n){n.reverse();try{let r=Ue.skipWhiteSpace(n),s;try{s=Ue.findGuardPattern(n,r,Ue.END_PATTERN_REVERSED[0])}catch(l){l instanceof G&&(s=Ue.findGuardPattern(n,r,Ue.END_PATTERN_REVERSED[1]))}this.validateQuietZone(n,s[0]);let a=s[0];return s[0]=n.getSize()-s[1],s[1]=n.getSize()-a,s}finally{n.reverse()}}static findGuardPattern(n,r,s){let a=s.length,l=new Int32Array(a),u=n.getSize(),f=!1,h=0,p=r;l.fill(0);for(let C=r;C<u;C++)if(n.get(C)!==f)l[h]++;else{if(h===a-1){if(pt.patternMatchVariance(l,s,Ue.MAX_INDIVIDUAL_VARIANCE)<Ue.MAX_AVG_VARIANCE)return[p,C];p+=l[0]+l[1],O.arraycopy(l,2,l,0,h-1),l[h-1]=0,l[h]=0,h--}else h++;l[h]=1,f=!f}throw new G}static decodeDigit(n){let r=Ue.MAX_AVG_VARIANCE,s=-1,a=Ue.PATTERNS.length;for(let l=0;l<a;l++){let u=Ue.PATTERNS[l],f=pt.patternMatchVariance(n,u,Ue.MAX_INDIVIDUAL_VARIANCE);f<r?(r=f,s=l):f===r&&(s=-1)}if(s>=0)return s%10;throw new G}}Ue.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Ue.MAX_AVG_VARIANCE=.38,Ue.MAX_INDIVIDUAL_VARIANCE=.5,Ue.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Ue.START_PATTERN=Int32Array.from([1,1,1,1]),Ue.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class lt extends pt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(n){let r=!1,s,a=0,l=Int32Array.from([0,0,0]);for(;!r;){l=Int32Array.from([0,0,0]),s=lt.findGuardPattern(n,a,!1,this.START_END_PATTERN,l);let u=s[0];a=s[1];let f=u-(a-u);f>=0&&(r=n.isRange(f,u,!1))}return s}static checkChecksum(n){return lt.checkStandardUPCEANChecksum(n)}static checkStandardUPCEANChecksum(n){let r=n.length;if(r===0)return!1;let s=parseInt(n.charAt(r-1),10);return lt.getStandardUPCEANChecksum(n.substring(0,r-1))===s}static getStandardUPCEANChecksum(n){let r=n.length,s=0;for(let a=r-1;a>=0;a-=2){let l=n.charAt(a).charCodeAt(0)-"0".charCodeAt(0);if(l<0||l>9)throw new V;s+=l}s*=3;for(let a=r-2;a>=0;a-=2){let l=n.charAt(a).charCodeAt(0)-"0".charCodeAt(0);if(l<0||l>9)throw new V;s+=l}return(1e3-s)%10}static decodeEnd(n,r){return lt.findGuardPattern(n,r,!1,lt.START_END_PATTERN,new Int32Array(lt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(n,r,s,a){return this.findGuardPattern(n,r,s,a,new Int32Array(a.length))}static findGuardPattern(n,r,s,a,l){let u=n.getSize();r=s?n.getNextUnset(r):n.getNextSet(r);let f=0,h=r,p=a.length,C=s;for(let A=r;A<u;A++)if(n.get(A)!==C)l[f]++;else{if(f===p-1){if(pt.patternMatchVariance(l,a,lt.MAX_INDIVIDUAL_VARIANCE)<lt.MAX_AVG_VARIANCE)return Int32Array.from([h,A]);h+=l[0]+l[1];let I=l.slice(2,l.length-1);for(let _=0;_<f-1;_++)l[_]=I[_];l[f-1]=0,l[f]=0,f--}else f++;l[f]=1,C=!C}throw new G}static decodeDigit(n,r,s,a){this.recordPattern(n,s,r);let l=this.MAX_AVG_VARIANCE,u=-1,f=a.length;for(let h=0;h<f;h++){let p=a[h],C=pt.patternMatchVariance(r,p,lt.MAX_INDIVIDUAL_VARIANCE);C<l&&(l=C,u=h)}if(u>=0)return u;throw new G}}lt.MAX_AVG_VARIANCE=.48,lt.MAX_INDIVIDUAL_VARIANCE=.7,lt.START_END_PATTERN=Int32Array.from([1,1,1]),lt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),lt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),lt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class ys{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(n,r,s){let a=this.decodeRowStringBuffer,l=this.decodeMiddle(r,s,a),u=a.toString(),f=ys.parseExtensionString(u),h=[new ae((s[0]+s[1])/2,n),new ae(l,n)],p=new nt(u,null,0,h,le.UPC_EAN_EXTENSION,new Date().getTime());return f!=null&&p.putAllMetadata(f),p}decodeMiddle(n,r,s){let a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;let l=n.getSize(),u=r[1],f=0;for(let p=0;p<5&&u<l;p++){let C=lt.decodeDigit(n,a,u,lt.L_AND_G_PATTERNS);s+=String.fromCharCode("0".charCodeAt(0)+C%10);for(let A of a)u+=A;C>=10&&(f|=1<<4-p),p!==4&&(u=n.getNextSet(u),u=n.getNextUnset(u))}if(s.length!==5)throw new G;let h=this.determineCheckDigit(f);if(ys.extensionChecksum(s.toString())!==h)throw new G;return u}static extensionChecksum(n){let r=n.length,s=0;for(let a=r-2;a>=0;a-=2)s+=n.charAt(a).charCodeAt(0)-"0".charCodeAt(0);s*=3;for(let a=r-1;a>=0;a-=2)s+=n.charAt(a).charCodeAt(0)-"0".charCodeAt(0);return s*=3,s%10}determineCheckDigit(n){for(let r=0;r<10;r++)if(n===this.CHECK_DIGIT_ENCODINGS[r])return r;throw new G}static parseExtensionString(n){if(n.length!==5)return null;let r=ys.parseExtension5String(n);return r==null?null:new Map([[vt.SUGGESTED_PRICE,r]])}static parseExtension5String(n){let r;switch(n.charAt(0)){case"0":r="£";break;case"5":r="$";break;case"9":switch(n){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}r="";break;default:r="";break}let s=parseInt(n.substring(1)),a=(s/100).toString(),l=s%100,u=l<10?"0"+l:l.toString();return r+a+"."+u}}class fl{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(n,r,s){let a=this.decodeRowStringBuffer,l=this.decodeMiddle(r,s,a),u=a.toString(),f=fl.parseExtensionString(u),h=[new ae((s[0]+s[1])/2,n),new ae(l,n)],p=new nt(u,null,0,h,le.UPC_EAN_EXTENSION,new Date().getTime());return f!=null&&p.putAllMetadata(f),p}decodeMiddle(n,r,s){let a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;let l=n.getSize(),u=r[1],f=0;for(let h=0;h<2&&u<l;h++){let p=lt.decodeDigit(n,a,u,lt.L_AND_G_PATTERNS);s+=String.fromCharCode("0".charCodeAt(0)+p%10);for(let C of a)u+=C;p>=10&&(f|=1<<1-h),h!==1&&(u=n.getNextSet(u),u=n.getNextUnset(u))}if(s.length!==2)throw new G;if(parseInt(s.toString())%4!==f)throw new G;return u}static parseExtensionString(n){return n.length!==2?null:new Map([[vt.ISSUE_NUMBER,parseInt(n)]])}}class wd{static decodeRow(n,r,s){let a=lt.findGuardPattern(r,s,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new ys().decodeRow(n,r,a)}catch{return new fl().decodeRow(n,r,a)}}}wd.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Oe extends lt{constructor(){super(),this.decodeRowStringBuffer="",Oe.L_AND_G_PATTERNS=Oe.L_PATTERNS.map(n=>Int32Array.from(n));for(let n=10;n<20;n++){let r=Oe.L_PATTERNS[n-10],s=new Int32Array(r.length);for(let a=0;a<r.length;a++)s[a]=r[r.length-a-1];Oe.L_AND_G_PATTERNS[n]=s}}decodeRow(n,r,s){let a=Oe.findStartGuardPattern(r),l=s==null?null:s.get(Z.NEED_RESULT_POINT_CALLBACK);if(l!=null){const Q=new ae((a[0]+a[1])/2,n);l.foundPossibleResultPoint(Q)}let u=this.decodeMiddle(r,a,this.decodeRowStringBuffer),f=u.rowOffset,h=u.resultString;if(l!=null){const Q=new ae(f,n);l.foundPossibleResultPoint(Q)}let p=this.decodeEnd(r,f);if(l!=null){const Q=new ae((p[0]+p[1])/2,n);l.foundPossibleResultPoint(Q)}let C=p[1],A=C+(C-p[0]);if(A>=r.getSize()||!r.isRange(C,A,!1))throw new G;let I=h.toString();if(I.length<8)throw new V;if(!Oe.checkChecksum(I))throw new k;let _=(a[1]+a[0])/2,D=(p[1]+p[0])/2,P=this.getBarcodeFormat(),F=[new ae(_,n),new ae(D,n)],W=new nt(I,null,0,F,P,new Date().getTime()),q=0;try{let Q=wd.decodeRow(n,r,p[1]);W.putMetadata(vt.UPC_EAN_EXTENSION,Q.getText()),W.putAllMetadata(Q.getResultMetadata()),W.addResultPoints(Q.getResultPoints()),q=Q.getText().length}catch{}let ee=s==null?null:s.get(Z.ALLOWED_EAN_EXTENSIONS);if(ee!=null){let Q=!1;for(let Se in ee)if(q.toString()===Se){Q=!0;break}if(!Q)throw new G}return W}decodeEnd(n,r){return Oe.findGuardPattern(n,r,!1,Oe.START_END_PATTERN,new Int32Array(Oe.START_END_PATTERN.length).fill(0))}static checkChecksum(n){return Oe.checkStandardUPCEANChecksum(n)}static checkStandardUPCEANChecksum(n){let r=n.length;if(r===0)return!1;let s=parseInt(n.charAt(r-1),10);return Oe.getStandardUPCEANChecksum(n.substring(0,r-1))===s}static getStandardUPCEANChecksum(n){let r=n.length,s=0;for(let a=r-1;a>=0;a-=2){let l=n.charAt(a).charCodeAt(0)-"0".charCodeAt(0);if(l<0||l>9)throw new V;s+=l}s*=3;for(let a=r-2;a>=0;a-=2){let l=n.charAt(a).charCodeAt(0)-"0".charCodeAt(0);if(l<0||l>9)throw new V;s+=l}return(1e3-s)%10}}class Jr extends Oe{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(n,r,s){let a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;let l=n.getSize(),u=r[1],f=0;for(let p=0;p<6&&u<l;p++){let C=Oe.decodeDigit(n,a,u,Oe.L_AND_G_PATTERNS);s+=String.fromCharCode("0".charCodeAt(0)+C%10);for(let A of a)u+=A;C>=10&&(f|=1<<5-p)}s=Jr.determineFirstDigit(s,f),u=Oe.findGuardPattern(n,u,!0,Oe.MIDDLE_PATTERN,new Int32Array(Oe.MIDDLE_PATTERN.length).fill(0))[1];for(let p=0;p<6&&u<l;p++){let C=Oe.decodeDigit(n,a,u,Oe.L_PATTERNS);s+=String.fromCharCode("0".charCodeAt(0)+C);for(let A of a)u+=A}return{rowOffset:u,resultString:s}}getBarcodeFormat(){return le.EAN_13}static determineFirstDigit(n,r){for(let s=0;s<10;s++)if(r===this.FIRST_DIGIT_ENCODINGS[s])return n=String.fromCharCode("0".charCodeAt(0)+s)+n,n;throw new G}}Jr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class yd extends Oe{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(n,r,s){const a=this.decodeMiddleCounters;a[0]=0,a[1]=0,a[2]=0,a[3]=0;let l=n.getSize(),u=r[1];for(let h=0;h<4&&u<l;h++){let p=Oe.decodeDigit(n,a,u,Oe.L_PATTERNS);s+=String.fromCharCode("0".charCodeAt(0)+p);for(let C of a)u+=C}u=Oe.findGuardPattern(n,u,!0,Oe.MIDDLE_PATTERN,new Int32Array(Oe.MIDDLE_PATTERN.length).fill(0))[1];for(let h=0;h<4&&u<l;h++){let p=Oe.decodeDigit(n,a,u,Oe.L_PATTERNS);s+=String.fromCharCode("0".charCodeAt(0)+p);for(let C of a)u+=C}return{rowOffset:u,resultString:s}}getBarcodeFormat(){return le.EAN_8}}class Cd extends Oe{constructor(){super(...arguments),this.ean13Reader=new Jr}getBarcodeFormat(){return le.UPC_A}decode(n,r){return this.maybeReturnResult(this.ean13Reader.decode(n))}decodeRow(n,r,s){return this.maybeReturnResult(this.ean13Reader.decodeRow(n,r,s))}decodeMiddle(n,r,s){return this.ean13Reader.decodeMiddle(n,r,s)}maybeReturnResult(n){let r=n.getText();if(r.charAt(0)==="0"){let s=new nt(r.substring(1),null,null,n.getResultPoints(),le.UPC_A);return n.getResultMetadata()!=null&&s.putAllMetadata(n.getResultMetadata()),s}else throw new G}reset(){this.ean13Reader.reset()}}class Dn extends Oe{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(n,r,s){const a=this.decodeMiddleCounters.map(p=>p);a[0]=0,a[1]=0,a[2]=0,a[3]=0;const l=n.getSize();let u=r[1],f=0;for(let p=0;p<6&&u<l;p++){const C=Dn.decodeDigit(n,a,u,Dn.L_AND_G_PATTERNS);s+=String.fromCharCode("0".charCodeAt(0)+C%10);for(let A of a)u+=A;C>=10&&(f|=1<<5-p)}let h=Dn.determineNumSysAndCheckDigit(s,f);return{rowOffset:u,resultString:h}}decodeEnd(n,r){return Dn.findGuardPatternWithoutCounters(n,r,!0,Dn.MIDDLE_END_PATTERN)}checkChecksum(n){return Oe.checkChecksum(Dn.convertUPCEtoUPCA(n))}static determineNumSysAndCheckDigit(n,r){for(let s=0;s<=1;s++)for(let a=0;a<10;a++)if(r===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[s][a]){let l=String.fromCharCode("0".charCodeAt(0)+s),u=String.fromCharCode("0".charCodeAt(0)+a);return l+n+u}throw G.getNotFoundInstance()}getBarcodeFormat(){return le.UPC_E}static convertUPCEtoUPCA(n){const r=n.slice(1,7).split("").map(l=>l.charCodeAt(0)),s=new ve;s.append(n.charAt(0));let a=r[5];switch(a){case 0:case 1:case 2:s.appendChars(r,0,2),s.append(a),s.append("0000"),s.appendChars(r,2,3);break;case 3:s.appendChars(r,0,3),s.append("00000"),s.appendChars(r,3,2);break;case 4:s.appendChars(r,0,4),s.append("00000"),s.append(r[4]);break;default:s.appendChars(r,0,5),s.append("0000"),s.append(a);break}return n.length>=8&&s.append(n.charAt(7)),s.toString()}}Dn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Dn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class hl extends pt{constructor(n){super();let r=n==null?null:n.get(Z.POSSIBLE_FORMATS),s=[];o(r)?(s.push(new Jr),s.push(new Cd),s.push(new yd),s.push(new Dn)):(r.indexOf(le.EAN_13)>-1&&s.push(new Jr),r.indexOf(le.UPC_A)>-1&&s.push(new Cd),r.indexOf(le.EAN_8)>-1&&s.push(new yd),r.indexOf(le.UPC_E)>-1&&s.push(new Dn)),this.readers=s}decodeRow(n,r,s){for(let a of this.readers)try{const l=a.decodeRow(n,r,s),u=l.getBarcodeFormat()===le.EAN_13&&l.getText().charAt(0)==="0",f=s==null?null:s.get(Z.POSSIBLE_FORMATS),h=f==null||f.includes(le.UPC_A);if(u&&h){const p=l.getRawBytes(),C=new nt(l.getText().substring(1),p,p?p.length:null,l.getResultPoints(),le.UPC_A);return C.putAllMetadata(l.getResultMetadata()),C}return l}catch{}throw new G}reset(){for(let n of this.readers)n.reset()}}class Pt extends pt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(n,r){for(let s=0;s<r.length;s++)if(pt.patternMatchVariance(n,r[s],Pt.MAX_INDIVIDUAL_VARIANCE)<Pt.MAX_AVG_VARIANCE)return s;throw new G}static count(n){return be.sum(new Int32Array(n))}static increment(n,r){let s=0,a=r[0];for(let l=1;l<n.length;l++)r[l]>a&&(a=r[l],s=l);n[s]++}static decrement(n,r){let s=0,a=r[0];for(let l=1;l<n.length;l++)r[l]<a&&(a=r[l],s=l);n[s]--}static isFinderPattern(n){let r=n[0]+n[1],s=r+n[2]+n[3],a=r/s;if(a>=Pt.MIN_FINDER_PATTERN_RATIO&&a<=Pt.MAX_FINDER_PATTERN_RATIO){let l=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;for(let f of n)f>u&&(u=f),f<l&&(l=f);return u<10*l}return!1}}Pt.MAX_AVG_VARIANCE=.2,Pt.MAX_INDIVIDUAL_VARIANCE=.45,Pt.MIN_FINDER_PATTERN_RATIO=9.5/12,Pt.MAX_FINDER_PATTERN_RATIO=12.5/14;class Ai{constructor(n,r){this.value=n,this.checksumPortion=r}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(n){if(!(n instanceof Ai))return!1;const r=n;return this.value===r.value&&this.checksumPortion===r.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Ro{constructor(n,r,s,a,l){this.value=n,this.startEnd=r,this.value=n,this.startEnd=r,this.resultPoints=new Array,this.resultPoints.push(new ae(s,l)),this.resultPoints.push(new ae(a,l))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(n){if(!(n instanceof Ro))return!1;const r=n;return this.value===r.value}hashCode(){return this.value}}class Yn{constructor(){}static getRSSvalue(n,r,s){let a=0;for(let h of n)a+=h;let l=0,u=0,f=n.length;for(let h=0;h<f-1;h++){let p;for(p=1,u|=1<<h;p<n[h];p++,u&=~(1<<h)){let C=Yn.combins(a-p-1,f-h-2);if(s&&u===0&&a-p-(f-h-1)>=f-h-1&&(C-=Yn.combins(a-p-(f-h),f-h-2)),f-h-1>1){let A=0;for(let I=a-p-(f-h-2);I>r;I--)A+=Yn.combins(a-p-I-1,f-h-3);C-=A*(f-1-h)}else a-p>r&&C--;l+=C}a-=p}return l}static combins(n,r){let s,a;n-r>r?(a=r,s=n-r):(a=n-r,s=r);let l=1,u=1;for(let f=n;f>s;f--)l*=f,u<=a&&(l/=u,u++);for(;u<=a;)l/=u,u++;return l}}class _g{static buildBitArray(n){let r=n.length*2-1;n[n.length-1].getRightChar()==null&&(r-=1);let s=12*r,a=new z(s),l=0,f=n[0].getRightChar().getValue();for(let h=11;h>=0;--h)f&1<<h&&a.set(l),l++;for(let h=1;h<n.length;++h){let p=n[h],C=p.getLeftChar().getValue();for(let A=11;A>=0;--A)C&1<<A&&a.set(l),l++;if(p.getRightChar()!=null){let A=p.getRightChar().getValue();for(let I=11;I>=0;--I)A&1<<I&&a.set(l),l++}}return a}}class ei{constructor(n,r){r?this.decodedInformation=null:(this.finished=n,this.decodedInformation=r)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class gl{constructor(n){this.newPosition=n}getNewPosition(){return this.newPosition}}class Kt extends gl{constructor(n,r){super(n),this.value=r}getValue(){return this.value}isFNC1(){return this.value===Kt.FNC1}}Kt.FNC1="$";class ti extends gl{constructor(n,r,s){super(n),s?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=r}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class yn extends gl{constructor(n,r,s){if(super(n),r<0||r>10||s<0||s>10)throw new V;this.firstDigit=r,this.secondDigit=s}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===yn.FNC1}isSecondDigitFNC1(){return this.secondDigit===yn.FNC1}isAnyFNC1(){return this.firstDigit===yn.FNC1||this.secondDigit===yn.FNC1}}yn.FNC1=10;class ie{constructor(){}static parseFieldsInGeneralPurpose(n){if(!n)return null;if(n.length<2)throw new G;let r=n.substring(0,2);for(let l of ie.TWO_DIGIT_DATA_LENGTH)if(l[0]===r)return l[1]===ie.VARIABLE_LENGTH?ie.processVariableAI(2,l[2],n):ie.processFixedAI(2,l[1],n);if(n.length<3)throw new G;let s=n.substring(0,3);for(let l of ie.THREE_DIGIT_DATA_LENGTH)if(l[0]===s)return l[1]===ie.VARIABLE_LENGTH?ie.processVariableAI(3,l[2],n):ie.processFixedAI(3,l[1],n);for(let l of ie.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(l[0]===s)return l[1]===ie.VARIABLE_LENGTH?ie.processVariableAI(4,l[2],n):ie.processFixedAI(4,l[1],n);if(n.length<4)throw new G;let a=n.substring(0,4);for(let l of ie.FOUR_DIGIT_DATA_LENGTH)if(l[0]===a)return l[1]===ie.VARIABLE_LENGTH?ie.processVariableAI(4,l[2],n):ie.processFixedAI(4,l[1],n);throw new G}static processFixedAI(n,r,s){if(s.length<n)throw new G;let a=s.substring(0,n);if(s.length<n+r)throw new G;let l=s.substring(n,n+r),u=s.substring(n+r),f="("+a+")"+l,h=ie.parseFieldsInGeneralPurpose(u);return h==null?f:f+h}static processVariableAI(n,r,s){let a=s.substring(0,n),l;s.length<n+r?l=s.length:l=n+r;let u=s.substring(n,l),f=s.substring(l),h="("+a+")"+u,p=ie.parseFieldsInGeneralPurpose(f);return p==null?h:h+p}}ie.VARIABLE_LENGTH=[],ie.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",ie.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",ie.VARIABLE_LENGTH,20],["22",ie.VARIABLE_LENGTH,29],["30",ie.VARIABLE_LENGTH,8],["37",ie.VARIABLE_LENGTH,8],["90",ie.VARIABLE_LENGTH,30],["91",ie.VARIABLE_LENGTH,30],["92",ie.VARIABLE_LENGTH,30],["93",ie.VARIABLE_LENGTH,30],["94",ie.VARIABLE_LENGTH,30],["95",ie.VARIABLE_LENGTH,30],["96",ie.VARIABLE_LENGTH,30],["97",ie.VARIABLE_LENGTH,3],["98",ie.VARIABLE_LENGTH,30],["99",ie.VARIABLE_LENGTH,30]],ie.THREE_DIGIT_DATA_LENGTH=[["240",ie.VARIABLE_LENGTH,30],["241",ie.VARIABLE_LENGTH,30],["242",ie.VARIABLE_LENGTH,6],["250",ie.VARIABLE_LENGTH,30],["251",ie.VARIABLE_LENGTH,30],["253",ie.VARIABLE_LENGTH,17],["254",ie.VARIABLE_LENGTH,20],["400",ie.VARIABLE_LENGTH,30],["401",ie.VARIABLE_LENGTH,30],["402",17],["403",ie.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",ie.VARIABLE_LENGTH,20],["421",ie.VARIABLE_LENGTH,15],["422",3],["423",ie.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],ie.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",ie.VARIABLE_LENGTH,15],["391",ie.VARIABLE_LENGTH,18],["392",ie.VARIABLE_LENGTH,15],["393",ie.VARIABLE_LENGTH,18],["703",ie.VARIABLE_LENGTH,30]],ie.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",ie.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",ie.VARIABLE_LENGTH,20],["8003",ie.VARIABLE_LENGTH,30],["8004",ie.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",ie.VARIABLE_LENGTH,30],["8008",ie.VARIABLE_LENGTH,12],["8018",18],["8020",ie.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",ie.VARIABLE_LENGTH,70],["8200",ie.VARIABLE_LENGTH,70]];class Si{constructor(n){this.buffer=new ve,this.information=n}decodeAllCodes(n,r){let s=r,a=null;do{let l=this.decodeGeneralPurposeField(s,a),u=ie.parseFieldsInGeneralPurpose(l.getNewString());if(u!=null&&n.append(u),l.isRemaining()?a=""+l.getRemainingValue():a=null,s===l.getNewPosition())break;s=l.getNewPosition()}while(!0);return n.toString()}isStillNumeric(n){if(n+7>this.information.getSize())return n+4<=this.information.getSize();for(let r=n;r<n+3;++r)if(this.information.get(r))return!0;return this.information.get(n+3)}decodeNumeric(n){if(n+7>this.information.getSize()){let l=this.extractNumericValueFromBitArray(n,4);return l===0?new yn(this.information.getSize(),yn.FNC1,yn.FNC1):new yn(this.information.getSize(),l-1,yn.FNC1)}let r=this.extractNumericValueFromBitArray(n,7),s=(r-8)/11,a=(r-8)%11;return new yn(n+7,s,a)}extractNumericValueFromBitArray(n,r){return Si.extractNumericValueFromBitArray(this.information,n,r)}static extractNumericValueFromBitArray(n,r,s){let a=0;for(let l=0;l<s;++l)n.get(r+l)&&(a|=1<<s-l-1);return a}decodeGeneralPurposeField(n,r){this.buffer.setLengthToZero(),r!=null&&this.buffer.append(r),this.current.setPosition(n);let s=this.parseBlocks();return s!=null&&s.isRemaining()?new ti(this.current.getPosition(),this.buffer.toString(),s.getRemainingValue()):new ti(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let n,r;do{let s=this.current.getPosition();if(this.current.isAlpha()?(r=this.parseAlphaBlock(),n=r.isFinished()):this.current.isIsoIec646()?(r=this.parseIsoIec646Block(),n=r.isFinished()):(r=this.parseNumericBlock(),n=r.isFinished()),!(s!==this.current.getPosition())&&!n)break}while(!n);return r.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let n=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFirstDigitFNC1()){let r;return n.isSecondDigitFNC1()?r=new ti(this.current.getPosition(),this.buffer.toString()):r=new ti(this.current.getPosition(),this.buffer.toString(),n.getSecondDigit()),new ei(!0,r)}if(this.buffer.append(n.getFirstDigit()),n.isSecondDigitFNC1()){let r=new ti(this.current.getPosition(),this.buffer.toString());return new ei(!0,r)}this.buffer.append(n.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new ei(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let n=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFNC1()){let r=new ti(this.current.getPosition(),this.buffer.toString());return new ei(!0,r)}this.buffer.append(n.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new ei(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let n=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(n.getNewPosition()),n.isFNC1()){let r=new ti(this.current.getPosition(),this.buffer.toString());return new ei(!0,r)}this.buffer.append(n.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new ei(!1)}isStillIsoIec646(n){if(n+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(n,5);if(r>=5&&r<16)return!0;if(n+7>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(n,7);if(s>=64&&s<116)return!0;if(n+8>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(n,8);return a>=232&&a<253}decodeIsoIec646(n){let r=this.extractNumericValueFromBitArray(n,5);if(r===15)return new Kt(n+5,Kt.FNC1);if(r>=5&&r<15)return new Kt(n+5,"0"+(r-5));let s=this.extractNumericValueFromBitArray(n,7);if(s>=64&&s<90)return new Kt(n+7,""+(s+1));if(s>=90&&s<116)return new Kt(n+7,""+(s+7));let a=this.extractNumericValueFromBitArray(n,8),l;switch(a){case 232:l="!";break;case 233:l='"';break;case 234:l="%";break;case 235:l="&";break;case 236:l="'";break;case 237:l="(";break;case 238:l=")";break;case 239:l="*";break;case 240:l="+";break;case 241:l=",";break;case 242:l="-";break;case 243:l=".";break;case 244:l="/";break;case 245:l=":";break;case 246:l=";";break;case 247:l="<";break;case 248:l="=";break;case 249:l=">";break;case 250:l="?";break;case 251:l="_";break;case 252:l=" ";break;default:throw new V}return new Kt(n+8,l)}isStillAlpha(n){if(n+5>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(n,5);if(r>=5&&r<16)return!0;if(n+6>this.information.getSize())return!1;let s=this.extractNumericValueFromBitArray(n,6);return s>=16&&s<63}decodeAlphanumeric(n){let r=this.extractNumericValueFromBitArray(n,5);if(r===15)return new Kt(n+5,Kt.FNC1);if(r>=5&&r<15)return new Kt(n+5,"0"+(r-5));let s=this.extractNumericValueFromBitArray(n,6);if(s>=32&&s<58)return new Kt(n+6,""+(s+33));let a;switch(s){case 58:a="*";break;case 59:a=",";break;case 60:a="-";break;case 61:a=".";break;case 62:a="/";break;default:throw new Gn("Decoding invalid alphanumeric value: "+s)}return new Kt(n+6,a)}isAlphaTo646ToAlphaLatch(n){if(n+1>this.information.getSize())return!1;for(let r=0;r<5&&r+n<this.information.getSize();++r)if(r===2){if(!this.information.get(n+2))return!1}else if(this.information.get(n+r))return!1;return!0}isAlphaOr646ToNumericLatch(n){if(n+3>this.information.getSize())return!1;for(let r=n;r<n+3;++r)if(this.information.get(r))return!1;return!0}isNumericToAlphaNumericLatch(n){if(n+1>this.information.getSize())return!1;for(let r=0;r<4&&r+n<this.information.getSize();++r)if(this.information.get(n+r))return!1;return!0}}class pl{constructor(n){this.information=n,this.generalDecoder=new Si(n)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class qt extends pl{constructor(n){super(n)}encodeCompressedGtin(n,r){n.append("(01)");let s=n.length();n.append("9"),this.encodeCompressedGtinWithoutAI(n,r,s)}encodeCompressedGtinWithoutAI(n,r,s){for(let a=0;a<4;++a){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(r+10*a,10);l/100===0&&n.append("0"),l/10===0&&n.append("0"),n.append(l)}qt.appendCheckDigit(n,s)}static appendCheckDigit(n,r){let s=0;for(let a=0;a<13;a++){let l=n.charAt(a+r).charCodeAt(0)-"0".charCodeAt(0);s+=a&1?l:3*l}s=10-s%10,s===10&&(s=0),n.append(s)}}qt.GTIN_SIZE=40;class Ii extends qt{constructor(n){super(n)}parseInformation(){let n=new ve;n.append("(01)");let r=n.length(),s=this.getGeneralDecoder().extractNumericValueFromBitArray(Ii.HEADER_SIZE,4);return n.append(s),this.encodeCompressedGtinWithoutAI(n,Ii.HEADER_SIZE+4,r),this.getGeneralDecoder().decodeAllCodes(n,Ii.HEADER_SIZE+44)}}Ii.HEADER_SIZE=1+1+2;class Oo extends pl{constructor(n){super(n)}parseInformation(){let n=new ve;return this.getGeneralDecoder().decodeAllCodes(n,Oo.HEADER_SIZE)}}Oo.HEADER_SIZE=2+1+2;class Do extends qt{constructor(n){super(n)}encodeCompressedWeight(n,r,s){let a=this.getGeneralDecoder().extractNumericValueFromBitArray(r,s);this.addWeightCode(n,a);let l=this.checkWeight(a),u=1e5;for(let f=0;f<5;++f)l/u===0&&n.append("0"),u/=10;n.append(l)}}class Xn extends Do{constructor(n){super(n)}parseInformation(){if(this.getInformation().getSize()!=Xn.HEADER_SIZE+Do.GTIN_SIZE+Xn.WEIGHT_SIZE)throw new G;let n=new ve;return this.encodeCompressedGtin(n,Xn.HEADER_SIZE),this.encodeCompressedWeight(n,Xn.HEADER_SIZE+Do.GTIN_SIZE,Xn.WEIGHT_SIZE),n.toString()}}Xn.HEADER_SIZE=4+1,Xn.WEIGHT_SIZE=15;class Mg extends Xn{constructor(n){super(n)}addWeightCode(n,r){n.append("(3103)")}checkWeight(n){return n}}class Rg extends Xn{constructor(n){super(n)}addWeightCode(n,r){r<1e4?n.append("(3202)"):n.append("(3203)")}checkWeight(n){return n<1e4?n:n-1e4}}class Qn extends qt{constructor(n){super(n)}parseInformation(){if(this.getInformation().getSize()<Qn.HEADER_SIZE+qt.GTIN_SIZE)throw new G;let n=new ve;this.encodeCompressedGtin(n,Qn.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(Qn.HEADER_SIZE+qt.GTIN_SIZE,Qn.LAST_DIGIT_SIZE);n.append("(392"),n.append(r),n.append(")");let s=this.getGeneralDecoder().decodeGeneralPurposeField(Qn.HEADER_SIZE+qt.GTIN_SIZE+Qn.LAST_DIGIT_SIZE,null);return n.append(s.getNewString()),n.toString()}}Qn.HEADER_SIZE=5+1+2,Qn.LAST_DIGIT_SIZE=2;class Ht extends qt{constructor(n){super(n)}parseInformation(){if(this.getInformation().getSize()<Ht.HEADER_SIZE+qt.GTIN_SIZE)throw new G;let n=new ve;this.encodeCompressedGtin(n,Ht.HEADER_SIZE);let r=this.getGeneralDecoder().extractNumericValueFromBitArray(Ht.HEADER_SIZE+qt.GTIN_SIZE,Ht.LAST_DIGIT_SIZE);n.append("(393"),n.append(r),n.append(")");let s=this.getGeneralDecoder().extractNumericValueFromBitArray(Ht.HEADER_SIZE+qt.GTIN_SIZE+Ht.LAST_DIGIT_SIZE,Ht.FIRST_THREE_DIGITS_SIZE);s/100==0&&n.append("0"),s/10==0&&n.append("0"),n.append(s);let a=this.getGeneralDecoder().decodeGeneralPurposeField(Ht.HEADER_SIZE+qt.GTIN_SIZE+Ht.LAST_DIGIT_SIZE+Ht.FIRST_THREE_DIGITS_SIZE,null);return n.append(a.getNewString()),n.toString()}}Ht.HEADER_SIZE=5+1+2,Ht.LAST_DIGIT_SIZE=2,Ht.FIRST_THREE_DIGITS_SIZE=10;class Je extends Do{constructor(n,r,s){super(n),this.dateCode=s,this.firstAIdigits=r}parseInformation(){if(this.getInformation().getSize()!=Je.HEADER_SIZE+Je.GTIN_SIZE+Je.WEIGHT_SIZE+Je.DATE_SIZE)throw new G;let n=new ve;return this.encodeCompressedGtin(n,Je.HEADER_SIZE),this.encodeCompressedWeight(n,Je.HEADER_SIZE+Je.GTIN_SIZE,Je.WEIGHT_SIZE),this.encodeCompressedDate(n,Je.HEADER_SIZE+Je.GTIN_SIZE+Je.WEIGHT_SIZE),n.toString()}encodeCompressedDate(n,r){let s=this.getGeneralDecoder().extractNumericValueFromBitArray(r,Je.DATE_SIZE);if(s==38400)return;n.append("("),n.append(this.dateCode),n.append(")");let a=s%32;s/=32;let l=s%12+1;s/=12;let u=s;u/10==0&&n.append("0"),n.append(u),l/10==0&&n.append("0"),n.append(l),a/10==0&&n.append("0"),n.append(a)}addWeightCode(n,r){n.append("("),n.append(this.firstAIdigits),n.append(r/1e5),n.append(")")}checkWeight(n){return n%1e5}}Je.HEADER_SIZE=7+1,Je.WEIGHT_SIZE=20,Je.DATE_SIZE=16;function Ed(v){try{if(v.get(1))return new Ii(v);if(!v.get(2))return new Oo(v);switch(Si.extractNumericValueFromBitArray(v,1,4)){case 4:return new Mg(v);case 5:return new Rg(v)}switch(Si.extractNumericValueFromBitArray(v,1,5)){case 12:return new Qn(v);case 13:return new Ht(v)}switch(Si.extractNumericValueFromBitArray(v,1,7)){case 56:return new Je(v,"310","11");case 57:return new Je(v,"320","11");case 58:return new Je(v,"310","13");case 59:return new Je(v,"320","13");case 60:return new Je(v,"310","15");case 61:return new Je(v,"320","15");case 62:return new Je(v,"310","17");case 63:return new Je(v,"320","17")}}catch(n){throw console.log(n),new Gn("unknown decoder: "+v)}}class Ar{constructor(n,r,s,a){this.leftchar=n,this.rightchar=r,this.finderpattern=s,this.maybeLast=a}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(n,r){return n instanceof Ar?Ar.equalsOrNull(n.leftchar,r.leftchar)&&Ar.equalsOrNull(n.rightchar,r.rightchar)&&Ar.equalsOrNull(n.finderpattern,r.finderpattern):!1}static equalsOrNull(n,r){return n===null?r===null:Ar.equals(n,r)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class ml{constructor(n,r,s){this.pairs=n,this.rowNumber=r,this.wasReversed=s}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(n){return this.checkEqualitity(this,n)}toString(){return"{ "+this.pairs+" }"}equals(n,r){return n instanceof ml?this.checkEqualitity(n,r)&&n.wasReversed===r.wasReversed:!1}checkEqualitity(n,r){if(!n||!r)return;let s;return n.forEach((a,l)=>{r.forEach(u=>{a.getLeftChar().getValue()===u.getLeftChar().getValue()&&a.getRightChar().getValue()===u.getRightChar().getValue()&&a.getFinderPatter().getValue()===u.getFinderPatter().getValue()&&(s=!0)})}),s}}class X extends Pt{constructor(n){super(...arguments),this.pairs=new Array(X.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=n===!0}decodeRow(n,r,s){this.pairs.length=0,this.startFromEven=!1;try{return X.constructResult(this.decodeRow2pairs(n,r))}catch(a){this.verbose&&console.log(a)}return this.pairs.length=0,this.startFromEven=!0,X.constructResult(this.decodeRow2pairs(n,r))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(n,r){let s=!1;for(;!s;)try{this.pairs.push(this.retrieveNextPair(r,this.pairs,n))}catch(l){if(l instanceof G){if(!this.pairs.length)throw new G;s=!0}}if(this.checkChecksum())return this.pairs;let a;if(this.rows.length?a=!0:a=!1,this.storeRow(n,!1),a){let l=this.checkRowsBoolean(!1);if(l!=null||(l=this.checkRowsBoolean(!0),l!=null))return l}throw new G}checkRowsBoolean(n){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,n&&(this.rows=this.rows.reverse());let r=null;try{r=this.checkRows(new Array,0)}catch(s){this.verbose&&console.log(s)}return n&&(this.rows=this.rows.reverse()),r}checkRows(n,r){for(let s=r;s<this.rows.length;s++){let a=this.rows[s];this.pairs.length=0;for(let u of n)this.pairs.push(u.getPairs());if(this.pairs.push(a.getPairs()),!X.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let l=new Array(n);l.push(a);try{return this.checkRows(l,s+1)}catch(u){this.verbose&&console.log(u)}}throw new G}static isValidSequence(n){for(let r of X.FINDER_PATTERN_SEQUENCES){if(n.length>r.length)continue;let s=!0;for(let a=0;a<n.length;a++)if(n[a].getFinderPattern().getValue()!=r[a]){s=!1;break}if(s)return!0}return!1}storeRow(n,r){let s=0,a=!1,l=!1;for(;s<this.rows.length;){let u=this.rows[s];if(u.getRowNumber()>n){l=u.isEquivalent(this.pairs);break}a=u.isEquivalent(this.pairs),s++}l||a||X.isPartialRow(this.pairs,this.rows)||(this.rows.push(s,new ml(this.pairs,n,r)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(n,r){for(let s of r)if(s.getPairs().length!==n.length){for(let a of s.getPairs())for(let l of n)if(Ar.equals(a,l))break}}static isPartialRow(n,r){for(let s of r){let a=!0;for(let l of n){let u=!1;for(let f of s.getPairs())if(l.equals(f)){u=!0;break}if(!u){a=!1;break}}if(a)return!0}return!1}getRows(){return this.rows}static constructResult(n){let r=_g.buildBitArray(n),a=Ed(r).parseInformation(),l=n[0].getFinderPattern().getResultPoints(),u=n[n.length-1].getFinderPattern().getResultPoints(),f=[l[0],l[1],u[0],u[1]];return new nt(a,null,null,f,le.RSS_EXPANDED,null)}checkChecksum(){let n=this.pairs.get(0),r=n.getLeftChar(),s=n.getRightChar();if(s==null)return!1;let a=s.getChecksumPortion(),l=2;for(let f=1;f<this.pairs.size();++f){let h=this.pairs.get(f);a+=h.getLeftChar().getChecksumPortion(),l++;let p=h.getRightChar();p!=null&&(a+=p.getChecksumPortion(),l++)}return a%=211,211*(l-4)+a==r.getValue()}static getNextSecondBar(n,r){let s;return n.get(r)?(s=n.getNextUnset(r),s=n.getNextSet(s)):(s=n.getNextSet(r),s=n.getNextUnset(s)),s}retrieveNextPair(n,r,s){let a=r.length%2==0;this.startFromEven&&(a=!a);let l,u=!0,f=-1;do this.findNextPair(n,r,f),l=this.parseFoundFinderPattern(n,s,a),l==null?f=X.getNextSecondBar(n,this.startEnd[0]):u=!1;while(u);let h=this.decodeDataCharacter(n,l,a,!0);if(!this.isEmptyPair(r)&&r[r.length-1].mustBeLast())throw new G;let p;try{p=this.decodeDataCharacter(n,l,a,!1)}catch(C){p=null,this.verbose&&console.log(C)}return new Ar(h,p,l,!0)}isEmptyPair(n){return n.length===0}findNextPair(n,r,s){let a=this.getDecodeFinderCounters();a[0]=0,a[1]=0,a[2]=0,a[3]=0;let l=n.getSize(),u;s>=0?u=s:this.isEmptyPair(r)?u=0:u=r[r.length-1].getFinderPattern().getStartEnd()[1];let f=r.length%2!=0;this.startFromEven&&(f=!f);let h=!1;for(;u<l&&(h=!n.get(u),!!h);)u++;let p=0,C=u;for(let A=u;A<l;A++)if(n.get(A)!=h)a[p]++;else{if(p==3){if(f&&X.reverseCounters(a),X.isFinderPattern(a)){this.startEnd[0]=C,this.startEnd[1]=A;return}f&&X.reverseCounters(a),C+=a[0]+a[1],a[0]=a[2],a[1]=a[3],a[2]=0,a[3]=0,p--}else p++;a[p]=1,h=!h}throw new G}static reverseCounters(n){let r=n.length;for(let s=0;s<r/2;++s){let a=n[s];n[s]=n[r-s-1],n[r-s-1]=a}}parseFoundFinderPattern(n,r,s){let a,l,u;if(s){let p=this.startEnd[0]-1;for(;p>=0&&!n.get(p);)p--;p++,a=this.startEnd[0]-p,l=p,u=this.startEnd[1]}else l=this.startEnd[0],u=n.getNextUnset(this.startEnd[1]+1),a=u-this.startEnd[1];let f=this.getDecodeFinderCounters();O.arraycopy(f,0,f,1,f.length-1),f[0]=a;let h;try{h=this.parseFinderValue(f,X.FINDER_PATTERNS)}catch{return null}return new Ro(h,[l,u],l,u,r)}decodeDataCharacter(n,r,s,a){let l=this.getDataCharacterCounters();for(let Ve=0;Ve<l.length;Ve++)l[Ve]=0;if(a)X.recordPatternInReverse(n,r.getStartEnd()[0],l);else{X.recordPattern(n,r.getStartEnd()[1],l);for(let Ve=0,Rt=l.length-1;Ve<Rt;Ve++,Rt--){let ln=l[Ve];l[Ve]=l[Rt],l[Rt]=ln}}let u=17,f=be.sum(new Int32Array(l))/u,h=(r.getStartEnd()[1]-r.getStartEnd()[0])/15;if(Math.abs(f-h)/h>.3)throw new G;let p=this.getOddCounts(),C=this.getEvenCounts(),A=this.getOddRoundingErrors(),I=this.getEvenRoundingErrors();for(let Ve=0;Ve<l.length;Ve++){let Rt=1*l[Ve]/f,ln=Rt+.5;if(ln<1){if(Rt<.3)throw new G;ln=1}else if(ln>8){if(Rt>8.7)throw new G;ln=8}let Mi=Ve/2;Ve&1?(C[Mi]=ln,I[Mi]=Rt-ln):(p[Mi]=ln,A[Mi]=Rt-ln)}this.adjustOddEvenCounts(u);let _=4*r.getValue()+(s?0:2)+(a?0:1)-1,D=0,P=0;for(let Ve=p.length-1;Ve>=0;Ve--){if(X.isNotA1left(r,s,a)){let Rt=X.WEIGHTS[_][2*Ve];P+=p[Ve]*Rt}D+=p[Ve]}let F=0;for(let Ve=C.length-1;Ve>=0;Ve--)if(X.isNotA1left(r,s,a)){let Rt=X.WEIGHTS[_][2*Ve+1];F+=C[Ve]*Rt}let W=P+F;if(D&1||D>13||D<4)throw new G;let q=(13-D)/2,ee=X.SYMBOL_WIDEST[q],Q=9-ee,Se=Yn.getRSSvalue(p,ee,!0),xe=Yn.getRSSvalue(C,Q,!1),Jt=X.EVEN_TOTAL_SUBSET[q],kn=X.GSUM[q],en=Se*Jt+xe+kn;return new Ai(en,W)}static isNotA1left(n,r,s){return!(n.getValue()==0&&r&&s)}adjustOddEvenCounts(n){let r=be.sum(new Int32Array(this.getOddCounts())),s=be.sum(new Int32Array(this.getEvenCounts())),a=!1,l=!1;r>13?l=!0:r<4&&(a=!0);let u=!1,f=!1;s>13?f=!0:s<4&&(u=!0);let h=r+s-n,p=(r&1)==1,C=(s&1)==0;if(h==1)if(p){if(C)throw new G;l=!0}else{if(!C)throw new G;f=!0}else if(h==-1)if(p){if(C)throw new G;a=!0}else{if(!C)throw new G;u=!0}else if(h==0){if(p){if(!C)throw new G;r<s?(a=!0,f=!0):(l=!0,u=!0)}else if(C)throw new G}else throw new G;if(a){if(l)throw new G;X.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(l&&X.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(f)throw new G;X.increment(this.getEvenCounts(),this.getOddRoundingErrors())}f&&X.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}X.SYMBOL_WIDEST=[7,5,4,3,1],X.EVEN_TOTAL_SUBSET=[4,20,52,104,204],X.GSUM=[0,348,1388,2948,3988],X.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],X.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],X.FINDER_PAT_A=0,X.FINDER_PAT_B=1,X.FINDER_PAT_C=2,X.FINDER_PAT_D=3,X.FINDER_PAT_E=4,X.FINDER_PAT_F=5,X.FINDER_PATTERN_SEQUENCES=[[X.FINDER_PAT_A,X.FINDER_PAT_A],[X.FINDER_PAT_A,X.FINDER_PAT_B,X.FINDER_PAT_B],[X.FINDER_PAT_A,X.FINDER_PAT_C,X.FINDER_PAT_B,X.FINDER_PAT_D],[X.FINDER_PAT_A,X.FINDER_PAT_E,X.FINDER_PAT_B,X.FINDER_PAT_D,X.FINDER_PAT_C],[X.FINDER_PAT_A,X.FINDER_PAT_E,X.FINDER_PAT_B,X.FINDER_PAT_D,X.FINDER_PAT_D,X.FINDER_PAT_F],[X.FINDER_PAT_A,X.FINDER_PAT_E,X.FINDER_PAT_B,X.FINDER_PAT_D,X.FINDER_PAT_E,X.FINDER_PAT_F,X.FINDER_PAT_F],[X.FINDER_PAT_A,X.FINDER_PAT_A,X.FINDER_PAT_B,X.FINDER_PAT_B,X.FINDER_PAT_C,X.FINDER_PAT_C,X.FINDER_PAT_D,X.FINDER_PAT_D],[X.FINDER_PAT_A,X.FINDER_PAT_A,X.FINDER_PAT_B,X.FINDER_PAT_B,X.FINDER_PAT_C,X.FINDER_PAT_C,X.FINDER_PAT_D,X.FINDER_PAT_E,X.FINDER_PAT_E],[X.FINDER_PAT_A,X.FINDER_PAT_A,X.FINDER_PAT_B,X.FINDER_PAT_B,X.FINDER_PAT_C,X.FINDER_PAT_C,X.FINDER_PAT_D,X.FINDER_PAT_E,X.FINDER_PAT_F,X.FINDER_PAT_F],[X.FINDER_PAT_A,X.FINDER_PAT_A,X.FINDER_PAT_B,X.FINDER_PAT_B,X.FINDER_PAT_C,X.FINDER_PAT_D,X.FINDER_PAT_D,X.FINDER_PAT_E,X.FINDER_PAT_E,X.FINDER_PAT_F,X.FINDER_PAT_F]],X.MAX_PAIRS=11;class Og extends Ai{constructor(n,r,s){super(n,r),this.count=0,this.finderPattern=s}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class ct extends Pt{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(n,r,s){const a=this.decodePair(r,!1,n,s);ct.addOrTally(this.possibleLeftPairs,a),r.reverse();let l=this.decodePair(r,!0,n,s);ct.addOrTally(this.possibleRightPairs,l),r.reverse();for(let u of this.possibleLeftPairs)if(u.getCount()>1){for(let f of this.possibleRightPairs)if(f.getCount()>1&&ct.checkChecksum(u,f))return ct.constructResult(u,f)}throw new G}static addOrTally(n,r){if(r==null)return;let s=!1;for(let a of n)if(a.getValue()===r.getValue()){a.incrementCount(),s=!0;break}s||n.push(r)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(n,r){let s=4537077*n.getValue()+r.getValue(),a=new String(s).toString(),l=new ve;for(let p=13-a.length;p>0;p--)l.append("0");l.append(a);let u=0;for(let p=0;p<13;p++){let C=l.charAt(p).charCodeAt(0)-"0".charCodeAt(0);u+=p&1?C:3*C}u=10-u%10,u===10&&(u=0),l.append(u.toString());let f=n.getFinderPattern().getResultPoints(),h=r.getFinderPattern().getResultPoints();return new nt(l.toString(),null,0,[f[0],f[1],h[0],h[1]],le.RSS_14,new Date().getTime())}static checkChecksum(n,r){let s=(n.getChecksumPortion()+16*r.getChecksumPortion())%79,a=9*n.getFinderPattern().getValue()+r.getFinderPattern().getValue();return a>72&&a--,a>8&&a--,s===a}decodePair(n,r,s,a){try{let l=this.findFinderPattern(n,r),u=this.parseFoundFinderPattern(n,s,r,l),f=a==null?null:a.get(Z.NEED_RESULT_POINT_CALLBACK);if(f!=null){let C=(l[0]+l[1])/2;r&&(C=n.getSize()-1-C),f.foundPossibleResultPoint(new ae(C,s))}let h=this.decodeDataCharacter(n,u,!0),p=this.decodeDataCharacter(n,u,!1);return new Og(1597*h.getValue()+p.getValue(),h.getChecksumPortion()+4*p.getChecksumPortion(),u)}catch{return null}}decodeDataCharacter(n,r,s){let a=this.getDataCharacterCounters();for(let F=0;F<a.length;F++)a[F]=0;if(s)pt.recordPatternInReverse(n,r.getStartEnd()[0],a);else{pt.recordPattern(n,r.getStartEnd()[1]+1,a);for(let F=0,W=a.length-1;F<W;F++,W--){let q=a[F];a[F]=a[W],a[W]=q}}let l=s?16:15,u=be.sum(new Int32Array(a))/l,f=this.getOddCounts(),h=this.getEvenCounts(),p=this.getOddRoundingErrors(),C=this.getEvenRoundingErrors();for(let F=0;F<a.length;F++){let W=a[F]/u,q=Math.floor(W+.5);q<1?q=1:q>8&&(q=8);let ee=Math.floor(F/2);F&1?(h[ee]=q,C[ee]=W-q):(f[ee]=q,p[ee]=W-q)}this.adjustOddEvenCounts(s,l);let A=0,I=0;for(let F=f.length-1;F>=0;F--)I*=9,I+=f[F],A+=f[F];let _=0,D=0;for(let F=h.length-1;F>=0;F--)_*=9,_+=h[F],D+=h[F];let P=I+3*_;if(s){if(A&1||A>12||A<4)throw new G;let F=(12-A)/2,W=ct.OUTSIDE_ODD_WIDEST[F],q=9-W,ee=Yn.getRSSvalue(f,W,!1),Q=Yn.getRSSvalue(h,q,!0),Se=ct.OUTSIDE_EVEN_TOTAL_SUBSET[F],xe=ct.OUTSIDE_GSUM[F];return new Ai(ee*Se+Q+xe,P)}else{if(D&1||D>10||D<4)throw new G;let F=(10-D)/2,W=ct.INSIDE_ODD_WIDEST[F],q=9-W,ee=Yn.getRSSvalue(f,W,!0),Q=Yn.getRSSvalue(h,q,!1),Se=ct.INSIDE_ODD_TOTAL_SUBSET[F],xe=ct.INSIDE_GSUM[F];return new Ai(Q*Se+ee+xe,P)}}findFinderPattern(n,r){let s=this.getDecodeFinderCounters();s[0]=0,s[1]=0,s[2]=0,s[3]=0;let a=n.getSize(),l=!1,u=0;for(;u<a&&(l=!n.get(u),r!==l);)u++;let f=0,h=u;for(let p=u;p<a;p++)if(n.get(p)!==l)s[f]++;else{if(f===3){if(Pt.isFinderPattern(s))return[h,p];h+=s[0]+s[1],s[0]=s[2],s[1]=s[3],s[2]=0,s[3]=0,f--}else f++;s[f]=1,l=!l}throw new G}parseFoundFinderPattern(n,r,s,a){let l=n.get(a[0]),u=a[0]-1;for(;u>=0&&l!==n.get(u);)u--;u++;const f=a[0]-u,h=this.getDecodeFinderCounters(),p=new Int32Array(h.length);O.arraycopy(h,0,p,1,h.length-1),p[0]=f;const C=this.parseFinderValue(p,ct.FINDER_PATTERNS);let A=u,I=a[1];return s&&(A=n.getSize()-1-A,I=n.getSize()-1-I),new Ro(C,[u,a[1]],A,I,r)}adjustOddEvenCounts(n,r){let s=be.sum(new Int32Array(this.getOddCounts())),a=be.sum(new Int32Array(this.getEvenCounts())),l=!1,u=!1,f=!1,h=!1;n?(s>12?u=!0:s<4&&(l=!0),a>12?h=!0:a<4&&(f=!0)):(s>11?u=!0:s<5&&(l=!0),a>10?h=!0:a<4&&(f=!0));let p=s+a-r,C=(s&1)===(n?1:0),A=(a&1)===1;if(p===1)if(C){if(A)throw new G;u=!0}else{if(!A)throw new G;h=!0}else if(p===-1)if(C){if(A)throw new G;l=!0}else{if(!A)throw new G;f=!0}else if(p===0){if(C){if(!A)throw new G;s<a?(l=!0,h=!0):(u=!0,f=!0)}else if(A)throw new G}else throw new G;if(l){if(u)throw new G;Pt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&Pt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(h)throw new G;Pt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}h&&Pt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ct.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],ct.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],ct.OUTSIDE_GSUM=[0,161,961,2015,2715],ct.INSIDE_GSUM=[0,336,1036,1516],ct.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],ct.INSIDE_ODD_WIDEST=[2,4,6,8],ct.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Ni extends pt{constructor(n,r){super(),this.readers=[],this.verbose=r===!0;const s=n?n.get(Z.POSSIBLE_FORMATS):null,a=n&&n.get(Z.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;s?((s.includes(le.EAN_13)||s.includes(le.UPC_A)||s.includes(le.EAN_8)||s.includes(le.UPC_E))&&this.readers.push(new hl(n)),s.includes(le.CODE_39)&&this.readers.push(new xt(a)),s.includes(le.CODE_128)&&this.readers.push(new te),s.includes(le.ITF)&&this.readers.push(new Ue),s.includes(le.RSS_14)&&this.readers.push(new ct),s.includes(le.RSS_EXPANDED)&&this.readers.push(new X(this.verbose))):(this.readers.push(new hl(n)),this.readers.push(new xt),this.readers.push(new hl(n)),this.readers.push(new te),this.readers.push(new Ue),this.readers.push(new ct),this.readers.push(new X(this.verbose)))}decodeRow(n,r,s){for(let a=0;a<this.readers.length;a++)try{return this.readers[a].decodeRow(n,r,s)}catch{}throw new G}reset(){this.readers.forEach(n=>n.reset())}}class Dg extends We{constructor(n=500,r){super(new Ni(r),n,r)}}class Le{constructor(n,r,s){this.ecCodewords=n,this.ecBlocks=[r],s&&this.ecBlocks.push(s)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class De{constructor(n,r){this.count=n,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ne{constructor(n,r,s,a,l,u){this.versionNumber=n,this.symbolSizeRows=r,this.symbolSizeColumns=s,this.dataRegionSizeRows=a,this.dataRegionSizeColumns=l,this.ecBlocks=u;let f=0;const h=u.getECCodewords(),p=u.getECBlocks();for(let C of p)f+=C.getCount()*(C.getDataCodewords()+h);this.totalCodewords=f}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(n,r){if(n&1||r&1)throw new V;for(let s of Ne.VERSIONS)if(s.symbolSizeRows===n&&s.symbolSizeColumns===r)return s;throw new V}toString(){return""+this.versionNumber}static buildVersions(){return[new Ne(1,10,10,8,8,new Le(5,new De(1,3))),new Ne(2,12,12,10,10,new Le(7,new De(1,5))),new Ne(3,14,14,12,12,new Le(10,new De(1,8))),new Ne(4,16,16,14,14,new Le(12,new De(1,12))),new Ne(5,18,18,16,16,new Le(14,new De(1,18))),new Ne(6,20,20,18,18,new Le(18,new De(1,22))),new Ne(7,22,22,20,20,new Le(20,new De(1,30))),new Ne(8,24,24,22,22,new Le(24,new De(1,36))),new Ne(9,26,26,24,24,new Le(28,new De(1,44))),new Ne(10,32,32,14,14,new Le(36,new De(1,62))),new Ne(11,36,36,16,16,new Le(42,new De(1,86))),new Ne(12,40,40,18,18,new Le(48,new De(1,114))),new Ne(13,44,44,20,20,new Le(56,new De(1,144))),new Ne(14,48,48,22,22,new Le(68,new De(1,174))),new Ne(15,52,52,24,24,new Le(42,new De(2,102))),new Ne(16,64,64,14,14,new Le(56,new De(2,140))),new Ne(17,72,72,16,16,new Le(36,new De(4,92))),new Ne(18,80,80,18,18,new Le(48,new De(4,114))),new Ne(19,88,88,20,20,new Le(56,new De(4,144))),new Ne(20,96,96,22,22,new Le(68,new De(4,174))),new Ne(21,104,104,24,24,new Le(56,new De(6,136))),new Ne(22,120,120,18,18,new Le(68,new De(6,175))),new Ne(23,132,132,20,20,new Le(62,new De(8,163))),new Ne(24,144,144,22,22,new Le(62,new De(8,156),new De(2,155))),new Ne(25,8,18,6,16,new Le(7,new De(1,5))),new Ne(26,8,32,6,14,new Le(11,new De(1,10))),new Ne(27,12,26,10,24,new Le(14,new De(1,16))),new Ne(28,12,36,10,16,new Le(18,new De(1,22))),new Ne(29,16,36,14,16,new Le(24,new De(1,32))),new Ne(30,16,48,14,22,new Le(28,new De(1,49)))]}}Ne.VERSIONS=Ne.buildVersions();class xl{constructor(n){const r=n.getHeight();if(r<8||r>144||r&1)throw new V;this.version=xl.readVersion(n),this.mappingBitMatrix=this.extractDataRegion(n),this.readMappingMatrix=new He(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(n){const r=n.getHeight(),s=n.getWidth();return Ne.getVersionForDimensions(r,s)}readCodewords(){const n=new Int8Array(this.version.getTotalCodewords());let r=0,s=4,a=0;const l=this.mappingBitMatrix.getHeight(),u=this.mappingBitMatrix.getWidth();let f=!1,h=!1,p=!1,C=!1;do if(s===l&&a===0&&!f)n[r++]=this.readCorner1(l,u)&255,s-=2,a+=2,f=!0;else if(s===l-2&&a===0&&u&3&&!h)n[r++]=this.readCorner2(l,u)&255,s-=2,a+=2,h=!0;else if(s===l+4&&a===2&&!(u&7)&&!p)n[r++]=this.readCorner3(l,u)&255,s-=2,a+=2,p=!0;else if(s===l-2&&a===0&&(u&7)===4&&!C)n[r++]=this.readCorner4(l,u)&255,s-=2,a+=2,C=!0;else{do s<l&&a>=0&&!this.readMappingMatrix.get(a,s)&&(n[r++]=this.readUtah(s,a,l,u)&255),s-=2,a+=2;while(s>=0&&a<u);s+=1,a+=3;do s>=0&&a<u&&!this.readMappingMatrix.get(a,s)&&(n[r++]=this.readUtah(s,a,l,u)&255),s+=2,a-=2;while(s<l&&a>=0);s+=3,a+=1}while(s<l||a<u);if(r!==this.version.getTotalCodewords())throw new V;return n}readModule(n,r,s,a){return n<0&&(n+=s,r+=4-(s+4&7)),r<0&&(r+=a,n+=4-(a+4&7)),this.readMappingMatrix.set(r,n),this.mappingBitMatrix.get(r,n)}readUtah(n,r,s,a){let l=0;return this.readModule(n-2,r-2,s,a)&&(l|=1),l<<=1,this.readModule(n-2,r-1,s,a)&&(l|=1),l<<=1,this.readModule(n-1,r-2,s,a)&&(l|=1),l<<=1,this.readModule(n-1,r-1,s,a)&&(l|=1),l<<=1,this.readModule(n-1,r,s,a)&&(l|=1),l<<=1,this.readModule(n,r-2,s,a)&&(l|=1),l<<=1,this.readModule(n,r-1,s,a)&&(l|=1),l<<=1,this.readModule(n,r,s,a)&&(l|=1),l}readCorner1(n,r){let s=0;return this.readModule(n-1,0,n,r)&&(s|=1),s<<=1,this.readModule(n-1,1,n,r)&&(s|=1),s<<=1,this.readModule(n-1,2,n,r)&&(s|=1),s<<=1,this.readModule(0,r-2,n,r)&&(s|=1),s<<=1,this.readModule(0,r-1,n,r)&&(s|=1),s<<=1,this.readModule(1,r-1,n,r)&&(s|=1),s<<=1,this.readModule(2,r-1,n,r)&&(s|=1),s<<=1,this.readModule(3,r-1,n,r)&&(s|=1),s}readCorner2(n,r){let s=0;return this.readModule(n-3,0,n,r)&&(s|=1),s<<=1,this.readModule(n-2,0,n,r)&&(s|=1),s<<=1,this.readModule(n-1,0,n,r)&&(s|=1),s<<=1,this.readModule(0,r-4,n,r)&&(s|=1),s<<=1,this.readModule(0,r-3,n,r)&&(s|=1),s<<=1,this.readModule(0,r-2,n,r)&&(s|=1),s<<=1,this.readModule(0,r-1,n,r)&&(s|=1),s<<=1,this.readModule(1,r-1,n,r)&&(s|=1),s}readCorner3(n,r){let s=0;return this.readModule(n-1,0,n,r)&&(s|=1),s<<=1,this.readModule(n-1,r-1,n,r)&&(s|=1),s<<=1,this.readModule(0,r-3,n,r)&&(s|=1),s<<=1,this.readModule(0,r-2,n,r)&&(s|=1),s<<=1,this.readModule(0,r-1,n,r)&&(s|=1),s<<=1,this.readModule(1,r-3,n,r)&&(s|=1),s<<=1,this.readModule(1,r-2,n,r)&&(s|=1),s<<=1,this.readModule(1,r-1,n,r)&&(s|=1),s}readCorner4(n,r){let s=0;return this.readModule(n-3,0,n,r)&&(s|=1),s<<=1,this.readModule(n-2,0,n,r)&&(s|=1),s<<=1,this.readModule(n-1,0,n,r)&&(s|=1),s<<=1,this.readModule(0,r-2,n,r)&&(s|=1),s<<=1,this.readModule(0,r-1,n,r)&&(s|=1),s<<=1,this.readModule(1,r-1,n,r)&&(s|=1),s<<=1,this.readModule(2,r-1,n,r)&&(s|=1),s<<=1,this.readModule(3,r-1,n,r)&&(s|=1),s}extractDataRegion(n){const r=this.version.getSymbolSizeRows(),s=this.version.getSymbolSizeColumns();if(n.getHeight()!==r)throw new S("Dimension of bitMatrix must match the version size");const a=this.version.getDataRegionSizeRows(),l=this.version.getDataRegionSizeColumns(),u=r/a|0,f=s/l|0,h=u*a,p=f*l,C=new He(p,h);for(let A=0;A<u;++A){const I=A*a;for(let _=0;_<f;++_){const D=_*l;for(let P=0;P<a;++P){const F=A*(a+2)+1+P,W=I+P;for(let q=0;q<l;++q){const ee=_*(l+2)+1+q;if(n.get(ee,F)){const Q=D+q;C.set(Q,W)}}}}}return C}}class wl{constructor(n,r){this.numDataCodewords=n,this.codewords=r}static getDataBlocks(n,r){const s=r.getECBlocks();let a=0;const l=s.getECBlocks();for(let P of l)a+=P.getCount();const u=new Array(a);let f=0;for(let P of l)for(let F=0;F<P.getCount();F++){const W=P.getDataCodewords(),q=s.getECCodewords()+W;u[f++]=new wl(W,new Uint8Array(q))}const p=u[0].codewords.length-s.getECCodewords(),C=p-1;let A=0;for(let P=0;P<C;P++)for(let F=0;F<f;F++)u[F].codewords[P]=n[A++];const I=r.getVersionNumber()===24,_=I?8:f;for(let P=0;P<_;P++)u[P].codewords[p-1]=n[A++];const D=u[0].codewords.length;for(let P=p;P<D;P++)for(let F=0;F<f;F++){const W=I?(F+8)%f:F,q=I&&W>7?P-1:P;u[W].codewords[q]=n[A++]}if(A!==n.length)throw new S;return u}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class yl{constructor(n){this.bytes=n,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(n){if(n<1||n>32||n>this.available())throw new S(""+n);let r=0,s=this.bitOffset,a=this.byteOffset;const l=this.bytes;if(s>0){const u=8-s,f=n<u?n:u,h=u-f,p=255>>8-f<<h;r=(l[a]&p)>>h,n-=f,s+=f,s===8&&(s=0,a++)}if(n>0){for(;n>=8;)r=r<<8|l[a]&255,a++,n-=8;if(n>0){const u=8-n,f=255>>u<<u;r=r<<n|(l[a]&f)>>u,s+=n}}return this.bitOffset=s,this.byteOffset=a,r}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var wt;(function(v){v[v.PAD_ENCODE=0]="PAD_ENCODE",v[v.ASCII_ENCODE=1]="ASCII_ENCODE",v[v.C40_ENCODE=2]="C40_ENCODE",v[v.TEXT_ENCODE=3]="TEXT_ENCODE",v[v.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",v[v.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",v[v.BASE256_ENCODE=6]="BASE256_ENCODE"})(wt||(wt={}));class Sr{static decode(n){const r=new yl(n),s=new ve,a=new ve,l=new Array;let u=wt.ASCII_ENCODE;do if(u===wt.ASCII_ENCODE)u=this.decodeAsciiSegment(r,s,a);else{switch(u){case wt.C40_ENCODE:this.decodeC40Segment(r,s);break;case wt.TEXT_ENCODE:this.decodeTextSegment(r,s);break;case wt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(r,s);break;case wt.EDIFACT_ENCODE:this.decodeEdifactSegment(r,s);break;case wt.BASE256_ENCODE:this.decodeBase256Segment(r,s,l);break;default:throw new V}u=wt.ASCII_ENCODE}while(u!==wt.PAD_ENCODE&&r.available()>0);return a.length()>0&&s.append(a.toString()),new ms(n,s.toString(),l.length===0?null:l,null)}static decodeAsciiSegment(n,r,s){let a=!1;do{let l=n.readBits(8);if(l===0)throw new V;if(l<=128)return a&&(l+=128),r.append(String.fromCharCode(l-1)),wt.ASCII_ENCODE;if(l===129)return wt.PAD_ENCODE;if(l<=229){const u=l-130;u<10&&r.append("0"),r.append(""+u)}else switch(l){case 230:return wt.C40_ENCODE;case 231:return wt.BASE256_ENCODE;case 232:r.append(String.fromCharCode(29));break;case 233:case 234:break;case 235:a=!0;break;case 236:r.append("[)>05"),s.insert(0,"");break;case 237:r.append("[)>06"),s.insert(0,"");break;case 238:return wt.ANSIX12_ENCODE;case 239:return wt.TEXT_ENCODE;case 240:return wt.EDIFACT_ENCODE;case 241:break;default:if(l!==254||n.available()!==0)throw new V;break}}while(n.available()>0);return wt.ASCII_ENCODE}static decodeC40Segment(n,r){let s=!1;const a=[];let l=0;do{if(n.available()===8)return;const u=n.readBits(8);if(u===254)return;this.parseTwoBytes(u,n.readBits(8),a);for(let f=0;f<3;f++){const h=a[f];switch(l){case 0:if(h<3)l=h+1;else if(h<this.C40_BASIC_SET_CHARS.length){const p=this.C40_BASIC_SET_CHARS[h];s?(r.append(String.fromCharCode(p.charCodeAt(0)+128)),s=!1):r.append(p)}else throw new V;break;case 1:s?(r.append(String.fromCharCode(h+128)),s=!1):r.append(String.fromCharCode(h)),l=0;break;case 2:if(h<this.C40_SHIFT2_SET_CHARS.length){const p=this.C40_SHIFT2_SET_CHARS[h];s?(r.append(String.fromCharCode(p.charCodeAt(0)+128)),s=!1):r.append(p)}else switch(h){case 27:r.append(String.fromCharCode(29));break;case 30:s=!0;break;default:throw new V}l=0;break;case 3:s?(r.append(String.fromCharCode(h+224)),s=!1):r.append(String.fromCharCode(h+96)),l=0;break;default:throw new V}}}while(n.available()>0)}static decodeTextSegment(n,r){let s=!1,a=[],l=0;do{if(n.available()===8)return;const u=n.readBits(8);if(u===254)return;this.parseTwoBytes(u,n.readBits(8),a);for(let f=0;f<3;f++){const h=a[f];switch(l){case 0:if(h<3)l=h+1;else if(h<this.TEXT_BASIC_SET_CHARS.length){const p=this.TEXT_BASIC_SET_CHARS[h];s?(r.append(String.fromCharCode(p.charCodeAt(0)+128)),s=!1):r.append(p)}else throw new V;break;case 1:s?(r.append(String.fromCharCode(h+128)),s=!1):r.append(String.fromCharCode(h)),l=0;break;case 2:if(h<this.TEXT_SHIFT2_SET_CHARS.length){const p=this.TEXT_SHIFT2_SET_CHARS[h];s?(r.append(String.fromCharCode(p.charCodeAt(0)+128)),s=!1):r.append(p)}else switch(h){case 27:r.append(String.fromCharCode(29));break;case 30:s=!0;break;default:throw new V}l=0;break;case 3:if(h<this.TEXT_SHIFT3_SET_CHARS.length){const p=this.TEXT_SHIFT3_SET_CHARS[h];s?(r.append(String.fromCharCode(p.charCodeAt(0)+128)),s=!1):r.append(p),l=0}else throw new V;break;default:throw new V}}}while(n.available()>0)}static decodeAnsiX12Segment(n,r){const s=[];do{if(n.available()===8)return;const a=n.readBits(8);if(a===254)return;this.parseTwoBytes(a,n.readBits(8),s);for(let l=0;l<3;l++){const u=s[l];switch(u){case 0:r.append("\r");break;case 1:r.append("*");break;case 2:r.append(">");break;case 3:r.append(" ");break;default:if(u<14)r.append(String.fromCharCode(u+44));else if(u<40)r.append(String.fromCharCode(u+51));else throw new V;break}}}while(n.available()>0)}static parseTwoBytes(n,r,s){let a=(n<<8)+r-1,l=Math.floor(a/1600);s[0]=l,a-=l*1600,l=Math.floor(a/40),s[1]=l,s[2]=a-l*40}static decodeEdifactSegment(n,r){do{if(n.available()<=16)return;for(let s=0;s<4;s++){let a=n.readBits(6);if(a===31){const l=8-n.getBitOffset();l!==8&&n.readBits(l);return}a&32||(a|=64),r.append(String.fromCharCode(a))}}while(n.available()>0)}static decodeBase256Segment(n,r,s){let a=1+n.getByteOffset();const l=this.unrandomize255State(n.readBits(8),a++);let u;if(l===0?u=n.available()/8|0:l<250?u=l:u=250*(l-249)+this.unrandomize255State(n.readBits(8),a++),u<0)throw new V;const f=new Uint8Array(u);for(let h=0;h<u;h++){if(n.available()<8)throw new V;f[h]=this.unrandomize255State(n.readBits(8),a++)}s.push(f);try{r.append(Te.decode(f,ne.ISO88591))}catch(h){throw new Gn("Platform does not support required encoding: "+h.message)}}static unrandomize255State(n,r){const s=149*r%255+1,a=n-s;return a>=0?a:a+256}}Sr.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Sr.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Sr.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Sr.TEXT_SHIFT2_SET_CHARS=Sr.C40_SHIFT2_SET_CHARS,Sr.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)];class kg{constructor(){this.rsDecoder=new ws(Re.DATA_MATRIX_FIELD_256)}decode(n){const r=new xl(n),s=r.getVersion(),a=r.readCodewords(),l=wl.getDataBlocks(a,s);let u=0;for(let p of l)u+=p.getNumDataCodewords();const f=new Uint8Array(u),h=l.length;for(let p=0;p<h;p++){const C=l[p],A=C.getCodewords(),I=C.getNumDataCodewords();this.correctErrors(A,I);for(let _=0;_<I;_++)f[_*h+p]=A[_]}return Sr.decode(f)}correctErrors(n,r){const s=new Int32Array(n);try{this.rsDecoder.decode(s,n.length-r)}catch{throw new k}for(let a=0;a<r;a++)n[a]=s[a]}}class ht{constructor(n){this.image=n,this.rectangleDetector=new ar(this.image)}detect(){const n=this.rectangleDetector.detect();let r=this.detectSolid1(n);if(r=this.detectSolid2(r),r[3]=this.correctTopRight(r),!r[3])throw new G;r=this.shiftToModuleCenter(r);const s=r[0],a=r[1],l=r[2],u=r[3];let f=this.transitionsBetween(s,u)+1,h=this.transitionsBetween(l,u)+1;(f&1)===1&&(f+=1),(h&1)===1&&(h+=1),4*f<7*h&&4*h<7*f&&(f=h=Math.max(f,h));let p=ht.sampleGrid(this.image,s,a,l,u,f,h);return new _o(p,[s,a,l,u])}static shiftPoint(n,r,s){let a=(r.getX()-n.getX())/(s+1),l=(r.getY()-n.getY())/(s+1);return new ae(n.getX()+a,n.getY()+l)}static moveAway(n,r,s){let a=n.getX(),l=n.getY();return a<r?a-=1:a+=1,l<s?l-=1:l+=1,new ae(a,l)}detectSolid1(n){let r=n[0],s=n[1],a=n[3],l=n[2],u=this.transitionsBetween(r,s),f=this.transitionsBetween(s,a),h=this.transitionsBetween(a,l),p=this.transitionsBetween(l,r),C=u,A=[l,r,s,a];return C>f&&(C=f,A[0]=r,A[1]=s,A[2]=a,A[3]=l),C>h&&(C=h,A[0]=s,A[1]=a,A[2]=l,A[3]=r),C>p&&(A[0]=a,A[1]=l,A[2]=r,A[3]=s),A}detectSolid2(n){let r=n[0],s=n[1],a=n[2],l=n[3],u=this.transitionsBetween(r,l),f=ht.shiftPoint(s,a,(u+1)*4),h=ht.shiftPoint(a,s,(u+1)*4),p=this.transitionsBetween(f,r),C=this.transitionsBetween(h,l);return p<C?(n[0]=r,n[1]=s,n[2]=a,n[3]=l):(n[0]=s,n[1]=a,n[2]=l,n[3]=r),n}correctTopRight(n){let r=n[0],s=n[1],a=n[2],l=n[3],u=this.transitionsBetween(r,l),f=this.transitionsBetween(s,l),h=ht.shiftPoint(r,s,(f+1)*4),p=ht.shiftPoint(a,s,(u+1)*4);u=this.transitionsBetween(h,l),f=this.transitionsBetween(p,l);let C=new ae(l.getX()+(a.getX()-s.getX())/(u+1),l.getY()+(a.getY()-s.getY())/(u+1)),A=new ae(l.getX()+(r.getX()-s.getX())/(f+1),l.getY()+(r.getY()-s.getY())/(f+1));if(!this.isValid(C))return this.isValid(A)?A:null;if(!this.isValid(A))return C;let I=this.transitionsBetween(h,C)+this.transitionsBetween(p,C),_=this.transitionsBetween(h,A)+this.transitionsBetween(p,A);return I>_?C:A}shiftToModuleCenter(n){let r=n[0],s=n[1],a=n[2],l=n[3],u=this.transitionsBetween(r,l)+1,f=this.transitionsBetween(a,l)+1,h=ht.shiftPoint(r,s,f*4),p=ht.shiftPoint(a,s,u*4);u=this.transitionsBetween(h,l)+1,f=this.transitionsBetween(p,l)+1,(u&1)===1&&(u+=1),(f&1)===1&&(f+=1);let C=(r.getX()+s.getX()+a.getX()+l.getX())/4,A=(r.getY()+s.getY()+a.getY()+l.getY())/4;r=ht.moveAway(r,C,A),s=ht.moveAway(s,C,A),a=ht.moveAway(a,C,A),l=ht.moveAway(l,C,A);let I,_;return h=ht.shiftPoint(r,s,f*4),h=ht.shiftPoint(h,l,u*4),I=ht.shiftPoint(s,r,f*4),I=ht.shiftPoint(I,a,u*4),p=ht.shiftPoint(a,l,f*4),p=ht.shiftPoint(p,s,u*4),_=ht.shiftPoint(l,a,f*4),_=ht.shiftPoint(_,r,u*4),[h,I,p,_]}isValid(n){return n.getX()>=0&&n.getX()<this.image.getWidth()&&n.getY()>0&&n.getY()<this.image.getHeight()}static sampleGrid(n,r,s,a,l,u,f){return vr.getInstance().sampleGrid(n,u,f,.5,.5,u-.5,.5,u-.5,f-.5,.5,f-.5,r.getX(),r.getY(),l.getX(),l.getY(),a.getX(),a.getY(),s.getX(),s.getY())}transitionsBetween(n,r){let s=Math.trunc(n.getX()),a=Math.trunc(n.getY()),l=Math.trunc(r.getX()),u=Math.trunc(r.getY()),f=Math.abs(u-a)>Math.abs(l-s);if(f){let P=s;s=a,a=P,P=l,l=u,u=P}let h=Math.abs(l-s),p=Math.abs(u-a),C=-h/2,A=a<u?1:-1,I=s<l?1:-1,_=0,D=this.image.get(f?a:s,f?s:a);for(let P=s,F=a;P!==l;P+=I){let W=this.image.get(f?F:P,f?P:F);if(W!==D&&(_++,D=W),C+=p,C>0){if(F===u)break;F+=A,C-=h}}return _}}class Ir{constructor(){this.decoder=new kg}decode(n,r=null){let s,a;if(r!=null&&r.has(Z.PURE_BARCODE)){const p=Ir.extractPureBits(n.getBlackMatrix());s=this.decoder.decode(p),a=Ir.NO_POINTS}else{const p=new ht(n.getBlackMatrix()).detect();s=this.decoder.decode(p.getBits()),a=p.getPoints()}const l=s.getRawBytes(),u=new nt(s.getText(),l,8*l.length,a,le.DATA_MATRIX,O.currentTimeMillis()),f=s.getByteSegments();f!=null&&u.putMetadata(vt.BYTE_SEGMENTS,f);const h=s.getECLevel();return h!=null&&u.putMetadata(vt.ERROR_CORRECTION_LEVEL,h),u}reset(){}static extractPureBits(n){const r=n.getTopLeftOnBit(),s=n.getBottomRightOnBit();if(r==null||s==null)throw new G;const a=this.moduleSize(r,n);let l=r[1];const u=s[1];let f=r[0];const p=(s[0]-f+1)/a,C=(u-l+1)/a;if(p<=0||C<=0)throw new G;const A=a/2;l+=A,f+=A;const I=new He(p,C);for(let _=0;_<C;_++){const D=l+_*a;for(let P=0;P<p;P++)n.get(f+P*a,D)&&I.set(P,_)}return I}static moduleSize(n,r){const s=r.getWidth();let a=n[0];const l=n[1];for(;a<s&&r.get(a,l);)a++;if(a===s)throw new G;const u=a-n[0];if(u===0)throw new G;return u}}Ir.NO_POINTS=[];class Lg extends We{constructor(n=500){super(new Ir,n)}}var Ti;(function(v){v[v.L=0]="L",v[v.M=1]="M",v[v.Q=2]="Q",v[v.H=3]="H"})(Ti||(Ti={}));class Ye{constructor(n,r,s){this.value=n,this.stringValue=r,this.bits=s,Ye.FOR_BITS.set(s,this),Ye.FOR_VALUE.set(n,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(n){switch(n){case"L":return Ye.L;case"M":return Ye.M;case"Q":return Ye.Q;case"H":return Ye.H;default:throw new E(n+"not available")}}toString(){return this.stringValue}equals(n){if(!(n instanceof Ye))return!1;const r=n;return this.value===r.value}static forBits(n){if(n<0||n>=Ye.FOR_BITS.size)throw new S;return Ye.FOR_BITS.get(n)}}Ye.FOR_BITS=new Map,Ye.FOR_VALUE=new Map,Ye.L=new Ye(Ti.L,"L",1),Ye.M=new Ye(Ti.M,"M",0),Ye.Q=new Ye(Ti.Q,"Q",3),Ye.H=new Ye(Ti.H,"H",2);class Bt{constructor(n){this.errorCorrectionLevel=Ye.forBits(n>>3&3),this.dataMask=n&7}static numBitsDiffering(n,r){return M.bitCount(n^r)}static decodeFormatInformation(n,r){const s=Bt.doDecodeFormatInformation(n,r);return s!==null?s:Bt.doDecodeFormatInformation(n^Bt.FORMAT_INFO_MASK_QR,r^Bt.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(n,r){let s=Number.MAX_SAFE_INTEGER,a=0;for(const l of Bt.FORMAT_INFO_DECODE_LOOKUP){const u=l[0];if(u===n||u===r)return new Bt(l[1]);let f=Bt.numBitsDiffering(n,u);f<s&&(a=l[1],s=f),n!==r&&(f=Bt.numBitsDiffering(r,u),f<s&&(a=l[1],s=f))}return s<=3?new Bt(a):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(n){if(!(n instanceof Bt))return!1;const r=n;return this.errorCorrectionLevel===r.errorCorrectionLevel&&this.dataMask===r.dataMask}}Bt.FORMAT_INFO_MASK_QR=21522,Bt.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class j{constructor(n,...r){this.ecCodewordsPerBlock=n,this.ecBlocks=r}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let n=0;const r=this.ecBlocks;for(const s of r)n+=s.getCount();return n}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class T{constructor(n,r){this.count=n,this.dataCodewords=r}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ue{constructor(n,r,...s){this.versionNumber=n,this.alignmentPatternCenters=r,this.ecBlocks=s;let a=0;const l=s[0].getECCodewordsPerBlock(),u=s[0].getECBlocks();for(const f of u)a+=f.getCount()*(f.getDataCodewords()+l);this.totalCodewords=a}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(n){return this.ecBlocks[n.getValue()]}static getProvisionalVersionForDimension(n){if(n%4!==1)throw new V;try{return this.getVersionForNumber((n-17)/4)}catch{throw new V}}static getVersionForNumber(n){if(n<1||n>40)throw new S;return ue.VERSIONS[n-1]}static decodeVersionInformation(n){let r=Number.MAX_SAFE_INTEGER,s=0;for(let a=0;a<ue.VERSION_DECODE_INFO.length;a++){const l=ue.VERSION_DECODE_INFO[a];if(l===n)return ue.getVersionForNumber(a+7);const u=Bt.numBitsDiffering(n,l);u<r&&(s=a+7,r=u)}return r<=3?ue.getVersionForNumber(s):null}buildFunctionPattern(){const n=this.getDimensionForVersion(),r=new He(n);r.setRegion(0,0,9,9),r.setRegion(n-8,0,8,9),r.setRegion(0,n-8,9,8);const s=this.alignmentPatternCenters.length;for(let a=0;a<s;a++){const l=this.alignmentPatternCenters[a]-2;for(let u=0;u<s;u++)a===0&&(u===0||u===s-1)||a===s-1&&u===0||r.setRegion(this.alignmentPatternCenters[u]-2,l,5,5)}return r.setRegion(6,9,1,n-17),r.setRegion(9,6,n-17,1),this.versionNumber>6&&(r.setRegion(n-11,0,3,6),r.setRegion(0,n-11,6,3)),r}toString(){return""+this.versionNumber}}ue.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),ue.VERSIONS=[new ue(1,new Int32Array(0),new j(7,new T(1,19)),new j(10,new T(1,16)),new j(13,new T(1,13)),new j(17,new T(1,9))),new ue(2,Int32Array.from([6,18]),new j(10,new T(1,34)),new j(16,new T(1,28)),new j(22,new T(1,22)),new j(28,new T(1,16))),new ue(3,Int32Array.from([6,22]),new j(15,new T(1,55)),new j(26,new T(1,44)),new j(18,new T(2,17)),new j(22,new T(2,13))),new ue(4,Int32Array.from([6,26]),new j(20,new T(1,80)),new j(18,new T(2,32)),new j(26,new T(2,24)),new j(16,new T(4,9))),new ue(5,Int32Array.from([6,30]),new j(26,new T(1,108)),new j(24,new T(2,43)),new j(18,new T(2,15),new T(2,16)),new j(22,new T(2,11),new T(2,12))),new ue(6,Int32Array.from([6,34]),new j(18,new T(2,68)),new j(16,new T(4,27)),new j(24,new T(4,19)),new j(28,new T(4,15))),new ue(7,Int32Array.from([6,22,38]),new j(20,new T(2,78)),new j(18,new T(4,31)),new j(18,new T(2,14),new T(4,15)),new j(26,new T(4,13),new T(1,14))),new ue(8,Int32Array.from([6,24,42]),new j(24,new T(2,97)),new j(22,new T(2,38),new T(2,39)),new j(22,new T(4,18),new T(2,19)),new j(26,new T(4,14),new T(2,15))),new ue(9,Int32Array.from([6,26,46]),new j(30,new T(2,116)),new j(22,new T(3,36),new T(2,37)),new j(20,new T(4,16),new T(4,17)),new j(24,new T(4,12),new T(4,13))),new ue(10,Int32Array.from([6,28,50]),new j(18,new T(2,68),new T(2,69)),new j(26,new T(4,43),new T(1,44)),new j(24,new T(6,19),new T(2,20)),new j(28,new T(6,15),new T(2,16))),new ue(11,Int32Array.from([6,30,54]),new j(20,new T(4,81)),new j(30,new T(1,50),new T(4,51)),new j(28,new T(4,22),new T(4,23)),new j(24,new T(3,12),new T(8,13))),new ue(12,Int32Array.from([6,32,58]),new j(24,new T(2,92),new T(2,93)),new j(22,new T(6,36),new T(2,37)),new j(26,new T(4,20),new T(6,21)),new j(28,new T(7,14),new T(4,15))),new ue(13,Int32Array.from([6,34,62]),new j(26,new T(4,107)),new j(22,new T(8,37),new T(1,38)),new j(24,new T(8,20),new T(4,21)),new j(22,new T(12,11),new T(4,12))),new ue(14,Int32Array.from([6,26,46,66]),new j(30,new T(3,115),new T(1,116)),new j(24,new T(4,40),new T(5,41)),new j(20,new T(11,16),new T(5,17)),new j(24,new T(11,12),new T(5,13))),new ue(15,Int32Array.from([6,26,48,70]),new j(22,new T(5,87),new T(1,88)),new j(24,new T(5,41),new T(5,42)),new j(30,new T(5,24),new T(7,25)),new j(24,new T(11,12),new T(7,13))),new ue(16,Int32Array.from([6,26,50,74]),new j(24,new T(5,98),new T(1,99)),new j(28,new T(7,45),new T(3,46)),new j(24,new T(15,19),new T(2,20)),new j(30,new T(3,15),new T(13,16))),new ue(17,Int32Array.from([6,30,54,78]),new j(28,new T(1,107),new T(5,108)),new j(28,new T(10,46),new T(1,47)),new j(28,new T(1,22),new T(15,23)),new j(28,new T(2,14),new T(17,15))),new ue(18,Int32Array.from([6,30,56,82]),new j(30,new T(5,120),new T(1,121)),new j(26,new T(9,43),new T(4,44)),new j(28,new T(17,22),new T(1,23)),new j(28,new T(2,14),new T(19,15))),new ue(19,Int32Array.from([6,30,58,86]),new j(28,new T(3,113),new T(4,114)),new j(26,new T(3,44),new T(11,45)),new j(26,new T(17,21),new T(4,22)),new j(26,new T(9,13),new T(16,14))),new ue(20,Int32Array.from([6,34,62,90]),new j(28,new T(3,107),new T(5,108)),new j(26,new T(3,41),new T(13,42)),new j(30,new T(15,24),new T(5,25)),new j(28,new T(15,15),new T(10,16))),new ue(21,Int32Array.from([6,28,50,72,94]),new j(28,new T(4,116),new T(4,117)),new j(26,new T(17,42)),new j(28,new T(17,22),new T(6,23)),new j(30,new T(19,16),new T(6,17))),new ue(22,Int32Array.from([6,26,50,74,98]),new j(28,new T(2,111),new T(7,112)),new j(28,new T(17,46)),new j(30,new T(7,24),new T(16,25)),new j(24,new T(34,13))),new ue(23,Int32Array.from([6,30,54,78,102]),new j(30,new T(4,121),new T(5,122)),new j(28,new T(4,47),new T(14,48)),new j(30,new T(11,24),new T(14,25)),new j(30,new T(16,15),new T(14,16))),new ue(24,Int32Array.from([6,28,54,80,106]),new j(30,new T(6,117),new T(4,118)),new j(28,new T(6,45),new T(14,46)),new j(30,new T(11,24),new T(16,25)),new j(30,new T(30,16),new T(2,17))),new ue(25,Int32Array.from([6,32,58,84,110]),new j(26,new T(8,106),new T(4,107)),new j(28,new T(8,47),new T(13,48)),new j(30,new T(7,24),new T(22,25)),new j(30,new T(22,15),new T(13,16))),new ue(26,Int32Array.from([6,30,58,86,114]),new j(28,new T(10,114),new T(2,115)),new j(28,new T(19,46),new T(4,47)),new j(28,new T(28,22),new T(6,23)),new j(30,new T(33,16),new T(4,17))),new ue(27,Int32Array.from([6,34,62,90,118]),new j(30,new T(8,122),new T(4,123)),new j(28,new T(22,45),new T(3,46)),new j(30,new T(8,23),new T(26,24)),new j(30,new T(12,15),new T(28,16))),new ue(28,Int32Array.from([6,26,50,74,98,122]),new j(30,new T(3,117),new T(10,118)),new j(28,new T(3,45),new T(23,46)),new j(30,new T(4,24),new T(31,25)),new j(30,new T(11,15),new T(31,16))),new ue(29,Int32Array.from([6,30,54,78,102,126]),new j(30,new T(7,116),new T(7,117)),new j(28,new T(21,45),new T(7,46)),new j(30,new T(1,23),new T(37,24)),new j(30,new T(19,15),new T(26,16))),new ue(30,Int32Array.from([6,26,52,78,104,130]),new j(30,new T(5,115),new T(10,116)),new j(28,new T(19,47),new T(10,48)),new j(30,new T(15,24),new T(25,25)),new j(30,new T(23,15),new T(25,16))),new ue(31,Int32Array.from([6,30,56,82,108,134]),new j(30,new T(13,115),new T(3,116)),new j(28,new T(2,46),new T(29,47)),new j(30,new T(42,24),new T(1,25)),new j(30,new T(23,15),new T(28,16))),new ue(32,Int32Array.from([6,34,60,86,112,138]),new j(30,new T(17,115)),new j(28,new T(10,46),new T(23,47)),new j(30,new T(10,24),new T(35,25)),new j(30,new T(19,15),new T(35,16))),new ue(33,Int32Array.from([6,30,58,86,114,142]),new j(30,new T(17,115),new T(1,116)),new j(28,new T(14,46),new T(21,47)),new j(30,new T(29,24),new T(19,25)),new j(30,new T(11,15),new T(46,16))),new ue(34,Int32Array.from([6,34,62,90,118,146]),new j(30,new T(13,115),new T(6,116)),new j(28,new T(14,46),new T(23,47)),new j(30,new T(44,24),new T(7,25)),new j(30,new T(59,16),new T(1,17))),new ue(35,Int32Array.from([6,30,54,78,102,126,150]),new j(30,new T(12,121),new T(7,122)),new j(28,new T(12,47),new T(26,48)),new j(30,new T(39,24),new T(14,25)),new j(30,new T(22,15),new T(41,16))),new ue(36,Int32Array.from([6,24,50,76,102,128,154]),new j(30,new T(6,121),new T(14,122)),new j(28,new T(6,47),new T(34,48)),new j(30,new T(46,24),new T(10,25)),new j(30,new T(2,15),new T(64,16))),new ue(37,Int32Array.from([6,28,54,80,106,132,158]),new j(30,new T(17,122),new T(4,123)),new j(28,new T(29,46),new T(14,47)),new j(30,new T(49,24),new T(10,25)),new j(30,new T(24,15),new T(46,16))),new ue(38,Int32Array.from([6,32,58,84,110,136,162]),new j(30,new T(4,122),new T(18,123)),new j(28,new T(13,46),new T(32,47)),new j(30,new T(48,24),new T(14,25)),new j(30,new T(42,15),new T(32,16))),new ue(39,Int32Array.from([6,26,54,82,110,138,166]),new j(30,new T(20,117),new T(4,118)),new j(28,new T(40,47),new T(7,48)),new j(30,new T(43,24),new T(22,25)),new j(30,new T(10,15),new T(67,16))),new ue(40,Int32Array.from([6,30,58,86,114,142,170]),new j(30,new T(19,118),new T(6,119)),new j(28,new T(18,47),new T(31,48)),new j(30,new T(34,24),new T(34,25)),new j(30,new T(20,15),new T(61,16)))];var At;(function(v){v[v.DATA_MASK_000=0]="DATA_MASK_000",v[v.DATA_MASK_001=1]="DATA_MASK_001",v[v.DATA_MASK_010=2]="DATA_MASK_010",v[v.DATA_MASK_011=3]="DATA_MASK_011",v[v.DATA_MASK_100=4]="DATA_MASK_100",v[v.DATA_MASK_101=5]="DATA_MASK_101",v[v.DATA_MASK_110=6]="DATA_MASK_110",v[v.DATA_MASK_111=7]="DATA_MASK_111"})(At||(At={}));class Cn{constructor(n,r){this.value=n,this.isMasked=r}unmaskBitMatrix(n,r){for(let s=0;s<r;s++)for(let a=0;a<r;a++)this.isMasked(s,a)&&n.flip(a,s)}}Cn.values=new Map([[At.DATA_MASK_000,new Cn(At.DATA_MASK_000,(v,n)=>(v+n&1)===0)],[At.DATA_MASK_001,new Cn(At.DATA_MASK_001,(v,n)=>(v&1)===0)],[At.DATA_MASK_010,new Cn(At.DATA_MASK_010,(v,n)=>n%3===0)],[At.DATA_MASK_011,new Cn(At.DATA_MASK_011,(v,n)=>(v+n)%3===0)],[At.DATA_MASK_100,new Cn(At.DATA_MASK_100,(v,n)=>(Math.floor(v/2)+Math.floor(n/3)&1)===0)],[At.DATA_MASK_101,new Cn(At.DATA_MASK_101,(v,n)=>v*n%6===0)],[At.DATA_MASK_110,new Cn(At.DATA_MASK_110,(v,n)=>v*n%6<3)],[At.DATA_MASK_111,new Cn(At.DATA_MASK_111,(v,n)=>(v+n+v*n%3&1)===0)]]);class Pg{constructor(n){const r=n.getHeight();if(r<21||(r&3)!==1)throw new V;this.bitMatrix=n}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let n=0;for(let l=0;l<6;l++)n=this.copyBit(l,8,n);n=this.copyBit(7,8,n),n=this.copyBit(8,8,n),n=this.copyBit(8,7,n);for(let l=5;l>=0;l--)n=this.copyBit(8,l,n);const r=this.bitMatrix.getHeight();let s=0;const a=r-7;for(let l=r-1;l>=a;l--)s=this.copyBit(8,l,s);for(let l=r-8;l<r;l++)s=this.copyBit(l,8,s);if(this.parsedFormatInfo=Bt.decodeFormatInformation(n,s),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new V}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const n=this.bitMatrix.getHeight(),r=Math.floor((n-17)/4);if(r<=6)return ue.getVersionForNumber(r);let s=0;const a=n-11;for(let u=5;u>=0;u--)for(let f=n-9;f>=a;f--)s=this.copyBit(f,u,s);let l=ue.decodeVersionInformation(s);if(l!==null&&l.getDimensionForVersion()===n)return this.parsedVersion=l,l;s=0;for(let u=5;u>=0;u--)for(let f=n-9;f>=a;f--)s=this.copyBit(u,f,s);if(l=ue.decodeVersionInformation(s),l!==null&&l.getDimensionForVersion()===n)return this.parsedVersion=l,l;throw new V}copyBit(n,r,s){return(this.isMirror?this.bitMatrix.get(r,n):this.bitMatrix.get(n,r))?s<<1|1:s<<1}readCodewords(){const n=this.readFormatInformation(),r=this.readVersion(),s=Cn.values.get(n.getDataMask()),a=this.bitMatrix.getHeight();s.unmaskBitMatrix(this.bitMatrix,a);const l=r.buildFunctionPattern();let u=!0;const f=new Uint8Array(r.getTotalCodewords());let h=0,p=0,C=0;for(let A=a-1;A>0;A-=2){A===6&&A--;for(let I=0;I<a;I++){const _=u?a-1-I:I;for(let D=0;D<2;D++)l.get(A-D,_)||(C++,p<<=1,this.bitMatrix.get(A-D,_)&&(p|=1),C===8&&(f[h++]=p,C=0,p=0))}u=!u}if(h!==r.getTotalCodewords())throw new V;return f}remask(){if(this.parsedFormatInfo===null)return;const n=Cn.values[this.parsedFormatInfo.getDataMask()],r=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,r)}setMirror(n){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=n}mirror(){const n=this.bitMatrix;for(let r=0,s=n.getWidth();r<s;r++)for(let a=r+1,l=n.getHeight();a<l;a++)n.get(r,a)!==n.get(a,r)&&(n.flip(a,r),n.flip(r,a))}}class Cl{constructor(n,r){this.numDataCodewords=n,this.codewords=r}static getDataBlocks(n,r,s){if(n.length!==r.getTotalCodewords())throw new S;const a=r.getECBlocksForLevel(s);let l=0;const u=a.getECBlocks();for(const D of u)l+=D.getCount();const f=new Array(l);let h=0;for(const D of u)for(let P=0;P<D.getCount();P++){const F=D.getDataCodewords(),W=a.getECCodewordsPerBlock()+F;f[h++]=new Cl(F,new Uint8Array(W))}const p=f[0].codewords.length;let C=f.length-1;for(;C>=0&&f[C].codewords.length!==p;)C--;C++;const A=p-a.getECCodewordsPerBlock();let I=0;for(let D=0;D<A;D++)for(let P=0;P<h;P++)f[P].codewords[D]=n[I++];for(let D=C;D<h;D++)f[D].codewords[A]=n[I++];const _=f[0].codewords.length;for(let D=A;D<_;D++)for(let P=0;P<h;P++){const F=P<C?D:D+1;f[P].codewords[F]=n[I++]}return f}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var En;(function(v){v[v.TERMINATOR=0]="TERMINATOR",v[v.NUMERIC=1]="NUMERIC",v[v.ALPHANUMERIC=2]="ALPHANUMERIC",v[v.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",v[v.BYTE=4]="BYTE",v[v.ECI=5]="ECI",v[v.KANJI=6]="KANJI",v[v.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",v[v.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",v[v.HANZI=9]="HANZI"})(En||(En={}));class fe{constructor(n,r,s,a){this.value=n,this.stringValue=r,this.characterCountBitsForVersions=s,this.bits=a,fe.FOR_BITS.set(a,this),fe.FOR_VALUE.set(n,this)}static forBits(n){const r=fe.FOR_BITS.get(n);if(r===void 0)throw new S;return r}getCharacterCountBits(n){const r=n.getVersionNumber();let s;return r<=9?s=0:r<=26?s=1:s=2,this.characterCountBitsForVersions[s]}getValue(){return this.value}getBits(){return this.bits}equals(n){if(!(n instanceof fe))return!1;const r=n;return this.value===r.value}toString(){return this.stringValue}}fe.FOR_BITS=new Map,fe.FOR_VALUE=new Map,fe.TERMINATOR=new fe(En.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),fe.NUMERIC=new fe(En.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),fe.ALPHANUMERIC=new fe(En.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),fe.STRUCTURED_APPEND=new fe(En.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),fe.BYTE=new fe(En.BYTE,"BYTE",Int32Array.from([8,16,16]),4),fe.ECI=new fe(En.ECI,"ECI",Int32Array.from([0,0,0]),7),fe.KANJI=new fe(En.KANJI,"KANJI",Int32Array.from([8,10,12]),8),fe.FNC1_FIRST_POSITION=new fe(En.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),fe.FNC1_SECOND_POSITION=new fe(En.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),fe.HANZI=new fe(En.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class rt{static decode(n,r,s,a){const l=new yl(n);let u=new ve;const f=new Array;let h=-1,p=-1;try{let C=null,A=!1,I;do{if(l.available()<4)I=fe.TERMINATOR;else{const _=l.readBits(4);I=fe.forBits(_)}switch(I){case fe.TERMINATOR:break;case fe.FNC1_FIRST_POSITION:case fe.FNC1_SECOND_POSITION:A=!0;break;case fe.STRUCTURED_APPEND:if(l.available()<16)throw new V;h=l.readBits(8),p=l.readBits(8);break;case fe.ECI:const _=rt.parseECIValue(l);if(C=Y.getCharacterSetECIByValue(_),C===null)throw new V;break;case fe.HANZI:const D=l.readBits(4),P=l.readBits(I.getCharacterCountBits(r));D===rt.GB2312_SUBSET&&rt.decodeHanziSegment(l,u,P);break;default:const F=l.readBits(I.getCharacterCountBits(r));switch(I){case fe.NUMERIC:rt.decodeNumericSegment(l,u,F);break;case fe.ALPHANUMERIC:rt.decodeAlphanumericSegment(l,u,F,A);break;case fe.BYTE:rt.decodeByteSegment(l,u,F,C,f,a);break;case fe.KANJI:rt.decodeKanjiSegment(l,u,F);break;default:throw new V}break}}while(I!==fe.TERMINATOR)}catch{throw new V}return new ms(n,u.toString(),f.length===0?null:f,s===null?null:s.toString(),h,p)}static decodeHanziSegment(n,r,s){if(s*13>n.available())throw new V;const a=new Uint8Array(2*s);let l=0;for(;s>0;){const u=n.readBits(13);let f=u/96<<8&4294967295|u%96;f<959?f+=41377:f+=42657,a[l]=f>>8&255,a[l+1]=f&255,l+=2,s--}try{r.append(Te.decode(a,ne.GB2312))}catch(u){throw new V(u)}}static decodeKanjiSegment(n,r,s){if(s*13>n.available())throw new V;const a=new Uint8Array(2*s);let l=0;for(;s>0;){const u=n.readBits(13);let f=u/192<<8&4294967295|u%192;f<7936?f+=33088:f+=49472,a[l]=f>>8,a[l+1]=f,l+=2,s--}try{r.append(Te.decode(a,ne.SHIFT_JIS))}catch(u){throw new V(u)}}static decodeByteSegment(n,r,s,a,l,u){if(8*s>n.available())throw new V;const f=new Uint8Array(s);for(let p=0;p<s;p++)f[p]=n.readBits(8);let h;a===null?h=ne.guessEncoding(f,u):h=a.getName();try{r.append(Te.decode(f,h))}catch(p){throw new V(p)}l.push(f)}static toAlphaNumericChar(n){if(n>=rt.ALPHANUMERIC_CHARS.length)throw new V;return rt.ALPHANUMERIC_CHARS[n]}static decodeAlphanumericSegment(n,r,s,a){const l=r.length();for(;s>1;){if(n.available()<11)throw new V;const u=n.readBits(11);r.append(rt.toAlphaNumericChar(Math.floor(u/45))),r.append(rt.toAlphaNumericChar(u%45)),s-=2}if(s===1){if(n.available()<6)throw new V;r.append(rt.toAlphaNumericChar(n.readBits(6)))}if(a)for(let u=l;u<r.length();u++)r.charAt(u)==="%"&&(u<r.length()-1&&r.charAt(u+1)==="%"?r.deleteCharAt(u+1):r.setCharAt(u,String.fromCharCode(29)))}static decodeNumericSegment(n,r,s){for(;s>=3;){if(n.available()<10)throw new V;const a=n.readBits(10);if(a>=1e3)throw new V;r.append(rt.toAlphaNumericChar(Math.floor(a/100))),r.append(rt.toAlphaNumericChar(Math.floor(a/10)%10)),r.append(rt.toAlphaNumericChar(a%10)),s-=3}if(s===2){if(n.available()<7)throw new V;const a=n.readBits(7);if(a>=100)throw new V;r.append(rt.toAlphaNumericChar(Math.floor(a/10))),r.append(rt.toAlphaNumericChar(a%10))}else if(s===1){if(n.available()<4)throw new V;const a=n.readBits(4);if(a>=10)throw new V;r.append(rt.toAlphaNumericChar(a))}}static parseECIValue(n){const r=n.readBits(8);if(!(r&128))return r&127;if((r&192)===128){const s=n.readBits(8);return(r&63)<<8&4294967295|s}if((r&224)===192){const s=n.readBits(16);return(r&31)<<16&4294967295|s}throw new V}}rt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",rt.GB2312_SUBSET=1;class vd{constructor(n){this.mirrored=n}isMirrored(){return this.mirrored}applyMirroredCorrection(n){if(!this.mirrored||n===null||n.length<3)return;const r=n[0];n[0]=n[2],n[2]=r}}class Bg{constructor(){this.rsDecoder=new ws(Re.QR_CODE_FIELD_256)}decodeBooleanArray(n,r){return this.decodeBitMatrix(He.parseFromBooleanArray(n),r)}decodeBitMatrix(n,r){const s=new Pg(n);let a=null;try{return this.decodeBitMatrixParser(s,r)}catch(l){a=l}try{s.remask(),s.setMirror(!0),s.readVersion(),s.readFormatInformation(),s.mirror();const l=this.decodeBitMatrixParser(s,r);return l.setOther(new vd(!0)),l}catch(l){throw a!==null?a:l}}decodeBitMatrixParser(n,r){const s=n.readVersion(),a=n.readFormatInformation().getErrorCorrectionLevel(),l=n.readCodewords(),u=Cl.getDataBlocks(l,s,a);let f=0;for(const C of u)f+=C.getNumDataCodewords();const h=new Uint8Array(f);let p=0;for(const C of u){const A=C.getCodewords(),I=C.getNumDataCodewords();this.correctErrors(A,I);for(let _=0;_<I;_++)h[p++]=A[_]}return rt.decode(h,s,a,r)}correctErrors(n,r){const s=new Int32Array(n);try{this.rsDecoder.decode(s,n.length-r)}catch{throw new k}for(let a=0;a<r;a++)n[a]=s[a]}}class El extends ae{constructor(n,r,s){super(n,r),this.estimatedModuleSize=s}aboutEquals(n,r,s){if(Math.abs(r-this.getY())<=n&&Math.abs(s-this.getX())<=n){const a=Math.abs(n-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1}combineEstimate(n,r,s){const a=(this.getX()+r)/2,l=(this.getY()+n)/2,u=(this.estimatedModuleSize+s)/2;return new El(a,l,u)}}class ko{constructor(n,r,s,a,l,u,f){this.image=n,this.startX=r,this.startY=s,this.width=a,this.height=l,this.moduleSize=u,this.resultPointCallback=f,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const n=this.startX,r=this.height,s=this.width,a=n+s,l=this.startY+r/2,u=new Int32Array(3),f=this.image;for(let h=0;h<r;h++){const p=l+(h&1?-Math.floor((h+1)/2):Math.floor((h+1)/2));u[0]=0,u[1]=0,u[2]=0;let C=n;for(;C<a&&!f.get(C,p);)C++;let A=0;for(;C<a;){if(f.get(C,p))if(A===1)u[1]++;else if(A===2){if(this.foundPatternCross(u)){const I=this.handlePossibleCenter(u,p,C);if(I!==null)return I}u[0]=u[2],u[1]=1,u[2]=0,A=1}else u[++A]++;else A===1&&A++,u[A]++;C++}if(this.foundPatternCross(u)){const I=this.handlePossibleCenter(u,p,a);if(I!==null)return I}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new G}static centerFromEnd(n,r){return r-n[2]-n[1]/2}foundPatternCross(n){const r=this.moduleSize,s=r/2;for(let a=0;a<3;a++)if(Math.abs(r-n[a])>=s)return!1;return!0}crossCheckVertical(n,r,s,a){const l=this.image,u=l.getHeight(),f=this.crossCheckStateCount;f[0]=0,f[1]=0,f[2]=0;let h=n;for(;h>=0&&l.get(r,h)&&f[1]<=s;)f[1]++,h--;if(h<0||f[1]>s)return NaN;for(;h>=0&&!l.get(r,h)&&f[0]<=s;)f[0]++,h--;if(f[0]>s)return NaN;for(h=n+1;h<u&&l.get(r,h)&&f[1]<=s;)f[1]++,h++;if(h===u||f[1]>s)return NaN;for(;h<u&&!l.get(r,h)&&f[2]<=s;)f[2]++,h++;if(f[2]>s)return NaN;const p=f[0]+f[1]+f[2];return 5*Math.abs(p-a)>=2*a?NaN:this.foundPatternCross(f)?ko.centerFromEnd(f,h):NaN}handlePossibleCenter(n,r,s){const a=n[0]+n[1]+n[2],l=ko.centerFromEnd(n,s),u=this.crossCheckVertical(r,l,2*n[1],a);if(!isNaN(u)){const f=(n[0]+n[1]+n[2])/3;for(const p of this.possibleCenters)if(p.aboutEquals(f,u,l))return p.combineEstimate(u,l,f);const h=new El(l,u,f);this.possibleCenters.push(h),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(h)}return null}}class vl extends ae{constructor(n,r,s,a){super(n,r),this.estimatedModuleSize=s,this.count=a,a===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(n,r,s){if(Math.abs(r-this.getY())<=n&&Math.abs(s-this.getX())<=n){const a=Math.abs(n-this.estimatedModuleSize);return a<=1||a<=this.estimatedModuleSize}return!1}combineEstimate(n,r,s){const a=this.count+1,l=(this.count*this.getX()+r)/a,u=(this.count*this.getY()+n)/a,f=(this.count*this.estimatedModuleSize+s)/a;return new vl(l,u,f,a)}}class Fg{constructor(n){this.bottomLeft=n[0],this.topLeft=n[1],this.topRight=n[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class St{constructor(n,r){this.image=n,this.resultPointCallback=r,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=r}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(n){const r=n!=null&&n.get(Z.TRY_HARDER)!==void 0,s=n!=null&&n.get(Z.PURE_BARCODE)!==void 0,a=this.image,l=a.getHeight(),u=a.getWidth();let f=Math.floor(3*l/(4*St.MAX_MODULES));(f<St.MIN_SKIP||r)&&(f=St.MIN_SKIP);let h=!1;const p=new Int32Array(5);for(let A=f-1;A<l&&!h;A+=f){p[0]=0,p[1]=0,p[2]=0,p[3]=0,p[4]=0;let I=0;for(let _=0;_<u;_++)if(a.get(_,A))(I&1)===1&&I++,p[I]++;else if(I&1)p[I]++;else if(I===4)if(St.foundPatternCross(p)){if(this.handlePossibleCenter(p,A,_,s)===!0)if(f=2,this.hasSkipped===!0)h=this.haveMultiplyConfirmedCenters();else{const P=this.findRowSkip();P>p[2]&&(A+=P-p[2]-f,_=u-1)}else{p[0]=p[2],p[1]=p[3],p[2]=p[4],p[3]=1,p[4]=0,I=3;continue}I=0,p[0]=0,p[1]=0,p[2]=0,p[3]=0,p[4]=0}else p[0]=p[2],p[1]=p[3],p[2]=p[4],p[3]=1,p[4]=0,I=3;else p[++I]++;St.foundPatternCross(p)&&this.handlePossibleCenter(p,A,u,s)===!0&&(f=p[0],this.hasSkipped&&(h=this.haveMultiplyConfirmedCenters()))}const C=this.selectBestPatterns();return ae.orderBestPatterns(C),new Fg(C)}static centerFromEnd(n,r){return r-n[4]-n[3]-n[2]/2}static foundPatternCross(n){let r=0;for(let l=0;l<5;l++){const u=n[l];if(u===0)return!1;r+=u}if(r<7)return!1;const s=r/7,a=s/2;return Math.abs(s-n[0])<a&&Math.abs(s-n[1])<a&&Math.abs(3*s-n[2])<3*a&&Math.abs(s-n[3])<a&&Math.abs(s-n[4])<a}getCrossCheckStateCount(){const n=this.crossCheckStateCount;return n[0]=0,n[1]=0,n[2]=0,n[3]=0,n[4]=0,n}crossCheckDiagonal(n,r,s,a){const l=this.getCrossCheckStateCount();let u=0;const f=this.image;for(;n>=u&&r>=u&&f.get(r-u,n-u);)l[2]++,u++;if(n<u||r<u)return!1;for(;n>=u&&r>=u&&!f.get(r-u,n-u)&&l[1]<=s;)l[1]++,u++;if(n<u||r<u||l[1]>s)return!1;for(;n>=u&&r>=u&&f.get(r-u,n-u)&&l[0]<=s;)l[0]++,u++;if(l[0]>s)return!1;const h=f.getHeight(),p=f.getWidth();for(u=1;n+u<h&&r+u<p&&f.get(r+u,n+u);)l[2]++,u++;if(n+u>=h||r+u>=p)return!1;for(;n+u<h&&r+u<p&&!f.get(r+u,n+u)&&l[3]<s;)l[3]++,u++;if(n+u>=h||r+u>=p||l[3]>=s)return!1;for(;n+u<h&&r+u<p&&f.get(r+u,n+u)&&l[4]<s;)l[4]++,u++;if(l[4]>=s)return!1;const C=l[0]+l[1]+l[2]+l[3]+l[4];return Math.abs(C-a)<2*a&&St.foundPatternCross(l)}crossCheckVertical(n,r,s,a){const l=this.image,u=l.getHeight(),f=this.getCrossCheckStateCount();let h=n;for(;h>=0&&l.get(r,h);)f[2]++,h--;if(h<0)return NaN;for(;h>=0&&!l.get(r,h)&&f[1]<=s;)f[1]++,h--;if(h<0||f[1]>s)return NaN;for(;h>=0&&l.get(r,h)&&f[0]<=s;)f[0]++,h--;if(f[0]>s)return NaN;for(h=n+1;h<u&&l.get(r,h);)f[2]++,h++;if(h===u)return NaN;for(;h<u&&!l.get(r,h)&&f[3]<s;)f[3]++,h++;if(h===u||f[3]>=s)return NaN;for(;h<u&&l.get(r,h)&&f[4]<s;)f[4]++,h++;if(f[4]>=s)return NaN;const p=f[0]+f[1]+f[2]+f[3]+f[4];return 5*Math.abs(p-a)>=2*a?NaN:St.foundPatternCross(f)?St.centerFromEnd(f,h):NaN}crossCheckHorizontal(n,r,s,a){const l=this.image,u=l.getWidth(),f=this.getCrossCheckStateCount();let h=n;for(;h>=0&&l.get(h,r);)f[2]++,h--;if(h<0)return NaN;for(;h>=0&&!l.get(h,r)&&f[1]<=s;)f[1]++,h--;if(h<0||f[1]>s)return NaN;for(;h>=0&&l.get(h,r)&&f[0]<=s;)f[0]++,h--;if(f[0]>s)return NaN;for(h=n+1;h<u&&l.get(h,r);)f[2]++,h++;if(h===u)return NaN;for(;h<u&&!l.get(h,r)&&f[3]<s;)f[3]++,h++;if(h===u||f[3]>=s)return NaN;for(;h<u&&l.get(h,r)&&f[4]<s;)f[4]++,h++;if(f[4]>=s)return NaN;const p=f[0]+f[1]+f[2]+f[3]+f[4];return 5*Math.abs(p-a)>=a?NaN:St.foundPatternCross(f)?St.centerFromEnd(f,h):NaN}handlePossibleCenter(n,r,s,a){const l=n[0]+n[1]+n[2]+n[3]+n[4];let u=St.centerFromEnd(n,s),f=this.crossCheckVertical(r,Math.floor(u),n[2],l);if(!isNaN(f)&&(u=this.crossCheckHorizontal(Math.floor(u),Math.floor(f),n[2],l),!isNaN(u)&&(!a||this.crossCheckDiagonal(Math.floor(f),Math.floor(u),n[2],l)))){const h=l/7;let p=!1;const C=this.possibleCenters;for(let A=0,I=C.length;A<I;A++){const _=C[A];if(_.aboutEquals(h,f,u)){C[A]=_.combineEstimate(f,u,h),p=!0;break}}if(!p){const A=new vl(u,f,h);C.push(A),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(A)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let r=null;for(const s of this.possibleCenters)if(s.getCount()>=St.CENTER_QUORUM)if(r==null)r=s;else return this.hasSkipped=!0,Math.floor((Math.abs(r.getX()-s.getX())-Math.abs(r.getY()-s.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let n=0,r=0;const s=this.possibleCenters.length;for(const u of this.possibleCenters)u.getCount()>=St.CENTER_QUORUM&&(n++,r+=u.getEstimatedModuleSize());if(n<3)return!1;const a=r/s;let l=0;for(const u of this.possibleCenters)l+=Math.abs(u.getEstimatedModuleSize()-a);return l<=.05*r}selectBestPatterns(){const n=this.possibleCenters.length;if(n<3)throw new G;const r=this.possibleCenters;let s;if(n>3){let a=0,l=0;for(const h of this.possibleCenters){const p=h.getEstimatedModuleSize();a+=p,l+=p*p}s=a/n;let u=Math.sqrt(l/n-s*s);r.sort((h,p)=>{const C=Math.abs(p.getEstimatedModuleSize()-s),A=Math.abs(h.getEstimatedModuleSize()-s);return C<A?-1:C>A?1:0});const f=Math.max(.2*s,u);for(let h=0;h<r.length&&r.length>3;h++){const p=r[h];Math.abs(p.getEstimatedModuleSize()-s)>f&&(r.splice(h,1),h--)}}if(r.length>3){let a=0;for(const l of r)a+=l.getEstimatedModuleSize();s=a/r.length,r.sort((l,u)=>{if(u.getCount()===l.getCount()){const f=Math.abs(u.getEstimatedModuleSize()-s),h=Math.abs(l.getEstimatedModuleSize()-s);return f<h?1:f>h?-1:0}else return u.getCount()-l.getCount()}),r.splice(3)}return[r[0],r[1],r[2]]}}St.CENTER_QUORUM=2,St.MIN_SKIP=3,St.MAX_MODULES=57;class Cs{constructor(n){this.image=n}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(n){this.resultPointCallback=n==null?null:n.get(Z.NEED_RESULT_POINT_CALLBACK);const s=new St(this.image,this.resultPointCallback).find(n);return this.processFinderPatternInfo(s)}processFinderPatternInfo(n){const r=n.getTopLeft(),s=n.getTopRight(),a=n.getBottomLeft(),l=this.calculateModuleSize(r,s,a);if(l<1)throw new G("No pattern found in proccess finder.");const u=Cs.computeDimension(r,s,a,l),f=ue.getProvisionalVersionForDimension(u),h=f.getDimensionForVersion()-7;let p=null;if(f.getAlignmentPatternCenters().length>0){const _=s.getX()-r.getX()+a.getX(),D=s.getY()-r.getY()+a.getY(),P=1-3/h,F=Math.floor(r.getX()+P*(_-r.getX())),W=Math.floor(r.getY()+P*(D-r.getY()));for(let q=4;q<=16;q<<=1)try{p=this.findAlignmentInRegion(l,F,W,q);break}catch(ee){if(!(ee instanceof G))throw ee}}const C=Cs.createTransform(r,s,a,p,u),A=Cs.sampleGrid(this.image,C,u);let I;return p===null?I=[a,r,s]:I=[a,r,s,p],new _o(A,I)}static createTransform(n,r,s,a,l){const u=l-3.5;let f,h,p,C;return a!==null?(f=a.getX(),h=a.getY(),p=u-3,C=p):(f=r.getX()-n.getX()+s.getX(),h=r.getY()-n.getY()+s.getY(),p=u,C=u),On.quadrilateralToQuadrilateral(3.5,3.5,u,3.5,p,C,3.5,u,n.getX(),n.getY(),r.getX(),r.getY(),f,h,s.getX(),s.getY())}static sampleGrid(n,r,s){return vr.getInstance().sampleGridWithTransform(n,s,s,r)}static computeDimension(n,r,s,a){const l=be.round(ae.distance(n,r)/a),u=be.round(ae.distance(n,s)/a);let f=Math.floor((l+u)/2)+7;switch(f&3){case 0:f++;break;case 2:f--;break;case 3:throw new G("Dimensions could be not found.")}return f}calculateModuleSize(n,r,s){return(this.calculateModuleSizeOneWay(n,r)+this.calculateModuleSizeOneWay(n,s))/2}calculateModuleSizeOneWay(n,r){const s=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(n.getX()),Math.floor(n.getY()),Math.floor(r.getX()),Math.floor(r.getY())),a=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(n.getX()),Math.floor(n.getY()));return isNaN(s)?a/7:isNaN(a)?s/7:(s+a)/14}sizeOfBlackWhiteBlackRunBothWays(n,r,s,a){let l=this.sizeOfBlackWhiteBlackRun(n,r,s,a),u=1,f=n-(s-n);f<0?(u=n/(n-f),f=0):f>=this.image.getWidth()&&(u=(this.image.getWidth()-1-n)/(f-n),f=this.image.getWidth()-1);let h=Math.floor(r-(a-r)*u);return u=1,h<0?(u=r/(r-h),h=0):h>=this.image.getHeight()&&(u=(this.image.getHeight()-1-r)/(h-r),h=this.image.getHeight()-1),f=Math.floor(n+(f-n)*u),l+=this.sizeOfBlackWhiteBlackRun(n,r,f,h),l-1}sizeOfBlackWhiteBlackRun(n,r,s,a){const l=Math.abs(a-r)>Math.abs(s-n);if(l){let _=n;n=r,r=_,_=s,s=a,a=_}const u=Math.abs(s-n),f=Math.abs(a-r);let h=-u/2;const p=n<s?1:-1,C=r<a?1:-1;let A=0;const I=s+p;for(let _=n,D=r;_!==I;_+=p){const P=l?D:_,F=l?_:D;if(A===1===this.image.get(P,F)){if(A===2)return be.distance(_,D,n,r);A++}if(h+=f,h>0){if(D===a)break;D+=C,h-=u}}return A===2?be.distance(s+p,a,n,r):NaN}findAlignmentInRegion(n,r,s,a){const l=Math.floor(a*n),u=Math.max(0,r-l),f=Math.min(this.image.getWidth()-1,r+l);if(f-u<n*3)throw new G("Alignment top exceeds estimated module size.");const h=Math.max(0,s-l),p=Math.min(this.image.getHeight()-1,s+l);if(p-h<n*3)throw new G("Alignment bottom exceeds estimated module size.");return new ko(this.image,u,h,f-u,p-h,n,this.resultPointCallback).find()}}class Nr{constructor(){this.decoder=new Bg}getDecoder(){return this.decoder}decode(n,r){let s,a;if(r!=null&&r.get(Z.PURE_BARCODE)!==void 0){const h=Nr.extractPureBits(n.getBlackMatrix());s=this.decoder.decodeBitMatrix(h,r),a=Nr.NO_POINTS}else{const h=new Cs(n.getBlackMatrix()).detect(r);s=this.decoder.decodeBitMatrix(h.getBits(),r),a=h.getPoints()}s.getOther()instanceof vd&&s.getOther().applyMirroredCorrection(a);const l=new nt(s.getText(),s.getRawBytes(),void 0,a,le.QR_CODE,void 0),u=s.getByteSegments();u!==null&&l.putMetadata(vt.BYTE_SEGMENTS,u);const f=s.getECLevel();return f!==null&&l.putMetadata(vt.ERROR_CORRECTION_LEVEL,f),s.hasStructuredAppend()&&(l.putMetadata(vt.STRUCTURED_APPEND_SEQUENCE,s.getStructuredAppendSequenceNumber()),l.putMetadata(vt.STRUCTURED_APPEND_PARITY,s.getStructuredAppendParity())),l}reset(){}static extractPureBits(n){const r=n.getTopLeftOnBit(),s=n.getBottomRightOnBit();if(r===null||s===null)throw new G;const a=this.moduleSize(r,n);let l=r[1],u=s[1],f=r[0],h=s[0];if(f>=h||l>=u)throw new G;if(u-l!==h-f&&(h=f+(u-l),h>=n.getWidth()))throw new G;const p=Math.round((h-f+1)/a),C=Math.round((u-l+1)/a);if(p<=0||C<=0)throw new G;if(C!==p)throw new G;const A=Math.floor(a/2);l+=A,f+=A;const I=f+Math.floor((p-1)*a)-h;if(I>0){if(I>A)throw new G;f-=I}const _=l+Math.floor((C-1)*a)-u;if(_>0){if(_>A)throw new G;l-=_}const D=new He(p,C);for(let P=0;P<C;P++){const F=l+Math.floor(P*a);for(let W=0;W<p;W++)n.get(f+Math.floor(W*a),F)&&D.set(W,P)}return D}static moduleSize(n,r){const s=r.getHeight(),a=r.getWidth();let l=n[0],u=n[1],f=!0,h=0;for(;l<a&&u<s;){if(f!==r.get(l,u)){if(++h===5)break;f=!f}l++,u++}if(l===a||u===s)throw new G;return(l-n[0])/7}}Nr.NO_POINTS=new Array;class pe{PDF417Common(){}static getBitCountSum(n){return be.sum(n)}static toIntArray(n){if(n==null||!n.length)return pe.EMPTY_INT_ARRAY;const r=new Int32Array(n.length);let s=0;for(const a of n)r[s++]=a;return r}static getCodeword(n){const r=b.binarySearch(pe.SYMBOL_TABLE,n&262143);return r<0?-1:(pe.CODEWORD_TABLE[r]-1)%pe.NUMBER_OF_CODEWORDS}}pe.NUMBER_OF_CODEWORDS=929,pe.MAX_CODEWORDS_IN_BARCODE=pe.NUMBER_OF_CODEWORDS-1,pe.MIN_ROWS_IN_BARCODE=3,pe.MAX_ROWS_IN_BARCODE=90,pe.MODULES_IN_CODEWORD=17,pe.MODULES_IN_STOP_PATTERN=18,pe.BARS_IN_MODULE=8,pe.EMPTY_INT_ARRAY=new Int32Array([]),pe.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),pe.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class jg{constructor(n,r){this.bits=n,this.points=r}getBits(){return this.bits}getPoints(){return this.points}}class we{static detectMultiple(n,r,s){let a=n.getBlackMatrix(),l=we.detect(s,a);return l.length||(a=a.clone(),a.rotate180(),l=we.detect(s,a)),new jg(a,l)}static detect(n,r){const s=new Array;let a=0,l=0,u=!1;for(;a<r.getHeight();){const f=we.findVertices(r,a,l);if(f[0]==null&&f[3]==null){if(!u)break;u=!1,l=0;for(const h of s)h[1]!=null&&(a=Math.trunc(Math.max(a,h[1].getY()))),h[3]!=null&&(a=Math.max(a,Math.trunc(h[3].getY())));a+=we.ROW_STEP;continue}if(u=!0,s.push(f),!n)break;f[2]!=null?(l=Math.trunc(f[2].getX()),a=Math.trunc(f[2].getY())):(l=Math.trunc(f[4].getX()),a=Math.trunc(f[4].getY()))}return s}static findVertices(n,r,s){const a=n.getHeight(),l=n.getWidth(),u=new Array(8);return we.copyToResult(u,we.findRowsWithPattern(n,a,l,r,s,we.START_PATTERN),we.INDEXES_START_PATTERN),u[4]!=null&&(s=Math.trunc(u[4].getX()),r=Math.trunc(u[4].getY())),we.copyToResult(u,we.findRowsWithPattern(n,a,l,r,s,we.STOP_PATTERN),we.INDEXES_STOP_PATTERN),u}static copyToResult(n,r,s){for(let a=0;a<s.length;a++)n[s[a]]=r[a]}static findRowsWithPattern(n,r,s,a,l,u){const f=new Array(4);let h=!1;const p=new Int32Array(u.length);for(;a<r;a+=we.ROW_STEP){let A=we.findGuardPattern(n,l,a,s,!1,u,p);if(A!=null){for(;a>0;){const I=we.findGuardPattern(n,l,--a,s,!1,u,p);if(I!=null)A=I;else{a++;break}}f[0]=new ae(A[0],a),f[1]=new ae(A[1],a),h=!0;break}}let C=a+1;if(h){let A=0,I=Int32Array.from([Math.trunc(f[0].getX()),Math.trunc(f[1].getX())]);for(;C<r;C++){const _=we.findGuardPattern(n,I[0],C,s,!1,u,p);if(_!=null&&Math.abs(I[0]-_[0])<we.MAX_PATTERN_DRIFT&&Math.abs(I[1]-_[1])<we.MAX_PATTERN_DRIFT)I=_,A=0;else{if(A>we.SKIPPED_ROW_COUNT_MAX)break;A++}}C-=A+1,f[2]=new ae(I[0],C),f[3]=new ae(I[1],C)}return C-a<we.BARCODE_MIN_HEIGHT&&b.fill(f,null),f}static findGuardPattern(n,r,s,a,l,u,f){b.fillWithin(f,0,f.length,0);let h=r,p=0;for(;n.get(h,s)&&h>0&&p++<we.MAX_PIXEL_DRIFT;)h--;let C=h,A=0,I=u.length;for(let _=l;C<a;C++)if(n.get(C,s)!==_)f[A]++;else{if(A===I-1){if(we.patternMatchVariance(f,u,we.MAX_INDIVIDUAL_VARIANCE)<we.MAX_AVG_VARIANCE)return new Int32Array([h,C]);h+=f[0]+f[1],O.arraycopy(f,2,f,0,A-1),f[A-1]=0,f[A]=0,A--}else A++;f[A]=1,_=!_}return A===I-1&&we.patternMatchVariance(f,u,we.MAX_INDIVIDUAL_VARIANCE)<we.MAX_AVG_VARIANCE?new Int32Array([h,C-1]):null}static patternMatchVariance(n,r,s){let a=n.length,l=0,u=0;for(let p=0;p<a;p++)l+=n[p],u+=r[p];if(l<u)return 1/0;let f=l/u;s*=f;let h=0;for(let p=0;p<a;p++){let C=n[p],A=r[p]*f,I=C>A?C-A:A-C;if(I>s)return 1/0;h+=I}return h/l}}we.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),we.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),we.MAX_AVG_VARIANCE=.42,we.MAX_INDIVIDUAL_VARIANCE=.8,we.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),we.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),we.MAX_PIXEL_DRIFT=3,we.MAX_PATTERN_DRIFT=5,we.SKIPPED_ROW_COUNT_MAX=25,we.ROW_STEP=5,we.BARCODE_MIN_HEIGHT=10;class _t{constructor(n,r){if(r.length===0)throw new S;this.field=n;let s=r.length;if(s>1&&r[0]===0){let a=1;for(;a<s&&r[a]===0;)a++;a===s?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(s-a),O.arraycopy(r,a,this.coefficients,0,this.coefficients.length))}else this.coefficients=r}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(n){return this.coefficients[this.coefficients.length-1-n]}evaluateAt(n){if(n===0)return this.getCoefficient(0);if(n===1){let a=0;for(let l of this.coefficients)a=this.field.add(a,l);return a}let r=this.coefficients[0],s=this.coefficients.length;for(let a=1;a<s;a++)r=this.field.add(this.field.multiply(n,r),this.coefficients[a]);return r}add(n){if(!this.field.equals(n.field))throw new S("ModulusPolys do not have same ModulusGF field");if(this.isZero())return n;if(n.isZero())return this;let r=this.coefficients,s=n.coefficients;if(r.length>s.length){let u=r;r=s,s=u}let a=new Int32Array(s.length),l=s.length-r.length;O.arraycopy(s,0,a,0,l);for(let u=l;u<s.length;u++)a[u]=this.field.add(r[u-l],s[u]);return new _t(this.field,a)}subtract(n){if(!this.field.equals(n.field))throw new S("ModulusPolys do not have same ModulusGF field");return n.isZero()?this:this.add(n.negative())}multiply(n){return n instanceof _t?this.multiplyOther(n):this.multiplyScalar(n)}multiplyOther(n){if(!this.field.equals(n.field))throw new S("ModulusPolys do not have same ModulusGF field");if(this.isZero()||n.isZero())return new _t(this.field,new Int32Array([0]));let r=this.coefficients,s=r.length,a=n.coefficients,l=a.length,u=new Int32Array(s+l-1);for(let f=0;f<s;f++){let h=r[f];for(let p=0;p<l;p++)u[f+p]=this.field.add(u[f+p],this.field.multiply(h,a[p]))}return new _t(this.field,u)}negative(){let n=this.coefficients.length,r=new Int32Array(n);for(let s=0;s<n;s++)r[s]=this.field.subtract(0,this.coefficients[s]);return new _t(this.field,r)}multiplyScalar(n){if(n===0)return new _t(this.field,new Int32Array([0]));if(n===1)return this;let r=this.coefficients.length,s=new Int32Array(r);for(let a=0;a<r;a++)s[a]=this.field.multiply(this.coefficients[a],n);return new _t(this.field,s)}multiplyByMonomial(n,r){if(n<0)throw new S;if(r===0)return new _t(this.field,new Int32Array([0]));let s=this.coefficients.length,a=new Int32Array(s+n);for(let l=0;l<s;l++)a[l]=this.field.multiply(this.coefficients[l],r);return new _t(this.field,a)}toString(){let n=new ve;for(let r=this.getDegree();r>=0;r--){let s=this.getCoefficient(r);s!==0&&(s<0?(n.append(" - "),s=-s):n.length()>0&&n.append(" + "),(r===0||s!==1)&&n.append(s),r!==0&&(r===1?n.append("x"):(n.append("x^"),n.append(r))))}return n.toString()}}class Ug{add(n,r){return(n+r)%this.modulus}subtract(n,r){return(this.modulus+n-r)%this.modulus}exp(n){return this.expTable[n]}log(n){if(n===0)throw new S;return this.logTable[n]}inverse(n){if(n===0)throw new To;return this.expTable[this.modulus-this.logTable[n]-1]}multiply(n,r){return n===0||r===0?0:this.expTable[(this.logTable[n]+this.logTable[r])%(this.modulus-1)]}getSize(){return this.modulus}equals(n){return n===this}}class Al extends Ug{constructor(n,r){super(),this.modulus=n,this.expTable=new Int32Array(n),this.logTable=new Int32Array(n);let s=1;for(let a=0;a<n;a++)this.expTable[a]=s,s=s*r%n;for(let a=0;a<n-1;a++)this.logTable[this.expTable[a]]=a;this.zero=new _t(this,new Int32Array([0])),this.one=new _t(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(n,r){if(n<0)throw new S;if(r===0)return this.zero;let s=new Int32Array(n+1);return s[0]=r,new _t(this,s)}}Al.PDF417_GF=new Al(pe.NUMBER_OF_CODEWORDS,3);class Ad{constructor(){this.field=Al.PDF417_GF}decode(n,r,s){let a=new _t(this.field,n),l=new Int32Array(r),u=!1;for(let D=r;D>0;D--){let P=a.evaluateAt(this.field.exp(D));l[r-D]=P,P!==0&&(u=!0)}if(!u)return 0;let f=this.field.getOne();if(s!=null)for(const D of s){let P=this.field.exp(n.length-1-D),F=new _t(this.field,new Int32Array([this.field.subtract(0,P),1]));f=f.multiply(F)}let h=new _t(this.field,l),p=this.runEuclideanAlgorithm(this.field.buildMonomial(r,1),h,r),C=p[0],A=p[1],I=this.findErrorLocations(C),_=this.findErrorMagnitudes(A,C,I);for(let D=0;D<I.length;D++){let P=n.length-1-this.field.log(I[D]);if(P<0)throw k.getChecksumInstance();n[P]=this.field.subtract(n[P],_[D])}return I.length}runEuclideanAlgorithm(n,r,s){if(n.getDegree()<r.getDegree()){let I=n;n=r,r=I}let a=n,l=r,u=this.field.getZero(),f=this.field.getOne();for(;l.getDegree()>=Math.round(s/2);){let I=a,_=u;if(a=l,u=f,a.isZero())throw k.getChecksumInstance();l=I;let D=this.field.getZero(),P=a.getCoefficient(a.getDegree()),F=this.field.inverse(P);for(;l.getDegree()>=a.getDegree()&&!l.isZero();){let W=l.getDegree()-a.getDegree(),q=this.field.multiply(l.getCoefficient(l.getDegree()),F);D=D.add(this.field.buildMonomial(W,q)),l=l.subtract(a.multiplyByMonomial(W,q))}f=D.multiply(u).subtract(_).negative()}let h=f.getCoefficient(0);if(h===0)throw k.getChecksumInstance();let p=this.field.inverse(h),C=f.multiply(p),A=l.multiply(p);return[C,A]}findErrorLocations(n){let r=n.getDegree(),s=new Int32Array(r),a=0;for(let l=1;l<this.field.getSize()&&a<r;l++)n.evaluateAt(l)===0&&(s[a]=this.field.inverse(l),a++);if(a!==r)throw k.getChecksumInstance();return s}findErrorMagnitudes(n,r,s){let a=r.getDegree(),l=new Int32Array(a);for(let p=1;p<=a;p++)l[a-p]=this.field.multiply(p,r.getCoefficient(p));let u=new _t(this.field,l),f=s.length,h=new Int32Array(f);for(let p=0;p<f;p++){let C=this.field.inverse(s[p]),A=this.field.subtract(0,n.evaluateAt(C)),I=this.field.inverse(u.evaluateAt(C));h[p]=this.field.multiply(A,I)}return h}}class ni{constructor(n,r,s,a,l){n instanceof ni?this.constructor_2(n):this.constructor_1(n,r,s,a,l)}constructor_1(n,r,s,a,l){const u=r==null||s==null,f=a==null||l==null;if(u&&f)throw new G;u?(r=new ae(0,a.getY()),s=new ae(0,l.getY())):f&&(a=new ae(n.getWidth()-1,r.getY()),l=new ae(n.getWidth()-1,s.getY())),this.image=n,this.topLeft=r,this.bottomLeft=s,this.topRight=a,this.bottomRight=l,this.minX=Math.trunc(Math.min(r.getX(),s.getX())),this.maxX=Math.trunc(Math.max(a.getX(),l.getX())),this.minY=Math.trunc(Math.min(r.getY(),a.getY())),this.maxY=Math.trunc(Math.max(s.getY(),l.getY()))}constructor_2(n){this.image=n.image,this.topLeft=n.getTopLeft(),this.bottomLeft=n.getBottomLeft(),this.topRight=n.getTopRight(),this.bottomRight=n.getBottomRight(),this.minX=n.getMinX(),this.maxX=n.getMaxX(),this.minY=n.getMinY(),this.maxY=n.getMaxY()}static merge(n,r){return n==null?r:r==null?n:new ni(n.image,n.topLeft,n.bottomLeft,r.topRight,r.bottomRight)}addMissingRows(n,r,s){let a=this.topLeft,l=this.bottomLeft,u=this.topRight,f=this.bottomRight;if(n>0){let h=s?this.topLeft:this.topRight,p=Math.trunc(h.getY()-n);p<0&&(p=0);let C=new ae(h.getX(),p);s?a=C:u=C}if(r>0){let h=s?this.bottomLeft:this.bottomRight,p=Math.trunc(h.getY()+r);p>=this.image.getHeight()&&(p=this.image.getHeight()-1);let C=new ae(h.getX(),p);s?l=C:f=C}return new ni(this.image,a,l,u,f)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class zg{constructor(n,r,s,a){this.columnCount=n,this.errorCorrectionLevel=a,this.rowCountUpperPart=r,this.rowCountLowerPart=s,this.rowCount=r+s}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Es{constructor(){this.buffer=""}static form(n,r){let s=-1;function a(u,f,h,p,C,A){if(u==="%%")return"%";if(r[++s]===void 0)return;u=p?parseInt(p.substr(1)):void 0;let I=C?parseInt(C.substr(1)):void 0,_;switch(A){case"s":_=r[s];break;case"c":_=r[s][0];break;case"f":_=parseFloat(r[s]).toFixed(u);break;case"p":_=parseFloat(r[s]).toPrecision(u);break;case"e":_=parseFloat(r[s]).toExponential(u);break;case"x":_=parseInt(r[s]).toString(I||16);break;case"d":_=parseFloat(parseInt(r[s],I||10).toPrecision(u)).toFixed(0);break}_=typeof _=="object"?JSON.stringify(_):(+_).toString(I);let D=parseInt(h),P=h&&h[0]+""=="0"?"0":" ";for(;_.length<D;)_=f!==void 0?_+P:P+_;return _}let l=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return n.replace(l,a)}format(n,...r){this.buffer+=Es.form(n,r)}toString(){return this.buffer}}class vs{constructor(n){this.boundingBox=new ni(n),this.codewords=new Array(n.getMaxY()-n.getMinY()+1)}getCodewordNearby(n){let r=this.getCodeword(n);if(r!=null)return r;for(let s=1;s<vs.MAX_NEARBY_DISTANCE;s++){let a=this.imageRowToCodewordIndex(n)-s;if(a>=0&&(r=this.codewords[a],r!=null)||(a=this.imageRowToCodewordIndex(n)+s,a<this.codewords.length&&(r=this.codewords[a],r!=null)))return r}return null}imageRowToCodewordIndex(n){return n-this.boundingBox.getMinY()}setCodeword(n,r){this.codewords[this.imageRowToCodewordIndex(n)]=r}getCodeword(n){return this.codewords[this.imageRowToCodewordIndex(n)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const n=new Es;let r=0;for(const s of this.codewords){if(s==null){n.format("%3d:    |   %n",r++);continue}n.format("%3d: %3d|%3d%n",r++,s.getRowNumber(),s.getValue())}return n.toString()}}vs.MAX_NEARBY_DISTANCE=5;class As{constructor(){this.values=new Map}setValue(n){n=Math.trunc(n);let r=this.values.get(n);r==null&&(r=0),r++,this.values.set(n,r)}getValue(){let n=-1,r=new Array;for(const[s,a]of this.values.entries()){const l={getKey:()=>s,getValue:()=>a};l.getValue()>n?(n=l.getValue(),r=[],r.push(l.getKey())):l.getValue()===n&&r.push(l.getKey())}return pe.toIntArray(r)}getConfidence(n){return this.values.get(n)}}class Sd extends vs{constructor(n,r){super(n),this._isLeft=r}setRowNumbers(){for(let n of this.getCodewords())n!=null&&n.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(n){let r=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(r,n);let s=this.getBoundingBox(),a=this._isLeft?s.getTopLeft():s.getTopRight(),l=this._isLeft?s.getBottomLeft():s.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(a.getY())),f=this.imageRowToCodewordIndex(Math.trunc(l.getY())),h=-1,p=1,C=0;for(let A=u;A<f;A++){if(r[A]==null)continue;let I=r[A],_=I.getRowNumber()-h;if(_===0)C++;else if(_===1)p=Math.max(p,C),C=1,h=I.getRowNumber();else if(_<0||I.getRowNumber()>=n.getRowCount()||_>A)r[A]=null;else{let D;p>2?D=(p-2)*_:D=_;let P=D>=A;for(let F=1;F<=D&&!P;F++)P=r[A-F]!=null;P?r[A]=null:(h=I.getRowNumber(),C=1)}}}getRowHeights(){let n=this.getBarcodeMetadata();if(n==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(n);let r=new Int32Array(n.getRowCount());for(let s of this.getCodewords())if(s!=null){let a=s.getRowNumber();if(a>=r.length)continue;r[a]++}return r}adjustIncompleteIndicatorColumnRowNumbers(n){let r=this.getBoundingBox(),s=this._isLeft?r.getTopLeft():r.getTopRight(),a=this._isLeft?r.getBottomLeft():r.getBottomRight(),l=this.imageRowToCodewordIndex(Math.trunc(s.getY())),u=this.imageRowToCodewordIndex(Math.trunc(a.getY())),f=this.getCodewords(),h=-1;for(let p=l;p<u;p++){if(f[p]==null)continue;let C=f[p];C.setRowNumberAsRowIndicatorColumn();let A=C.getRowNumber()-h;A===0||(A===1?h=C.getRowNumber():C.getRowNumber()>=n.getRowCount()?f[p]=null:h=C.getRowNumber())}}getBarcodeMetadata(){let n=this.getCodewords(),r=new As,s=new As,a=new As,l=new As;for(let f of n){if(f==null)continue;f.setRowNumberAsRowIndicatorColumn();let h=f.getValue()%30,p=f.getRowNumber();switch(this._isLeft||(p+=2),p%3){case 0:s.setValue(h*3+1);break;case 1:l.setValue(h/3),a.setValue(h%3);break;case 2:r.setValue(h+1);break}}if(r.getValue().length===0||s.getValue().length===0||a.getValue().length===0||l.getValue().length===0||r.getValue()[0]<1||s.getValue()[0]+a.getValue()[0]<pe.MIN_ROWS_IN_BARCODE||s.getValue()[0]+a.getValue()[0]>pe.MAX_ROWS_IN_BARCODE)return null;let u=new zg(r.getValue()[0],s.getValue()[0],a.getValue()[0],l.getValue()[0]);return this.removeIncorrectCodewords(n,u),u}removeIncorrectCodewords(n,r){for(let s=0;s<n.length;s++){let a=n[s];if(n[s]==null)continue;let l=a.getValue()%30,u=a.getRowNumber();if(u>r.getRowCount()){n[s]=null;continue}switch(this._isLeft||(u+=2),u%3){case 0:l*3+1!==r.getRowCountUpperPart()&&(n[s]=null);break;case 1:(Math.trunc(l/3)!==r.getErrorCorrectionLevel()||l%3!==r.getRowCountLowerPart())&&(n[s]=null);break;case 2:l+1!==r.getColumnCount()&&(n[s]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Ss{constructor(n,r){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=n,this.barcodeColumnCount=n.getColumnCount(),this.boundingBox=r,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let n=pe.MAX_CODEWORDS_IN_BARCODE,r;do r=n,n=this.adjustRowNumbersAndGetCount();while(n>0&&n<r);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(n){n!=null&&n.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let n=this.adjustRowNumbersByRow();if(n===0)return 0;for(let r=1;r<this.barcodeColumnCount+1;r++){let s=this.detectionResultColumns[r].getCodewords();for(let a=0;a<s.length;a++)s[a]!=null&&(s[a].hasValidRowNumber()||this.adjustRowNumbers(r,a,s))}return n}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let n=this.detectionResultColumns[0].getCodewords(),r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let s=0;s<n.length;s++)if(n[s]!=null&&r[s]!=null&&n[s].getRowNumber()===r[s].getRowNumber())for(let a=1;a<=this.barcodeColumnCount;a++){let l=this.detectionResultColumns[a].getCodewords()[s];l!=null&&(l.setRowNumber(n[s].getRowNumber()),l.hasValidRowNumber()||(this.detectionResultColumns[a].getCodewords()[s]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let n=0,r=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let s=0;s<r.length;s++){if(r[s]==null)continue;let a=r[s].getRowNumber(),l=0;for(let u=this.barcodeColumnCount+1;u>0&&l<this.ADJUST_ROW_NUMBER_SKIP;u--){let f=this.detectionResultColumns[u].getCodewords()[s];f!=null&&(l=Ss.adjustRowNumberIfValid(a,l,f),f.hasValidRowNumber()||n++)}}return n}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let n=0,r=this.detectionResultColumns[0].getCodewords();for(let s=0;s<r.length;s++){if(r[s]==null)continue;let a=r[s].getRowNumber(),l=0;for(let u=1;u<this.barcodeColumnCount+1&&l<this.ADJUST_ROW_NUMBER_SKIP;u++){let f=this.detectionResultColumns[u].getCodewords()[s];f!=null&&(l=Ss.adjustRowNumberIfValid(a,l,f),f.hasValidRowNumber()||n++)}}return n}static adjustRowNumberIfValid(n,r,s){return s==null||s.hasValidRowNumber()||(s.isValidRowNumber(n)?(s.setRowNumber(n),r=0):++r),r}adjustRowNumbers(n,r,s){if(!this.detectionResultColumns[n-1])return;let a=s[r],l=this.detectionResultColumns[n-1].getCodewords(),u=l;this.detectionResultColumns[n+1]!=null&&(u=this.detectionResultColumns[n+1].getCodewords());let f=new Array(14);f[2]=l[r],f[3]=u[r],r>0&&(f[0]=s[r-1],f[4]=l[r-1],f[5]=u[r-1]),r>1&&(f[8]=s[r-2],f[10]=l[r-2],f[11]=u[r-2]),r<s.length-1&&(f[1]=s[r+1],f[6]=l[r+1],f[7]=u[r+1]),r<s.length-2&&(f[9]=s[r+2],f[12]=l[r+2],f[13]=u[r+2]);for(let h of f)if(Ss.adjustRowNumber(a,h))return}static adjustRowNumber(n,r){return r==null?!1:r.hasValidRowNumber()&&r.getBucket()===n.getBucket()?(n.setRowNumber(r.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(n){this.boundingBox=n}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(n,r){this.detectionResultColumns[n]=r}getDetectionResultColumn(n){return this.detectionResultColumns[n]}toString(){let n=this.detectionResultColumns[0];n==null&&(n=this.detectionResultColumns[this.barcodeColumnCount+1]);let r=new Es;for(let s=0;s<n.getCodewords().length;s++){r.format("CW %3d:",s);for(let a=0;a<this.barcodeColumnCount+2;a++){if(this.detectionResultColumns[a]==null){r.format("    |   ");continue}let l=this.detectionResultColumns[a].getCodewords()[s];if(l==null){r.format("    |   ");continue}r.format(" %3d|%3d",l.getRowNumber(),l.getValue())}r.format("%n")}return r.toString()}}class Is{constructor(n,r,s,a){this.rowNumber=Is.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(n),this.endX=Math.trunc(r),this.bucket=Math.trunc(s),this.value=Math.trunc(a)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(n){return n!==Is.BARCODE_ROW_UNKNOWN&&this.bucket===n%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(n){this.rowNumber=n}toString(){return this.rowNumber+"|"+this.value}}Is.BARCODE_ROW_UNKNOWN=-1;class $t{static initialize(){for(let n=0;n<pe.SYMBOL_TABLE.length;n++){let r=pe.SYMBOL_TABLE[n],s=r&1;for(let a=0;a<pe.BARS_IN_MODULE;a++){let l=0;for(;(r&1)===s;)l+=1,r>>=1;s=r&1,$t.RATIOS_TABLE[n]||($t.RATIOS_TABLE[n]=new Array(pe.BARS_IN_MODULE)),$t.RATIOS_TABLE[n][pe.BARS_IN_MODULE-a-1]=Math.fround(l/pe.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(n){let r=$t.getDecodedCodewordValue($t.sampleBitCounts(n));return r!==-1?r:$t.getClosestDecodedValue(n)}static sampleBitCounts(n){let r=be.sum(n),s=new Int32Array(pe.BARS_IN_MODULE),a=0,l=0;for(let u=0;u<pe.MODULES_IN_CODEWORD;u++){let f=r/(2*pe.MODULES_IN_CODEWORD)+u*r/pe.MODULES_IN_CODEWORD;l+n[a]<=f&&(l+=n[a],a++),s[a]++}return s}static getDecodedCodewordValue(n){let r=$t.getBitValue(n);return pe.getCodeword(r)===-1?-1:r}static getBitValue(n){let r=0;for(let s=0;s<n.length;s++)for(let a=0;a<n[s];a++)r=r<<1|(s%2===0?1:0);return Math.trunc(r)}static getClosestDecodedValue(n){let r=be.sum(n),s=new Array(pe.BARS_IN_MODULE);if(r>1)for(let u=0;u<s.length;u++)s[u]=Math.fround(n[u]/r);let a=bo.MAX_VALUE,l=-1;this.bSymbolTableReady||$t.initialize();for(let u=0;u<$t.RATIOS_TABLE.length;u++){let f=0,h=$t.RATIOS_TABLE[u];for(let p=0;p<pe.BARS_IN_MODULE;p++){let C=Math.fround(h[p]-s[p]);if(f+=Math.fround(C*C),f>=a)break}f<a&&(a=f,l=pe.SYMBOL_TABLE[u])}return l}}$t.bSymbolTableReady=!1,$t.RATIOS_TABLE=new Array(pe.SYMBOL_TABLE.length).map(v=>new Array(pe.BARS_IN_MODULE));class Id{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(n){this.segmentIndex=n}getFileId(){return this.fileId}setFileId(n){this.fileId=n}getOptionalData(){return this.optionalData}setOptionalData(n){this.optionalData=n}isLastSegment(){return this.lastSegment}setLastSegment(n){this.lastSegment=n}getSegmentCount(){return this.segmentCount}setSegmentCount(n){this.segmentCount=n}getSender(){return this.sender||null}setSender(n){this.sender=n}getAddressee(){return this.addressee||null}setAddressee(n){this.addressee=n}getFileName(){return this.fileName}setFileName(n){this.fileName=n}getFileSize(){return this.fileSize}setFileSize(n){this.fileSize=n}getChecksum(){return this.checksum}setChecksum(n){this.checksum=n}getTimestamp(){return this.timestamp}setTimestamp(n){this.timestamp=n}}class Nd{static parseLong(n,r=void 0){return parseInt(n,r)}}class Td extends m{}Td.kind="NullPointerException";class Vg{writeBytes(n){this.writeBytesOffset(n,0,n.length)}writeBytesOffset(n,r,s){if(n==null)throw new Td;if(r<0||r>n.length||s<0||r+s>n.length||r+s<0)throw new U;if(s===0)return;for(let a=0;a<s;a++)this.write(n[r+a])}flush(){}close(){}}class Hg extends m{}class Wg extends Vg{constructor(n=32){if(super(),this.count=0,n<0)throw new S("Negative initial size: "+n);this.buf=new Uint8Array(n)}ensureCapacity(n){n-this.buf.length>0&&this.grow(n)}grow(n){let s=this.buf.length<<1;if(s-n<0&&(s=n),s<0){if(n<0)throw new Hg;s=M.MAX_VALUE}this.buf=b.copyOfUint8Array(this.buf,s)}write(n){this.ensureCapacity(this.count+1),this.buf[this.count]=n,this.count+=1}writeBytesOffset(n,r,s){if(r<0||r>n.length||s<0||r+s-n.length>0)throw new U;this.ensureCapacity(this.count+s),O.arraycopy(n,r,this.buf,this.count,s),this.count+=s}writeTo(n){n.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return b.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(n){return n?typeof n=="string"?this.toString_string(n):this.toString_number(n):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(n){return new String(this.buf).toString()}toString_number(n){return new String(this.buf).toString()}close(){}}var Fe;(function(v){v[v.ALPHA=0]="ALPHA",v[v.LOWER=1]="LOWER",v[v.MIXED=2]="MIXED",v[v.PUNCT=3]="PUNCT",v[v.ALPHA_SHIFT=4]="ALPHA_SHIFT",v[v.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Fe||(Fe={}));function bd(){if(typeof window<"u")return window.BigInt||null;if(typeof bs<"u")return bs.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Lo;function Tr(v){if(typeof Lo>"u"&&(Lo=bd()),Lo===null)throw new Error("BigInt is not supported!");return Lo(v)}function Gg(){let v=[];v[0]=Tr(1);let n=Tr(900);v[1]=n;for(let r=2;r<16;r++)v[r]=v[r-1]*n;return v}class H{static decode(n,r){let s=new ve(""),a=Y.ISO8859_1;s.enableDecoding(a);let l=1,u=n[l++],f=new Id;for(;l<n[0];){switch(u){case H.TEXT_COMPACTION_MODE_LATCH:l=H.textCompaction(n,l,s);break;case H.BYTE_COMPACTION_MODE_LATCH:case H.BYTE_COMPACTION_MODE_LATCH_6:l=H.byteCompaction(u,n,a,l,s);break;case H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:s.append(n[l++]);break;case H.NUMERIC_COMPACTION_MODE_LATCH:l=H.numericCompaction(n,l,s);break;case H.ECI_CHARSET:Y.getCharacterSetECIByValue(n[l++]);break;case H.ECI_GENERAL_PURPOSE:l+=2;break;case H.ECI_USER_DEFINED:l++;break;case H.BEGIN_MACRO_PDF417_CONTROL_BLOCK:l=H.decodeMacroBlock(n,l,f);break;case H.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case H.MACRO_PDF417_TERMINATOR:throw new V;default:l--,l=H.textCompaction(n,l,s);break}if(l<n.length)u=n[l++];else throw V.getFormatInstance()}if(s.length()===0)throw V.getFormatInstance();let h=new ms(null,s.toString(),null,r);return h.setOther(f),h}static decodeMacroBlock(n,r,s){if(r+H.NUMBER_OF_SEQUENCE_CODEWORDS>n[0])throw V.getFormatInstance();let a=new Int32Array(H.NUMBER_OF_SEQUENCE_CODEWORDS);for(let f=0;f<H.NUMBER_OF_SEQUENCE_CODEWORDS;f++,r++)a[f]=n[r];s.setSegmentIndex(M.parseInt(H.decodeBase900toBase10(a,H.NUMBER_OF_SEQUENCE_CODEWORDS)));let l=new ve;r=H.textCompaction(n,r,l),s.setFileId(l.toString());let u=-1;for(n[r]===H.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(u=r+1);r<n[0];)switch(n[r]){case H.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(r++,n[r]){case H.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let f=new ve;r=H.textCompaction(n,r+1,f),s.setFileName(f.toString());break;case H.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let h=new ve;r=H.textCompaction(n,r+1,h),s.setSender(h.toString());break;case H.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let p=new ve;r=H.textCompaction(n,r+1,p),s.setAddressee(p.toString());break;case H.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let C=new ve;r=H.numericCompaction(n,r+1,C),s.setSegmentCount(M.parseInt(C.toString()));break;case H.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let A=new ve;r=H.numericCompaction(n,r+1,A),s.setTimestamp(Nd.parseLong(A.toString()));break;case H.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let I=new ve;r=H.numericCompaction(n,r+1,I),s.setChecksum(M.parseInt(I.toString()));break;case H.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let _=new ve;r=H.numericCompaction(n,r+1,_),s.setFileSize(Nd.parseLong(_.toString()));break;default:throw V.getFormatInstance()}break;case H.MACRO_PDF417_TERMINATOR:r++,s.setLastSegment(!0);break;default:throw V.getFormatInstance()}if(u!==-1){let f=r-u;s.isLastSegment()&&f--,s.setOptionalData(b.copyOfRange(n,u,u+f))}return r}static textCompaction(n,r,s){let a=new Int32Array((n[0]-r)*2),l=new Int32Array((n[0]-r)*2),u=0,f=!1;for(;r<n[0]&&!f;){let h=n[r++];if(h<H.TEXT_COMPACTION_MODE_LATCH)a[u]=h/30,a[u+1]=h%30,u+=2;else switch(h){case H.TEXT_COMPACTION_MODE_LATCH:a[u++]=H.TEXT_COMPACTION_MODE_LATCH;break;case H.BYTE_COMPACTION_MODE_LATCH:case H.BYTE_COMPACTION_MODE_LATCH_6:case H.NUMERIC_COMPACTION_MODE_LATCH:case H.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case H.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case H.MACRO_PDF417_TERMINATOR:r--,f=!0;break;case H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a[u]=H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,h=n[r++],l[u]=h,u++;break}}return H.decodeTextCompaction(a,l,u,s),r}static decodeTextCompaction(n,r,s,a){let l=Fe.ALPHA,u=Fe.ALPHA,f=0;for(;f<s;){let h=n[f],p="";switch(l){case Fe.ALPHA:if(h<26)p=String.fromCharCode(65+h);else switch(h){case 26:p=" ";break;case H.LL:l=Fe.LOWER;break;case H.ML:l=Fe.MIXED;break;case H.PS:u=l,l=Fe.PUNCT_SHIFT;break;case H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[f]);break;case H.TEXT_COMPACTION_MODE_LATCH:l=Fe.ALPHA;break}break;case Fe.LOWER:if(h<26)p=String.fromCharCode(97+h);else switch(h){case 26:p=" ";break;case H.AS:u=l,l=Fe.ALPHA_SHIFT;break;case H.ML:l=Fe.MIXED;break;case H.PS:u=l,l=Fe.PUNCT_SHIFT;break;case H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[f]);break;case H.TEXT_COMPACTION_MODE_LATCH:l=Fe.ALPHA;break}break;case Fe.MIXED:if(h<H.PL)p=H.MIXED_CHARS[h];else switch(h){case H.PL:l=Fe.PUNCT;break;case 26:p=" ";break;case H.LL:l=Fe.LOWER;break;case H.AL:l=Fe.ALPHA;break;case H.PS:u=l,l=Fe.PUNCT_SHIFT;break;case H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[f]);break;case H.TEXT_COMPACTION_MODE_LATCH:l=Fe.ALPHA;break}break;case Fe.PUNCT:if(h<H.PAL)p=H.PUNCT_CHARS[h];else switch(h){case H.PAL:l=Fe.ALPHA;break;case H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[f]);break;case H.TEXT_COMPACTION_MODE_LATCH:l=Fe.ALPHA;break}break;case Fe.ALPHA_SHIFT:if(l=u,h<26)p=String.fromCharCode(65+h);else switch(h){case 26:p=" ";break;case H.TEXT_COMPACTION_MODE_LATCH:l=Fe.ALPHA;break}break;case Fe.PUNCT_SHIFT:if(l=u,h<H.PAL)p=H.PUNCT_CHARS[h];else switch(h){case H.PAL:l=Fe.ALPHA;break;case H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:a.append(r[f]);break;case H.TEXT_COMPACTION_MODE_LATCH:l=Fe.ALPHA;break}break}p!==""&&a.append(p),f++}}static byteCompaction(n,r,s,a,l){let u=new Wg,f=0,h=0,p=!1;switch(n){case H.BYTE_COMPACTION_MODE_LATCH:let C=new Int32Array(6),A=r[a++];for(;a<r[0]&&!p;)switch(C[f++]=A,h=900*h+A,A=r[a++],A){case H.TEXT_COMPACTION_MODE_LATCH:case H.BYTE_COMPACTION_MODE_LATCH:case H.NUMERIC_COMPACTION_MODE_LATCH:case H.BYTE_COMPACTION_MODE_LATCH_6:case H.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case H.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case H.MACRO_PDF417_TERMINATOR:a--,p=!0;break;default:if(f%5===0&&f>0){for(let I=0;I<6;++I)u.write(Number(Tr(h)>>Tr(8*(5-I))));h=0,f=0}break}a===r[0]&&A<H.TEXT_COMPACTION_MODE_LATCH&&(C[f++]=A);for(let I=0;I<f;I++)u.write(C[I]);break;case H.BYTE_COMPACTION_MODE_LATCH_6:for(;a<r[0]&&!p;){let I=r[a++];if(I<H.TEXT_COMPACTION_MODE_LATCH)f++,h=900*h+I;else switch(I){case H.TEXT_COMPACTION_MODE_LATCH:case H.BYTE_COMPACTION_MODE_LATCH:case H.NUMERIC_COMPACTION_MODE_LATCH:case H.BYTE_COMPACTION_MODE_LATCH_6:case H.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case H.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case H.MACRO_PDF417_TERMINATOR:a--,p=!0;break}if(f%5===0&&f>0){for(let _=0;_<6;++_)u.write(Number(Tr(h)>>Tr(8*(5-_))));h=0,f=0}}break}return l.append(Te.decode(u.toByteArray(),s)),a}static numericCompaction(n,r,s){let a=0,l=!1,u=new Int32Array(H.MAX_NUMERIC_CODEWORDS);for(;r<n[0]&&!l;){let f=n[r++];if(r===n[0]&&(l=!0),f<H.TEXT_COMPACTION_MODE_LATCH)u[a]=f,a++;else switch(f){case H.TEXT_COMPACTION_MODE_LATCH:case H.BYTE_COMPACTION_MODE_LATCH:case H.BYTE_COMPACTION_MODE_LATCH_6:case H.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case H.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case H.MACRO_PDF417_TERMINATOR:r--,l=!0;break}(a%H.MAX_NUMERIC_CODEWORDS===0||f===H.NUMERIC_COMPACTION_MODE_LATCH||l)&&a>0&&(s.append(H.decodeBase900toBase10(u,a)),a=0)}return r}static decodeBase900toBase10(n,r){let s=Tr(0);for(let l=0;l<r;l++)s+=H.EXP900[r-l-1]*Tr(n[l]);let a=s.toString();if(a.charAt(0)!=="1")throw new V;return a.substring(1)}}H.TEXT_COMPACTION_MODE_LATCH=900,H.BYTE_COMPACTION_MODE_LATCH=901,H.NUMERIC_COMPACTION_MODE_LATCH=902,H.BYTE_COMPACTION_MODE_LATCH_6=924,H.ECI_USER_DEFINED=925,H.ECI_GENERAL_PURPOSE=926,H.ECI_CHARSET=927,H.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,H.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,H.MACRO_PDF417_TERMINATOR=922,H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,H.MAX_NUMERIC_CODEWORDS=15,H.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,H.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,H.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,H.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,H.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,H.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,H.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,H.PL=25,H.LL=27,H.AS=27,H.ML=28,H.AL=28,H.PS=29,H.PAL=29,H.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,H.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",H.EXP900=bd()?Gg():[],H.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Ce{constructor(){}static decode(n,r,s,a,l,u,f){let h=new ni(n,r,s,a,l),p=null,C=null,A;for(let D=!0;;D=!1){if(r!=null&&(p=Ce.getRowIndicatorColumn(n,h,r,!0,u,f)),a!=null&&(C=Ce.getRowIndicatorColumn(n,h,a,!1,u,f)),A=Ce.merge(p,C),A==null)throw G.getNotFoundInstance();let P=A.getBoundingBox();if(D&&P!=null&&(P.getMinY()<h.getMinY()||P.getMaxY()>h.getMaxY()))h=P;else break}A.setBoundingBox(h);let I=A.getBarcodeColumnCount()+1;A.setDetectionResultColumn(0,p),A.setDetectionResultColumn(I,C);let _=p!=null;for(let D=1;D<=I;D++){let P=_?D:I-D;if(A.getDetectionResultColumn(P)!==void 0)continue;let F;P===0||P===I?F=new Sd(h,P===0):F=new vs(h),A.setDetectionResultColumn(P,F);let W=-1,q=W;for(let ee=h.getMinY();ee<=h.getMaxY();ee++){if(W=Ce.getStartColumn(A,P,ee,_),W<0||W>h.getMaxX()){if(q===-1)continue;W=q}let Q=Ce.detectCodeword(n,h.getMinX(),h.getMaxX(),_,W,ee,u,f);Q!=null&&(F.setCodeword(ee,Q),q=W,u=Math.min(u,Q.getWidth()),f=Math.max(f,Q.getWidth()))}}return Ce.createDecoderResult(A)}static merge(n,r){if(n==null&&r==null)return null;let s=Ce.getBarcodeMetadata(n,r);if(s==null)return null;let a=ni.merge(Ce.adjustBoundingBox(n),Ce.adjustBoundingBox(r));return new Ss(s,a)}static adjustBoundingBox(n){if(n==null)return null;let r=n.getRowHeights();if(r==null)return null;let s=Ce.getMax(r),a=0;for(let f of r)if(a+=s-f,f>0)break;let l=n.getCodewords();for(let f=0;a>0&&l[f]==null;f++)a--;let u=0;for(let f=r.length-1;f>=0&&(u+=s-r[f],!(r[f]>0));f--);for(let f=l.length-1;u>0&&l[f]==null;f--)u--;return n.getBoundingBox().addMissingRows(a,u,n.isLeft())}static getMax(n){let r=-1;for(let s of n)r=Math.max(r,s);return r}static getBarcodeMetadata(n,r){let s;if(n==null||(s=n.getBarcodeMetadata())==null)return r==null?null:r.getBarcodeMetadata();let a;return r==null||(a=r.getBarcodeMetadata())==null?s:s.getColumnCount()!==a.getColumnCount()&&s.getErrorCorrectionLevel()!==a.getErrorCorrectionLevel()&&s.getRowCount()!==a.getRowCount()?null:s}static getRowIndicatorColumn(n,r,s,a,l,u){let f=new Sd(r,a);for(let h=0;h<2;h++){let p=h===0?1:-1,C=Math.trunc(Math.trunc(s.getX()));for(let A=Math.trunc(Math.trunc(s.getY()));A<=r.getMaxY()&&A>=r.getMinY();A+=p){let I=Ce.detectCodeword(n,0,n.getWidth(),a,C,A,l,u);I!=null&&(f.setCodeword(A,I),a?C=I.getStartX():C=I.getEndX())}}return f}static adjustCodewordCount(n,r){let s=r[0][1],a=s.getValue(),l=n.getBarcodeColumnCount()*n.getBarcodeRowCount()-Ce.getNumberOfECCodeWords(n.getBarcodeECLevel());if(a.length===0){if(l<1||l>pe.MAX_CODEWORDS_IN_BARCODE)throw G.getNotFoundInstance();s.setValue(l)}else a[0]!==l&&s.setValue(l)}static createDecoderResult(n){let r=Ce.createBarcodeMatrix(n);Ce.adjustCodewordCount(n,r);let s=new Array,a=new Int32Array(n.getBarcodeRowCount()*n.getBarcodeColumnCount()),l=[],u=new Array;for(let h=0;h<n.getBarcodeRowCount();h++)for(let p=0;p<n.getBarcodeColumnCount();p++){let C=r[h][p+1].getValue(),A=h*n.getBarcodeColumnCount()+p;C.length===0?s.push(A):C.length===1?a[A]=C[0]:(u.push(A),l.push(C))}let f=new Array(l.length);for(let h=0;h<f.length;h++)f[h]=l[h];return Ce.createDecoderResultFromAmbiguousValues(n.getBarcodeECLevel(),a,pe.toIntArray(s),pe.toIntArray(u),f)}static createDecoderResultFromAmbiguousValues(n,r,s,a,l){let u=new Int32Array(a.length),f=100;for(;f-- >0;){for(let h=0;h<u.length;h++)r[a[h]]=l[h][u[h]];try{return Ce.decodeCodewords(r,n,s)}catch(h){if(!(h instanceof k))throw h}if(u.length===0)throw k.getChecksumInstance();for(let h=0;h<u.length;h++)if(u[h]<l[h].length-1){u[h]++;break}else if(u[h]=0,h===u.length-1)throw k.getChecksumInstance()}throw k.getChecksumInstance()}static createBarcodeMatrix(n){let r=Array.from({length:n.getBarcodeRowCount()},()=>new Array(n.getBarcodeColumnCount()+2));for(let a=0;a<r.length;a++)for(let l=0;l<r[a].length;l++)r[a][l]=new As;let s=0;for(let a of n.getDetectionResultColumns()){if(a!=null){for(let l of a.getCodewords())if(l!=null){let u=l.getRowNumber();if(u>=0){if(u>=r.length)continue;r[u][s].setValue(l.getValue())}}}s++}return r}static isValidBarcodeColumn(n,r){return r>=0&&r<=n.getBarcodeColumnCount()+1}static getStartColumn(n,r,s,a){let l=a?1:-1,u=null;if(Ce.isValidBarcodeColumn(n,r-l)&&(u=n.getDetectionResultColumn(r-l).getCodeword(s)),u!=null)return a?u.getEndX():u.getStartX();if(u=n.getDetectionResultColumn(r).getCodewordNearby(s),u!=null)return a?u.getStartX():u.getEndX();if(Ce.isValidBarcodeColumn(n,r-l)&&(u=n.getDetectionResultColumn(r-l).getCodewordNearby(s)),u!=null)return a?u.getEndX():u.getStartX();let f=0;for(;Ce.isValidBarcodeColumn(n,r-l);){r-=l;for(let h of n.getDetectionResultColumn(r).getCodewords())if(h!=null)return(a?h.getEndX():h.getStartX())+l*f*(h.getEndX()-h.getStartX());f++}return a?n.getBoundingBox().getMinX():n.getBoundingBox().getMaxX()}static detectCodeword(n,r,s,a,l,u,f,h){l=Ce.adjustCodewordStartColumn(n,r,s,a,l,u);let p=Ce.getModuleBitCount(n,r,s,a,l,u);if(p==null)return null;let C,A=be.sum(p);if(a)C=l+A;else{for(let D=0;D<p.length/2;D++){let P=p[D];p[D]=p[p.length-1-D],p[p.length-1-D]=P}C=l,l=C-A}if(!Ce.checkCodewordSkew(A,f,h))return null;let I=$t.getDecodedValue(p),_=pe.getCodeword(I);return _===-1?null:new Is(l,C,Ce.getCodewordBucketNumber(I),_)}static getModuleBitCount(n,r,s,a,l,u){let f=l,h=new Int32Array(8),p=0,C=a?1:-1,A=a;for(;(a?f<s:f>=r)&&p<h.length;)n.get(f,u)===A?(h[p]++,f+=C):(p++,A=!A);return p===h.length||f===(a?s:r)&&p===h.length-1?h:null}static getNumberOfECCodeWords(n){return 2<<n}static adjustCodewordStartColumn(n,r,s,a,l,u){let f=l,h=a?-1:1;for(let p=0;p<2;p++){for(;(a?f>=r:f<s)&&a===n.get(f,u);){if(Math.abs(l-f)>Ce.CODEWORD_SKEW_SIZE)return l;f+=h}h=-h,a=!a}return f}static checkCodewordSkew(n,r,s){return r-Ce.CODEWORD_SKEW_SIZE<=n&&n<=s+Ce.CODEWORD_SKEW_SIZE}static decodeCodewords(n,r,s){if(n.length===0)throw V.getFormatInstance();let a=1<<r+1,l=Ce.correctErrors(n,s,a);Ce.verifyCodewordCount(n,a);let u=H.decode(n,""+r);return u.setErrorsCorrected(l),u.setErasures(s.length),u}static correctErrors(n,r,s){if(r!=null&&r.length>s/2+Ce.MAX_ERRORS||s<0||s>Ce.MAX_EC_CODEWORDS)throw k.getChecksumInstance();return Ce.errorCorrection.decode(n,s,r)}static verifyCodewordCount(n,r){if(n.length<4)throw V.getFormatInstance();let s=n[0];if(s>n.length)throw V.getFormatInstance();if(s===0)if(r<n.length)n[0]=n.length-r;else throw V.getFormatInstance()}static getBitCountForCodeword(n){let r=new Int32Array(8),s=0,a=r.length-1;for(;!((n&1)!==s&&(s=n&1,a--,a<0));)r[a]++,n>>=1;return r}static getCodewordBucketNumber(n){return n instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(n):this.getCodewordBucketNumber_number(n)}static getCodewordBucketNumber_number(n){return Ce.getCodewordBucketNumber(Ce.getBitCountForCodeword(n))}static getCodewordBucketNumber_Int32Array(n){return(n[0]-n[2]+n[4]-n[6]+9)%9}static toString(n){let r=new Es;for(let s=0;s<n.length;s++){r.format("Row %2d: ",s);for(let a=0;a<n[s].length;a++){let l=n[s][a];l.getValue().length===0?r.format("        ",null):r.format("%4d(%2d)",l.getValue()[0],l.getConfidence(l.getValue()[0]))}r.format("%n")}return r.toString()}}Ce.CODEWORD_SKEW_SIZE=2,Ce.MAX_ERRORS=3,Ce.MAX_EC_CODEWORDS=512,Ce.errorCorrection=new Ad;class Mt{decode(n,r=null){let s=Mt.decode(n,r,!1);if(s==null||s.length===0||s[0]==null)throw G.getNotFoundInstance();return s[0]}decodeMultiple(n,r=null){try{return Mt.decode(n,r,!0)}catch(s){throw s instanceof V||s instanceof k?G.getNotFoundInstance():s}}static decode(n,r,s){const a=new Array,l=we.detectMultiple(n,r,s);for(const u of l.getPoints()){const f=Ce.decode(l.getBits(),u[4],u[5],u[6],u[7],Mt.getMinCodewordWidth(u),Mt.getMaxCodewordWidth(u)),h=new nt(f.getText(),f.getRawBytes(),void 0,u,le.PDF_417);h.putMetadata(vt.ERROR_CORRECTION_LEVEL,f.getECLevel());const p=f.getOther();p!=null&&h.putMetadata(vt.PDF417_EXTRA_METADATA,p),a.push(h)}return a.map(u=>u)}static getMaxWidth(n,r){return n==null||r==null?0:Math.trunc(Math.abs(n.getX()-r.getX()))}static getMinWidth(n,r){return n==null||r==null?M.MAX_VALUE:Math.trunc(Math.abs(n.getX()-r.getX()))}static getMaxCodewordWidth(n){return Math.floor(Math.max(Math.max(Mt.getMaxWidth(n[0],n[4]),Mt.getMaxWidth(n[6],n[2])*pe.MODULES_IN_CODEWORD/pe.MODULES_IN_STOP_PATTERN),Math.max(Mt.getMaxWidth(n[1],n[5]),Mt.getMaxWidth(n[7],n[3])*pe.MODULES_IN_CODEWORD/pe.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(n){return Math.floor(Math.min(Math.min(Mt.getMinWidth(n[0],n[4]),Mt.getMinWidth(n[6],n[2])*pe.MODULES_IN_CODEWORD/pe.MODULES_IN_STOP_PATTERN),Math.min(Mt.getMinWidth(n[1],n[5]),Mt.getMinWidth(n[7],n[3])*pe.MODULES_IN_CODEWORD/pe.MODULES_IN_STOP_PATTERN)))}reset(){}}class Po extends m{}Po.kind="ReaderException";class _d{constructor(n,r){this.verbose=n===!0,r&&this.setHints(r)}decode(n,r){return r&&this.setHints(r),this.decodeInternal(n)}decodeWithState(n){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(n)}setHints(n){this.hints=n;const r=!o(n)&&n.get(Z.TRY_HARDER)===!0,s=o(n)?null:n.get(Z.POSSIBLE_FORMATS),a=new Array;if(!o(s)){const l=s.some(u=>u===le.UPC_A||u===le.UPC_E||u===le.EAN_13||u===le.EAN_8||u===le.CODABAR||u===le.CODE_39||u===le.CODE_93||u===le.CODE_128||u===le.ITF||u===le.RSS_14||u===le.RSS_EXPANDED);l&&!r&&a.push(new Ni(n,this.verbose)),s.includes(le.QR_CODE)&&a.push(new Nr),s.includes(le.DATA_MATRIX)&&a.push(new Ir),s.includes(le.AZTEC)&&a.push(new Mo),s.includes(le.PDF_417)&&a.push(new Mt),l&&r&&a.push(new Ni(n,this.verbose))}a.length===0&&(r||a.push(new Ni(n,this.verbose)),a.push(new Nr),a.push(new Ir),a.push(new Mo),a.push(new Mt),r&&a.push(new Ni(n,this.verbose))),this.readers=a}reset(){if(this.readers!==null)for(const n of this.readers)n.reset()}decodeInternal(n){if(this.readers===null)throw new Po("No readers where selected, nothing can be read.");for(const r of this.readers)try{return r.decode(n,this.hints)}catch(s){if(s instanceof Po)continue}throw new G("No MultiFormat Readers were able to detect the code.")}}class Yg extends We{constructor(n=null,r=500){const s=new _d;s.setHints(n),super(s,r)}decodeBitmap(n){return this.reader.decodeWithState(n)}}class Xg extends We{constructor(n=500){super(new Mt,n)}}class Qg extends We{constructor(n=500){super(new Nr,n)}}var Sl;(function(v){v[v.ERROR_CORRECTION=0]="ERROR_CORRECTION",v[v.CHARACTER_SET=1]="CHARACTER_SET",v[v.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",v[v.MIN_SIZE=3]="MIN_SIZE",v[v.MAX_SIZE=4]="MAX_SIZE",v[v.MARGIN=5]="MARGIN",v[v.PDF417_COMPACT=6]="PDF417_COMPACT",v[v.PDF417_COMPACTION=7]="PDF417_COMPACTION",v[v.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",v[v.AZTEC_LAYERS=9]="AZTEC_LAYERS",v[v.QR_VERSION=10]="QR_VERSION"})(Sl||(Sl={}));var yt=Sl;class Il{constructor(n){this.field=n,this.cachedGenerators=[],this.cachedGenerators.push(new Zt(n,Int32Array.from([1])))}buildGenerator(n){const r=this.cachedGenerators;if(n>=r.length){let s=r[r.length-1];const a=this.field;for(let l=r.length;l<=n;l++){const u=s.multiply(new Zt(a,Int32Array.from([1,a.exp(l-1+a.getGeneratorBase())])));r.push(u),s=u}}return r[n]}encode(n,r){if(r===0)throw new S("No error correction bytes");const s=n.length-r;if(s<=0)throw new S("No data bytes provided");const a=this.buildGenerator(r),l=new Int32Array(s);O.arraycopy(n,0,l,0,s);let u=new Zt(this.field,l);u=u.multiplyByMonomial(r,1);const h=u.divide(a)[1].getCoefficients(),p=r-h.length;for(let C=0;C<p;C++)n[s+C]=0;O.arraycopy(h,0,n,s+p,h.length)}}class ut{constructor(){}static applyMaskPenaltyRule1(n){return ut.applyMaskPenaltyRule1Internal(n,!0)+ut.applyMaskPenaltyRule1Internal(n,!1)}static applyMaskPenaltyRule2(n){let r=0;const s=n.getArray(),a=n.getWidth(),l=n.getHeight();for(let u=0;u<l-1;u++){const f=s[u];for(let h=0;h<a-1;h++){const p=f[h];p===f[h+1]&&p===s[u+1][h]&&p===s[u+1][h+1]&&r++}}return ut.N2*r}static applyMaskPenaltyRule3(n){let r=0;const s=n.getArray(),a=n.getWidth(),l=n.getHeight();for(let u=0;u<l;u++)for(let f=0;f<a;f++){const h=s[u];f+6<a&&h[f]===1&&h[f+1]===0&&h[f+2]===1&&h[f+3]===1&&h[f+4]===1&&h[f+5]===0&&h[f+6]===1&&(ut.isWhiteHorizontal(h,f-4,f)||ut.isWhiteHorizontal(h,f+7,f+11))&&r++,u+6<l&&s[u][f]===1&&s[u+1][f]===0&&s[u+2][f]===1&&s[u+3][f]===1&&s[u+4][f]===1&&s[u+5][f]===0&&s[u+6][f]===1&&(ut.isWhiteVertical(s,f,u-4,u)||ut.isWhiteVertical(s,f,u+7,u+11))&&r++}return r*ut.N3}static isWhiteHorizontal(n,r,s){r=Math.max(r,0),s=Math.min(s,n.length);for(let a=r;a<s;a++)if(n[a]===1)return!1;return!0}static isWhiteVertical(n,r,s,a){s=Math.max(s,0),a=Math.min(a,n.length);for(let l=s;l<a;l++)if(n[l][r]===1)return!1;return!0}static applyMaskPenaltyRule4(n){let r=0;const s=n.getArray(),a=n.getWidth(),l=n.getHeight();for(let h=0;h<l;h++){const p=s[h];for(let C=0;C<a;C++)p[C]===1&&r++}const u=n.getHeight()*n.getWidth();return Math.floor(Math.abs(r*2-u)*10/u)*ut.N4}static getDataMaskBit(n,r,s){let a,l;switch(n){case 0:a=s+r&1;break;case 1:a=s&1;break;case 2:a=r%3;break;case 3:a=(s+r)%3;break;case 4:a=Math.floor(s/2)+Math.floor(r/3)&1;break;case 5:l=s*r,a=(l&1)+l%3;break;case 6:l=s*r,a=(l&1)+l%3&1;break;case 7:l=s*r,a=l%3+(s+r&1)&1;break;default:throw new S("Invalid mask pattern: "+n)}return a===0}static applyMaskPenaltyRule1Internal(n,r){let s=0;const a=r?n.getHeight():n.getWidth(),l=r?n.getWidth():n.getHeight(),u=n.getArray();for(let f=0;f<a;f++){let h=0,p=-1;for(let C=0;C<l;C++){const A=r?u[f][C]:u[C][f];A===p?h++:(h>=5&&(s+=ut.N1+(h-5)),h=1,p=A)}h>=5&&(s+=ut.N1+(h-5))}return s}}ut.N1=3,ut.N2=3,ut.N3=40,ut.N4=10;class Bo{constructor(n,r){this.width=n,this.height=r;const s=new Array(r);for(let a=0;a!==r;a++)s[a]=new Uint8Array(n);this.bytes=s}getHeight(){return this.height}getWidth(){return this.width}get(n,r){return this.bytes[r][n]}getArray(){return this.bytes}setNumber(n,r,s){this.bytes[r][n]=s}setBoolean(n,r,s){this.bytes[r][n]=s?1:0}clear(n){for(const r of this.bytes)b.fill(r,n)}equals(n){if(!(n instanceof Bo))return!1;const r=n;if(this.width!==r.width||this.height!==r.height)return!1;for(let s=0,a=this.height;s<a;++s){const l=this.bytes[s],u=r.bytes[s];for(let f=0,h=this.width;f<h;++f)if(l[f]!==u[f])return!1}return!0}toString(){const n=new ve;for(let r=0,s=this.height;r<s;++r){const a=this.bytes[r];for(let l=0,u=this.width;l<u;++l)switch(a[l]){case 0:n.append(" 0");break;case 1:n.append(" 1");break;default:n.append("  ");break}n.append(`
`)}return n.toString()}}class ri{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const n=new ve;return n.append(`<<
`),n.append(" mode: "),n.append(this.mode?this.mode.toString():"null"),n.append(`
 ecLevel: `),n.append(this.ecLevel?this.ecLevel.toString():"null"),n.append(`
 version: `),n.append(this.version?this.version.toString():"null"),n.append(`
 maskPattern: `),n.append(this.maskPattern.toString()),this.matrix?(n.append(`
 matrix:
`),n.append(this.matrix.toString())):n.append(`
 matrix: null
`),n.append(`>>
`),n.toString()}setMode(n){this.mode=n}setECLevel(n){this.ecLevel=n}setVersion(n){this.version=n}setMaskPattern(n){this.maskPattern=n}setMatrix(n){this.matrix=n}static isValidMaskPattern(n){return n>=0&&n<ri.NUM_MASK_PATTERNS}}ri.NUM_MASK_PATTERNS=8;class ze extends m{}ze.kind="WriterException";class he{constructor(){}static clearMatrix(n){n.clear(255)}static buildMatrix(n,r,s,a,l){he.clearMatrix(l),he.embedBasicPatterns(s,l),he.embedTypeInfo(r,a,l),he.maybeEmbedVersionInfo(s,l),he.embedDataBits(n,a,l)}static embedBasicPatterns(n,r){he.embedPositionDetectionPatternsAndSeparators(r),he.embedDarkDotAtLeftBottomCorner(r),he.maybeEmbedPositionAdjustmentPatterns(n,r),he.embedTimingPatterns(r)}static embedTypeInfo(n,r,s){const a=new z;he.makeTypeInfoBits(n,r,a);for(let l=0,u=a.getSize();l<u;++l){const f=a.get(a.getSize()-1-l),h=he.TYPE_INFO_COORDINATES[l],p=h[0],C=h[1];if(s.setBoolean(p,C,f),l<8){const A=s.getWidth()-l-1,I=8;s.setBoolean(A,I,f)}else{const I=s.getHeight()-7+(l-8);s.setBoolean(8,I,f)}}}static maybeEmbedVersionInfo(n,r){if(n.getVersionNumber()<7)return;const s=new z;he.makeVersionInfoBits(n,s);let a=6*3-1;for(let l=0;l<6;++l)for(let u=0;u<3;++u){const f=s.get(a);a--,r.setBoolean(l,r.getHeight()-11+u,f),r.setBoolean(r.getHeight()-11+u,l,f)}}static embedDataBits(n,r,s){let a=0,l=-1,u=s.getWidth()-1,f=s.getHeight()-1;for(;u>0;){for(u===6&&(u-=1);f>=0&&f<s.getHeight();){for(let h=0;h<2;++h){const p=u-h;if(!he.isEmpty(s.get(p,f)))continue;let C;a<n.getSize()?(C=n.get(a),++a):C=!1,r!==255&&ut.getDataMaskBit(r,p,f)&&(C=!C),s.setBoolean(p,f,C)}f+=l}l=-l,f+=l,u-=2}if(a!==n.getSize())throw new ze("Not all bits consumed: "+a+"/"+n.getSize())}static findMSBSet(n){return 32-M.numberOfLeadingZeros(n)}static calculateBCHCode(n,r){if(r===0)throw new S("0 polynomial");const s=he.findMSBSet(r);for(n<<=s-1;he.findMSBSet(n)>=s;)n^=r<<he.findMSBSet(n)-s;return n}static makeTypeInfoBits(n,r,s){if(!ri.isValidMaskPattern(r))throw new ze("Invalid mask pattern");const a=n.getBits()<<3|r;s.appendBits(a,5);const l=he.calculateBCHCode(a,he.TYPE_INFO_POLY);s.appendBits(l,10);const u=new z;if(u.appendBits(he.TYPE_INFO_MASK_PATTERN,15),s.xor(u),s.getSize()!==15)throw new ze("should not happen but we got: "+s.getSize())}static makeVersionInfoBits(n,r){r.appendBits(n.getVersionNumber(),6);const s=he.calculateBCHCode(n.getVersionNumber(),he.VERSION_INFO_POLY);if(r.appendBits(s,12),r.getSize()!==18)throw new ze("should not happen but we got: "+r.getSize())}static isEmpty(n){return n===255}static embedTimingPatterns(n){for(let r=8;r<n.getWidth()-8;++r){const s=(r+1)%2;he.isEmpty(n.get(r,6))&&n.setNumber(r,6,s),he.isEmpty(n.get(6,r))&&n.setNumber(6,r,s)}}static embedDarkDotAtLeftBottomCorner(n){if(n.get(8,n.getHeight()-8)===0)throw new ze;n.setNumber(8,n.getHeight()-8,1)}static embedHorizontalSeparationPattern(n,r,s){for(let a=0;a<8;++a){if(!he.isEmpty(s.get(n+a,r)))throw new ze;s.setNumber(n+a,r,0)}}static embedVerticalSeparationPattern(n,r,s){for(let a=0;a<7;++a){if(!he.isEmpty(s.get(n,r+a)))throw new ze;s.setNumber(n,r+a,0)}}static embedPositionAdjustmentPattern(n,r,s){for(let a=0;a<5;++a){const l=he.POSITION_ADJUSTMENT_PATTERN[a];for(let u=0;u<5;++u)s.setNumber(n+u,r+a,l[u])}}static embedPositionDetectionPattern(n,r,s){for(let a=0;a<7;++a){const l=he.POSITION_DETECTION_PATTERN[a];for(let u=0;u<7;++u)s.setNumber(n+u,r+a,l[u])}}static embedPositionDetectionPatternsAndSeparators(n){const r=he.POSITION_DETECTION_PATTERN[0].length;he.embedPositionDetectionPattern(0,0,n),he.embedPositionDetectionPattern(n.getWidth()-r,0,n),he.embedPositionDetectionPattern(0,n.getWidth()-r,n);const s=8;he.embedHorizontalSeparationPattern(0,s-1,n),he.embedHorizontalSeparationPattern(n.getWidth()-s,s-1,n),he.embedHorizontalSeparationPattern(0,n.getWidth()-s,n);const a=7;he.embedVerticalSeparationPattern(a,0,n),he.embedVerticalSeparationPattern(n.getHeight()-a-1,0,n),he.embedVerticalSeparationPattern(a,n.getHeight()-a,n)}static maybeEmbedPositionAdjustmentPatterns(n,r){if(n.getVersionNumber()<2)return;const s=n.getVersionNumber()-1,a=he.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[s];for(let l=0,u=a.length;l!==u;l++){const f=a[l];if(f>=0)for(let h=0;h!==u;h++){const p=a[h];p>=0&&he.isEmpty(r.get(p,f))&&he.embedPositionAdjustmentPattern(p-2,f-2,r)}}}}he.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),he.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),he.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),he.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),he.VERSION_INFO_POLY=7973,he.TYPE_INFO_POLY=1335,he.TYPE_INFO_MASK_PATTERN=21522;class Zg{constructor(n,r){this.dataBytes=n,this.errorCorrectionBytes=r}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Qe{constructor(){}static calculateMaskPenalty(n){return ut.applyMaskPenaltyRule1(n)+ut.applyMaskPenaltyRule2(n)+ut.applyMaskPenaltyRule3(n)+ut.applyMaskPenaltyRule4(n)}static encode(n,r,s=null){let a=Qe.DEFAULT_BYTE_MODE_ENCODING;const l=s!==null&&s.get(yt.CHARACTER_SET)!==void 0;l&&(a=s.get(yt.CHARACTER_SET).toString());const u=this.chooseMode(n,a),f=new z;if(u===fe.BYTE&&(l||Qe.DEFAULT_BYTE_MODE_ENCODING!==a)){const ee=Y.getCharacterSetECIByName(a);ee!==void 0&&this.appendECI(ee,f)}this.appendModeInfo(u,f);const h=new z;this.appendBytes(n,u,h,a);let p;if(s!==null&&s.get(yt.QR_VERSION)!==void 0){const ee=Number.parseInt(s.get(yt.QR_VERSION).toString(),10);p=ue.getVersionForNumber(ee);const Q=this.calculateBitsNeeded(u,f,h,p);if(!this.willFit(Q,p,r))throw new ze("Data too big for requested version")}else p=this.recommendVersion(r,u,f,h);const C=new z;C.appendBitArray(f);const A=u===fe.BYTE?h.getSizeInBytes():n.length;this.appendLengthInfo(A,p,u,C),C.appendBitArray(h);const I=p.getECBlocksForLevel(r),_=p.getTotalCodewords()-I.getTotalECCodewords();this.terminateBits(_,C);const D=this.interleaveWithECBytes(C,p.getTotalCodewords(),_,I.getNumBlocks()),P=new ri;P.setECLevel(r),P.setMode(u),P.setVersion(p);const F=p.getDimensionForVersion(),W=new Bo(F,F),q=this.chooseMaskPattern(D,r,p,W);return P.setMaskPattern(q),he.buildMatrix(D,r,p,q,W),P.setMatrix(W),P}static recommendVersion(n,r,s,a){const l=this.calculateBitsNeeded(r,s,a,ue.getVersionForNumber(1)),u=this.chooseVersion(l,n),f=this.calculateBitsNeeded(r,s,a,u);return this.chooseVersion(f,n)}static calculateBitsNeeded(n,r,s,a){return r.getSize()+n.getCharacterCountBits(a)+s.getSize()}static getAlphanumericCode(n){return n<Qe.ALPHANUMERIC_TABLE.length?Qe.ALPHANUMERIC_TABLE[n]:-1}static chooseMode(n,r=null){if(Y.SJIS.getName()===r&&this.isOnlyDoubleByteKanji(n))return fe.KANJI;let s=!1,a=!1;for(let l=0,u=n.length;l<u;++l){const f=n.charAt(l);if(Qe.isDigit(f))s=!0;else if(this.getAlphanumericCode(f.charCodeAt(0))!==-1)a=!0;else return fe.BYTE}return a?fe.ALPHANUMERIC:s?fe.NUMERIC:fe.BYTE}static isOnlyDoubleByteKanji(n){let r;try{r=Te.encode(n,Y.SJIS)}catch{return!1}const s=r.length;if(s%2!==0)return!1;for(let a=0;a<s;a+=2){const l=r[a]&255;if((l<129||l>159)&&(l<224||l>235))return!1}return!0}static chooseMaskPattern(n,r,s,a){let l=Number.MAX_SAFE_INTEGER,u=-1;for(let f=0;f<ri.NUM_MASK_PATTERNS;f++){he.buildMatrix(n,r,s,f,a);let h=this.calculateMaskPenalty(a);h<l&&(l=h,u=f)}return u}static chooseVersion(n,r){for(let s=1;s<=40;s++){const a=ue.getVersionForNumber(s);if(Qe.willFit(n,a,r))return a}throw new ze("Data too big")}static willFit(n,r,s){const a=r.getTotalCodewords(),u=r.getECBlocksForLevel(s).getTotalECCodewords(),f=a-u,h=(n+7)/8;return f>=h}static terminateBits(n,r){const s=n*8;if(r.getSize()>s)throw new ze("data bits cannot fit in the QR Code"+r.getSize()+" > "+s);for(let u=0;u<4&&r.getSize()<s;++u)r.appendBit(!1);const a=r.getSize()&7;if(a>0)for(let u=a;u<8;u++)r.appendBit(!1);const l=n-r.getSizeInBytes();for(let u=0;u<l;++u)r.appendBits(u&1?17:236,8);if(r.getSize()!==s)throw new ze("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(n,r,s,a,l,u){if(a>=s)throw new ze("Block ID too large");const f=n%s,h=s-f,p=Math.floor(n/s),C=p+1,A=Math.floor(r/s),I=A+1,_=p-A,D=C-I;if(_!==D)throw new ze("EC bytes mismatch");if(s!==h+f)throw new ze("RS blocks mismatch");if(n!==(A+_)*h+(I+D)*f)throw new ze("Total bytes mismatch");a<h?(l[0]=A,u[0]=_):(l[0]=I,u[0]=D)}static interleaveWithECBytes(n,r,s,a){if(n.getSizeInBytes()!==s)throw new ze("Number of bits and data bytes does not match");let l=0,u=0,f=0;const h=new Array;for(let C=0;C<a;++C){const A=new Int32Array(1),I=new Int32Array(1);Qe.getNumDataBytesAndNumECBytesForBlockID(r,s,a,C,A,I);const _=A[0],D=new Uint8Array(_);n.toBytes(8*l,D,0,_);const P=Qe.generateECBytes(D,I[0]);h.push(new Zg(D,P)),u=Math.max(u,_),f=Math.max(f,P.length),l+=A[0]}if(s!==l)throw new ze("Data bytes does not match offset");const p=new z;for(let C=0;C<u;++C)for(const A of h){const I=A.getDataBytes();C<I.length&&p.appendBits(I[C],8)}for(let C=0;C<f;++C)for(const A of h){const I=A.getErrorCorrectionBytes();C<I.length&&p.appendBits(I[C],8)}if(r!==p.getSizeInBytes())throw new ze("Interleaving error: "+r+" and "+p.getSizeInBytes()+" differ.");return p}static generateECBytes(n,r){const s=n.length,a=new Int32Array(s+r);for(let u=0;u<s;u++)a[u]=n[u]&255;new Il(Re.QR_CODE_FIELD_256).encode(a,r);const l=new Uint8Array(r);for(let u=0;u<r;u++)l[u]=a[s+u];return l}static appendModeInfo(n,r){r.appendBits(n.getBits(),4)}static appendLengthInfo(n,r,s,a){const l=s.getCharacterCountBits(r);if(n>=1<<l)throw new ze(n+" is bigger than "+((1<<l)-1));a.appendBits(n,l)}static appendBytes(n,r,s,a){switch(r){case fe.NUMERIC:Qe.appendNumericBytes(n,s);break;case fe.ALPHANUMERIC:Qe.appendAlphanumericBytes(n,s);break;case fe.BYTE:Qe.append8BitBytes(n,s,a);break;case fe.KANJI:Qe.appendKanjiBytes(n,s);break;default:throw new ze("Invalid mode: "+r)}}static getDigit(n){return n.charCodeAt(0)-48}static isDigit(n){const r=Qe.getDigit(n);return r>=0&&r<=9}static appendNumericBytes(n,r){const s=n.length;let a=0;for(;a<s;){const l=Qe.getDigit(n.charAt(a));if(a+2<s){const u=Qe.getDigit(n.charAt(a+1)),f=Qe.getDigit(n.charAt(a+2));r.appendBits(l*100+u*10+f,10),a+=3}else if(a+1<s){const u=Qe.getDigit(n.charAt(a+1));r.appendBits(l*10+u,7),a+=2}else r.appendBits(l,4),a++}}static appendAlphanumericBytes(n,r){const s=n.length;let a=0;for(;a<s;){const l=Qe.getAlphanumericCode(n.charCodeAt(a));if(l===-1)throw new ze;if(a+1<s){const u=Qe.getAlphanumericCode(n.charCodeAt(a+1));if(u===-1)throw new ze;r.appendBits(l*45+u,11),a+=2}else r.appendBits(l,6),a++}}static append8BitBytes(n,r,s){let a;try{a=Te.encode(n,s)}catch(l){throw new ze(l)}for(let l=0,u=a.length;l!==u;l++){const f=a[l];r.appendBits(f,8)}}static appendKanjiBytes(n,r){let s;try{s=Te.encode(n,Y.SJIS)}catch(l){throw new ze(l)}const a=s.length;for(let l=0;l<a;l+=2){const u=s[l]&255,f=s[l+1]&255,h=u<<8&4294967295|f;let p=-1;if(h>=33088&&h<=40956?p=h-33088:h>=57408&&h<=60351&&(p=h-49472),p===-1)throw new ze("Invalid byte sequence");const C=(p>>8)*192+(p&255);r.appendBits(C,13)}}static appendECI(n,r){r.appendBits(fe.ECI.getBits(),4),r.appendBits(n.getValue(),8)}}Qe.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Qe.DEFAULT_BYTE_MODE_ENCODING=Y.UTF8.getName();class ii{write(n,r,s,a=null){if(n.length===0)throw new S("Found empty contents");if(r<0||s<0)throw new S("Requested dimensions are too small: "+r+"x"+s);let l=Ye.L,u=ii.QUIET_ZONE_SIZE;a!==null&&(a.get(yt.ERROR_CORRECTION)!==void 0&&(l=Ye.fromString(a.get(yt.ERROR_CORRECTION).toString())),a.get(yt.MARGIN)!==void 0&&(u=Number.parseInt(a.get(yt.MARGIN).toString(),10)));const f=Qe.encode(n,l,a);return this.renderResult(f,r,s,u)}writeToDom(n,r,s,a,l=null){typeof n=="string"&&(n=document.querySelector(n));const u=this.write(r,s,a,l);n&&n.appendChild(u)}renderResult(n,r,s,a){const l=n.getMatrix();if(l===null)throw new Gn;const u=l.getWidth(),f=l.getHeight(),h=u+a*2,p=f+a*2,C=Math.max(r,h),A=Math.max(s,p),I=Math.min(Math.floor(C/h),Math.floor(A/p)),_=Math.floor((C-u*I)/2),D=Math.floor((A-f*I)/2),P=this.createSVGElement(C,A);for(let F=0,W=D;F<f;F++,W+=I)for(let q=0,ee=_;q<u;q++,ee+=I)if(l.get(q,F)===1){const Q=this.createSvgRectElement(ee,W,I,I);P.appendChild(Q)}return P}createSVGElement(n,r){const s=document.createElementNS(ii.SVG_NS,"svg");return s.setAttributeNS(null,"height",n.toString()),s.setAttributeNS(null,"width",r.toString()),s}createSvgRectElement(n,r,s,a){const l=document.createElementNS(ii.SVG_NS,"rect");return l.setAttributeNS(null,"x",n.toString()),l.setAttributeNS(null,"y",r.toString()),l.setAttributeNS(null,"height",s.toString()),l.setAttributeNS(null,"width",a.toString()),l.setAttributeNS(null,"fill","#000000"),l}}ii.QUIET_ZONE_SIZE=4,ii.SVG_NS="http://www.w3.org/2000/svg";class bi{encode(n,r,s,a,l){if(n.length===0)throw new S("Found empty contents");if(r!==le.QR_CODE)throw new S("Can only encode QR_CODE, but got "+r);if(s<0||a<0)throw new S(`Requested dimensions are too small: ${s}x${a}`);let u=Ye.L,f=bi.QUIET_ZONE_SIZE;l!==null&&(l.get(yt.ERROR_CORRECTION)!==void 0&&(u=Ye.fromString(l.get(yt.ERROR_CORRECTION).toString())),l.get(yt.MARGIN)!==void 0&&(f=Number.parseInt(l.get(yt.MARGIN).toString(),10)));const h=Qe.encode(n,u,l);return bi.renderResult(h,s,a,f)}static renderResult(n,r,s,a){const l=n.getMatrix();if(l===null)throw new Gn;const u=l.getWidth(),f=l.getHeight(),h=u+a*2,p=f+a*2,C=Math.max(r,h),A=Math.max(s,p),I=Math.min(Math.floor(C/h),Math.floor(A/p)),_=Math.floor((C-u*I)/2),D=Math.floor((A-f*I)/2),P=new He(C,A);for(let F=0,W=D;F<f;F++,W+=I)for(let q=0,ee=_;q<u;q++,ee+=I)l.get(q,F)===1&&P.setRegion(ee,W,I,I);return P}}bi.QUIET_ZONE_SIZE=4;class Kg{encode(n,r,s,a,l){let u;switch(r){case le.QR_CODE:u=new bi;break;default:throw new S("No encoder available for format "+r)}return u.encode(n,r,s,a,l)}}class Zn extends re{constructor(n,r,s,a,l,u,f,h){if(super(u,f),this.yuvData=n,this.dataWidth=r,this.dataHeight=s,this.left=a,this.top=l,a+u>r||l+f>s)throw new S("Crop rectangle does not fit within image data.");h&&this.reverseHorizontal(u,f)}getRow(n,r){if(n<0||n>=this.getHeight())throw new S("Requested row is outside the image: "+n);const s=this.getWidth();(r==null||r.length<s)&&(r=new Uint8ClampedArray(s));const a=(n+this.top)*this.dataWidth+this.left;return O.arraycopy(this.yuvData,a,r,0,s),r}getMatrix(){const n=this.getWidth(),r=this.getHeight();if(n===this.dataWidth&&r===this.dataHeight)return this.yuvData;const s=n*r,a=new Uint8ClampedArray(s);let l=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return O.arraycopy(this.yuvData,l,a,0,s),a;for(let u=0;u<r;u++){const f=u*n;O.arraycopy(this.yuvData,l,a,f,n),l+=this.dataWidth}return a}isCropSupported(){return!0}crop(n,r,s,a){return new Zn(this.yuvData,this.dataWidth,this.dataHeight,this.left+n,this.top+r,s,a,!1)}renderThumbnail(){const n=this.getWidth()/Zn.THUMBNAIL_SCALE_FACTOR,r=this.getHeight()/Zn.THUMBNAIL_SCALE_FACTOR,s=new Int32Array(n*r),a=this.yuvData;let l=this.top*this.dataWidth+this.left;for(let u=0;u<r;u++){const f=u*n;for(let h=0;h<n;h++){const p=a[l+h*Zn.THUMBNAIL_SCALE_FACTOR]&255;s[f+h]=4278190080|p*65793}l+=this.dataWidth*Zn.THUMBNAIL_SCALE_FACTOR}return s}getThumbnailWidth(){return this.getWidth()/Zn.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Zn.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(n,r){const s=this.yuvData;for(let a=0,l=this.top*this.dataWidth+this.left;a<r;a++,l+=this.dataWidth){const u=l+n/2;for(let f=l,h=l+n-1;f<u;f++,h--){const p=s[f];s[f]=s[h],s[h]=p}}}invert(){return new ce(this)}}Zn.THUMBNAIL_SCALE_FACTOR=2;class Nl extends re{constructor(n,r,s,a,l,u,f){if(super(r,s),this.dataWidth=a,this.dataHeight=l,this.left=u,this.top=f,n.BYTES_PER_ELEMENT===4){const h=r*s,p=new Uint8ClampedArray(h);for(let C=0;C<h;C++){const A=n[C],I=A>>16&255,_=A>>7&510,D=A&255;p[C]=(I+_+D)/4&255}this.luminances=p}else this.luminances=n;if(a===void 0&&(this.dataWidth=r),l===void 0&&(this.dataHeight=s),u===void 0&&(this.left=0),f===void 0&&(this.top=0),this.left+r>this.dataWidth||this.top+s>this.dataHeight)throw new S("Crop rectangle does not fit within image data.")}getRow(n,r){if(n<0||n>=this.getHeight())throw new S("Requested row is outside the image: "+n);const s=this.getWidth();(r==null||r.length<s)&&(r=new Uint8ClampedArray(s));const a=(n+this.top)*this.dataWidth+this.left;return O.arraycopy(this.luminances,a,r,0,s),r}getMatrix(){const n=this.getWidth(),r=this.getHeight();if(n===this.dataWidth&&r===this.dataHeight)return this.luminances;const s=n*r,a=new Uint8ClampedArray(s);let l=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return O.arraycopy(this.luminances,l,a,0,s),a;for(let u=0;u<r;u++){const f=u*n;O.arraycopy(this.luminances,l,a,f,n),l+=this.dataWidth}return a}isCropSupported(){return!0}crop(n,r,s,a){return new Nl(this.luminances,s,a,this.dataWidth,this.dataHeight,this.left+n,this.top+r)}invert(){return new ce(this)}}class Md extends Y{static forName(n){return this.getCharacterSetECIByName(n)}}class Tl{}Tl.ISO_8859_1=Y.ISO8859_1;class Rd{isCompact(){return this.compact}setCompact(n){this.compact=n}getSize(){return this.size}setSize(n){this.size=n}getLayers(){return this.layers}setLayers(n){this.layers=n}getCodeWords(){return this.codeWords}setCodeWords(n){this.codeWords=n}getMatrix(){return this.matrix}setMatrix(n){this.matrix=n}}class Od{static singletonList(n){return[n]}static min(n,r){return n.sort(r)[0]}}class qg{constructor(n){this.previous=n}getPrevious(){return this.previous}}class _i extends qg{constructor(n,r,s){super(n),this.value=r,this.bitCount=s}appendTo(n,r){n.appendBits(this.value,this.bitCount)}add(n,r){return new _i(this,n,r)}addBinaryShift(n,r){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new _i(this,n,r)}toString(){let n=this.value&(1<<this.bitCount)-1;return n|=1<<this.bitCount,"<"+M.toBinaryString(n|1<<this.bitCount).substring(1)+">"}}class bl extends _i{constructor(n,r,s){super(n,0,0),this.binaryShiftStart=r,this.binaryShiftByteCount=s}appendTo(n,r){for(let s=0;s<this.binaryShiftByteCount;s++)(s===0||s===31&&this.binaryShiftByteCount<=62)&&(n.appendBits(31,5),this.binaryShiftByteCount>62?n.appendBits(this.binaryShiftByteCount-31,16):s===0?n.appendBits(Math.min(this.binaryShiftByteCount,31),5):n.appendBits(this.binaryShiftByteCount-31,5)),n.appendBits(r[this.binaryShiftStart+s],8)}addBinaryShift(n,r){return new bl(this,n,r)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function $g(v,n,r){return new bl(v,n,r)}function Ns(v,n,r){return new _i(v,n,r)}const Jg=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],br=0,Fo=1,vn=2,Dd=3,Kn=4,ep=new _i(null,0,0),_l=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,655360+928+30]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,917504+14336+928+30]),Int32Array.from([(5<<16)+29,(5<<16)+28,655360+928+30,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,655360+992+28,655360+992+30,655360+992+29,0])];function tp(v){for(let n of v)b.fill(n,-1);return v[br][Kn]=0,v[Fo][Kn]=0,v[Fo][br]=28,v[Dd][Kn]=0,v[vn][Kn]=0,v[vn][br]=15,v}const kd=tp(b.createInt32Array(6,6));class qn{constructor(n,r,s,a){this.token=n,this.mode=r,this.binaryShiftByteCount=s,this.bitCount=a}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(n,r){let s=this.bitCount,a=this.token;if(n!==this.mode){let u=_l[this.mode][n];a=Ns(a,u&65535,u>>16),s+=u>>16}let l=n===vn?4:5;return a=Ns(a,r,l),new qn(a,n,0,s+l)}shiftAndAppend(n,r){let s=this.token,a=this.mode===vn?4:5;return s=Ns(s,kd[this.mode][n],a),s=Ns(s,r,5),new qn(s,this.mode,0,this.bitCount+a+5)}addBinaryShiftChar(n){let r=this.token,s=this.mode,a=this.bitCount;if(this.mode===Kn||this.mode===vn){let f=_l[s][br];r=Ns(r,f&65535,f>>16),a+=f>>16,s=br}let l=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,u=new qn(r,s,this.binaryShiftByteCount+1,a+l);return u.binaryShiftByteCount===2047+31&&(u=u.endBinaryShift(n+1)),u}endBinaryShift(n){if(this.binaryShiftByteCount===0)return this;let r=this.token;return r=$g(r,n-this.binaryShiftByteCount,this.binaryShiftByteCount),new qn(r,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(n){let r=this.bitCount+(_l[this.mode][n.mode]>>16);return this.binaryShiftByteCount<n.binaryShiftByteCount?r+=qn.calculateBinaryShiftCost(n)-qn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>n.binaryShiftByteCount&&n.binaryShiftByteCount>0&&(r+=10),r<=n.bitCount}toBitArray(n){let r=[];for(let a=this.endBinaryShift(n.length).token;a!==null;a=a.getPrevious())r.unshift(a);let s=new z;for(const a of r)a.appendTo(s,n);return s}toString(){return ne.format("%s bits=%d bytes=%d",Jg[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(n){return n.binaryShiftByteCount>62?21:n.binaryShiftByteCount>31?20:n.binaryShiftByteCount>0?10:0}}qn.INITIAL_STATE=new qn(ep,br,0,0);function np(v){const n=ne.getCharCode(" "),r=ne.getCharCode("."),s=ne.getCharCode(",");v[br][n]=1;const a=ne.getCharCode("Z"),l=ne.getCharCode("A");for(let I=l;I<=a;I++)v[br][I]=I-l+2;v[Fo][n]=1;const u=ne.getCharCode("z"),f=ne.getCharCode("a");for(let I=f;I<=u;I++)v[Fo][I]=I-f+2;v[vn][n]=1;const h=ne.getCharCode("9"),p=ne.getCharCode("0");for(let I=p;I<=h;I++)v[vn][I]=I-p+2;v[vn][s]=12,v[vn][r]=13;const C=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let I=0;I<C.length;I++)v[Dd][ne.getCharCode(C[I])]=I;const A=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let I=0;I<A.length;I++)ne.getCharCode(A[I])>0&&(v[Kn][ne.getCharCode(A[I])]=I);return v}const Ml=np(b.createInt32Array(5,256));class Ts{constructor(n){this.text=n}encode(){const n=ne.getCharCode(" "),r=ne.getCharCode(`
`);let s=Od.singletonList(qn.INITIAL_STATE);for(let l=0;l<this.text.length;l++){let u,f=l+1<this.text.length?this.text[l+1]:0;switch(this.text[l]){case ne.getCharCode("\r"):u=f===r?2:0;break;case ne.getCharCode("."):u=f===n?3:0;break;case ne.getCharCode(","):u=f===n?4:0;break;case ne.getCharCode(":"):u=f===n?5:0;break;default:u=0}u>0?(s=Ts.updateStateListForPair(s,l,u),l++):s=this.updateStateListForChar(s,l)}return Od.min(s,(l,u)=>l.getBitCount()-u.getBitCount()).toBitArray(this.text)}updateStateListForChar(n,r){const s=[];for(let a of n)this.updateStateForChar(a,r,s);return Ts.simplifyStates(s)}updateStateForChar(n,r,s){let a=this.text[r]&255,l=Ml[n.getMode()][a]>0,u=null;for(let f=0;f<=Kn;f++){let h=Ml[f][a];if(h>0){if(u==null&&(u=n.endBinaryShift(r)),!l||f===n.getMode()||f===vn){const p=u.latchAndAppend(f,h);s.push(p)}if(!l&&kd[n.getMode()][f]>=0){const p=u.shiftAndAppend(f,h);s.push(p)}}}if(n.getBinaryShiftByteCount()>0||Ml[n.getMode()][a]===0){let f=n.addBinaryShiftChar(r);s.push(f)}}static updateStateListForPair(n,r,s){const a=[];for(let l of n)this.updateStateForPair(l,r,s,a);return this.simplifyStates(a)}static updateStateForPair(n,r,s,a){let l=n.endBinaryShift(r);if(a.push(l.latchAndAppend(Kn,s)),n.getMode()!==Kn&&a.push(l.shiftAndAppend(Kn,s)),s===3||s===4){let u=l.latchAndAppend(vn,16-s).latchAndAppend(vn,1);a.push(u)}if(n.getBinaryShiftByteCount()>0){let u=n.addBinaryShiftChar(r).addBinaryShiftChar(r+1);a.push(u)}}static simplifyStates(n){let r=[];for(const s of n){let a=!0;for(const l of r){if(l.isBetterThanOrEqualTo(s)){a=!1;break}s.isBetterThanOrEqualTo(l)&&(r=r.filter(u=>u!==l))}a&&r.push(s)}return r}}class _e{constructor(){}static encodeBytes(n){return _e.encode(n,_e.DEFAULT_EC_PERCENT,_e.DEFAULT_AZTEC_LAYERS)}static encode(n,r,s){let a=new Ts(n).encode(),l=M.truncDivision(a.getSize()*r,100)+11,u=a.getSize()+l,f,h,p,C,A;if(s!==_e.DEFAULT_AZTEC_LAYERS){if(f=s<0,h=Math.abs(s),h>(f?_e.MAX_NB_BITS_COMPACT:_e.MAX_NB_BITS))throw new S(ne.format("Illegal value %s for layers",s));p=_e.totalBitsInLayer(h,f),C=_e.WORD_SIZE[h];let Q=p-p%C;if(A=_e.stuffBits(a,C),A.getSize()+l>Q)throw new S("Data to large for user specified layer");if(f&&A.getSize()>C*64)throw new S("Data to large for user specified layer")}else{C=0,A=null;for(let Q=0;;Q++){if(Q>_e.MAX_NB_BITS)throw new S("Data too large for an Aztec code");if(f=Q<=3,h=f?Q+1:Q,p=_e.totalBitsInLayer(h,f),u>p)continue;(A==null||C!==_e.WORD_SIZE[h])&&(C=_e.WORD_SIZE[h],A=_e.stuffBits(a,C));let Se=p-p%C;if(!(f&&A.getSize()>C*64)&&A.getSize()+l<=Se)break}}let I=_e.generateCheckWords(A,p,C),_=A.getSize()/C,D=_e.generateModeMessage(f,h,_),P=(f?11:14)+h*4,F=new Int32Array(P),W;if(f){W=P;for(let Q=0;Q<F.length;Q++)F[Q]=Q}else{W=P+1+2*M.truncDivision(M.truncDivision(P,2)-1,15);let Q=M.truncDivision(P,2),Se=M.truncDivision(W,2);for(let xe=0;xe<Q;xe++){let Jt=xe+M.truncDivision(xe,15);F[Q-xe-1]=Se-Jt-1,F[Q+xe]=Se+Jt+1}}let q=new He(W);for(let Q=0,Se=0;Q<h;Q++){let xe=(h-Q)*4+(f?9:12);for(let Jt=0;Jt<xe;Jt++){let kn=Jt*2;for(let en=0;en<2;en++)I.get(Se+kn+en)&&q.set(F[Q*2+en],F[Q*2+Jt]),I.get(Se+xe*2+kn+en)&&q.set(F[Q*2+Jt],F[P-1-Q*2-en]),I.get(Se+xe*4+kn+en)&&q.set(F[P-1-Q*2-en],F[P-1-Q*2-Jt]),I.get(Se+xe*6+kn+en)&&q.set(F[P-1-Q*2-Jt],F[Q*2+en])}Se+=xe*8}if(_e.drawModeMessage(q,f,W,D),f)_e.drawBullsEye(q,M.truncDivision(W,2),5);else{_e.drawBullsEye(q,M.truncDivision(W,2),7);for(let Q=0,Se=0;Q<M.truncDivision(P,2)-1;Q+=15,Se+=16)for(let xe=M.truncDivision(W,2)&1;xe<W;xe+=2)q.set(M.truncDivision(W,2)-Se,xe),q.set(M.truncDivision(W,2)+Se,xe),q.set(xe,M.truncDivision(W,2)-Se),q.set(xe,M.truncDivision(W,2)+Se)}let ee=new Rd;return ee.setCompact(f),ee.setSize(W),ee.setLayers(h),ee.setCodeWords(_),ee.setMatrix(q),ee}static drawBullsEye(n,r,s){for(let a=0;a<s;a+=2)for(let l=r-a;l<=r+a;l++)n.set(l,r-a),n.set(l,r+a),n.set(r-a,l),n.set(r+a,l);n.set(r-s,r-s),n.set(r-s+1,r-s),n.set(r-s,r-s+1),n.set(r+s,r-s),n.set(r+s,r-s+1),n.set(r+s,r+s-1)}static generateModeMessage(n,r,s){let a=new z;return n?(a.appendBits(r-1,2),a.appendBits(s-1,6),a=_e.generateCheckWords(a,28,4)):(a.appendBits(r-1,5),a.appendBits(s-1,11),a=_e.generateCheckWords(a,40,4)),a}static drawModeMessage(n,r,s,a){let l=M.truncDivision(s,2);if(r)for(let u=0;u<7;u++){let f=l-3+u;a.get(u)&&n.set(f,l-5),a.get(u+7)&&n.set(l+5,f),a.get(20-u)&&n.set(f,l+5),a.get(27-u)&&n.set(l-5,f)}else for(let u=0;u<10;u++){let f=l-5+u+M.truncDivision(u,5);a.get(u)&&n.set(f,l-7),a.get(u+10)&&n.set(l+7,f),a.get(29-u)&&n.set(f,l+7),a.get(39-u)&&n.set(l-7,f)}}static generateCheckWords(n,r,s){let a=n.getSize()/s,l=new Il(_e.getGF(s)),u=M.truncDivision(r,s),f=_e.bitsToWords(n,s,u);l.encode(f,u-a);let h=r%s,p=new z;p.appendBits(0,h);for(const C of Array.from(f))p.appendBits(C,s);return p}static bitsToWords(n,r,s){let a=new Int32Array(s),l,u;for(l=0,u=n.getSize()/r;l<u;l++){let f=0;for(let h=0;h<r;h++)f|=n.get(l*r+h)?1<<r-h-1:0;a[l]=f}return a}static getGF(n){switch(n){case 4:return Re.AZTEC_PARAM;case 6:return Re.AZTEC_DATA_6;case 8:return Re.AZTEC_DATA_8;case 10:return Re.AZTEC_DATA_10;case 12:return Re.AZTEC_DATA_12;default:throw new S("Unsupported word size "+n)}}static stuffBits(n,r){let s=new z,a=n.getSize(),l=(1<<r)-2;for(let u=0;u<a;u+=r){let f=0;for(let h=0;h<r;h++)(u+h>=a||n.get(u+h))&&(f|=1<<r-1-h);(f&l)===l?(s.appendBits(f&l,r),u--):f&l?s.appendBits(f,r):(s.appendBits(f|1,r),u--)}return s}static totalBitsInLayer(n,r){return((r?88:112)+16*n)*n}}_e.DEFAULT_EC_PERCENT=33,_e.DEFAULT_AZTEC_LAYERS=0,_e.MAX_NB_BITS=32,_e.MAX_NB_BITS_COMPACT=4,_e.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class jo{encode(n,r,s,a){return this.encodeWithHints(n,r,s,a,null)}encodeWithHints(n,r,s,a,l){let u=Tl.ISO_8859_1,f=_e.DEFAULT_EC_PERCENT,h=_e.DEFAULT_AZTEC_LAYERS;return l!=null&&(l.has(yt.CHARACTER_SET)&&(u=Md.forName(l.get(yt.CHARACTER_SET).toString())),l.has(yt.ERROR_CORRECTION)&&(f=M.parseInt(l.get(yt.ERROR_CORRECTION).toString())),l.has(yt.AZTEC_LAYERS)&&(h=M.parseInt(l.get(yt.AZTEC_LAYERS).toString()))),jo.encodeLayers(n,r,s,a,u,f,h)}static encodeLayers(n,r,s,a,l,u,f){if(r!==le.AZTEC)throw new S("Can only encode AZTEC, but got "+r);let h=_e.encode(ne.getBytes(n,l),u,f);return jo.renderResult(h,s,a)}static renderResult(n,r,s){let a=n.getMatrix();if(a==null)throw new Gn;let l=a.getWidth(),u=a.getHeight(),f=Math.max(r,l),h=Math.max(s,u),p=Math.min(f/l,h/u),C=(f-l*p)/2,A=(h-u*p)/2,I=new He(f,h);for(let _=0,D=A;_<u;_++,D+=p)for(let P=0,F=C;P<l;P++,F+=p)a.get(P,_)&&I.setRegion(F,D,p,p);return I}}i.AbstractExpandedDecoder=pl,i.ArgumentException=E,i.ArithmeticException=To,i.AztecCode=Rd,i.AztecCodeReader=Mo,i.AztecCodeWriter=jo,i.AztecDecoder=Ge,i.AztecDetector=xd,i.AztecDetectorResult=pd,i.AztecEncoder=_e,i.AztecHighLevelEncoder=Ts,i.AztecPoint=Vt,i.BarcodeFormat=le,i.Binarizer=B,i.BinaryBitmap=R,i.BitArray=z,i.BitMatrix=He,i.BitSource=yl,i.BrowserAztecCodeReader=bg,i.BrowserBarcodeReader=Dg,i.BrowserCodeReader=We,i.BrowserDatamatrixCodeReader=Lg,i.BrowserMultiFormatReader=Yg,i.BrowserPDF417Reader=Xg,i.BrowserQRCodeReader=Qg,i.BrowserQRCodeSvgWriter=ii,i.CharacterSetECI=Y,i.ChecksumException=k,i.Code128Reader=te,i.Code39Reader=xt,i.DataMatrixDecodedBitStreamParser=Sr,i.DataMatrixReader=Ir,i.DecodeHintType=Z,i.DecoderResult=ms,i.DefaultGridSampler=md,i.DetectorResult=_o,i.EAN13Reader=Jr,i.EncodeHintType=yt,i.Exception=m,i.FormatException=V,i.GenericGF=Re,i.GenericGFPoly=Zt,i.GlobalHistogramBinarizer=je,i.GridSampler=dl,i.GridSamplerInstance=vr,i.HTMLCanvasElementLuminanceSource=ge,i.HybridBinarizer=me,i.ITFReader=Ue,i.IllegalArgumentException=S,i.IllegalStateException=Gn,i.InvertedLuminanceSource=ce,i.LuminanceSource=re,i.MathUtils=be,i.MultiFormatOneDReader=Ni,i.MultiFormatReader=_d,i.MultiFormatWriter=Kg,i.NotFoundException=G,i.OneDReader=pt,i.PDF417DecodedBitStreamParser=H,i.PDF417DecoderErrorCorrection=Ad,i.PDF417Reader=Mt,i.PDF417ResultMetadata=Id,i.PerspectiveTransform=On,i.PlanarYUVLuminanceSource=Zn,i.QRCodeByteMatrix=Bo,i.QRCodeDataMask=Cn,i.QRCodeDecodedBitStreamParser=rt,i.QRCodeDecoderErrorCorrectionLevel=Ye,i.QRCodeDecoderFormatInformation=Bt,i.QRCodeEncoder=Qe,i.QRCodeEncoderQRCode=ri,i.QRCodeMaskUtil=ut,i.QRCodeMatrixUtil=he,i.QRCodeMode=fe,i.QRCodeReader=Nr,i.QRCodeVersion=ue,i.QRCodeWriter=bi,i.RGBLuminanceSource=Nl,i.RSS14Reader=ct,i.RSSExpandedReader=X,i.ReaderException=Po,i.ReedSolomonDecoder=ws,i.ReedSolomonEncoder=Il,i.ReedSolomonException=vi,i.Result=nt,i.ResultMetadataType=vt,i.ResultPoint=ae,i.StringUtils=ne,i.UnsupportedOperationException=de,i.VideoInputDevice=ke,i.WhiteRectangleDetector=ar,i.WriterException=ze,i.ZXingArrays=b,i.ZXingCharset=Md,i.ZXingInteger=M,i.ZXingStandardCharsets=Tl,i.ZXingStringBuilder=ve,i.ZXingStringEncoding=Te,i.ZXingSystem=O,i.createAbstractExpandedDecoder=Ed,Object.defineProperty(i,"__esModule",{value:!0})})})(lu,lu.exports);var qe=lu.exports;const Xy=vf(qe),Qy=sp({__proto__:null,default:Xy},[qe]);var uf=function(){function e(t,i,o){if(this.formatMap=new Map([[se.QR_CODE,qe.BarcodeFormat.QR_CODE],[se.AZTEC,qe.BarcodeFormat.AZTEC],[se.CODABAR,qe.BarcodeFormat.CODABAR],[se.CODE_39,qe.BarcodeFormat.CODE_39],[se.CODE_93,qe.BarcodeFormat.CODE_93],[se.CODE_128,qe.BarcodeFormat.CODE_128],[se.DATA_MATRIX,qe.BarcodeFormat.DATA_MATRIX],[se.MAXICODE,qe.BarcodeFormat.MAXICODE],[se.ITF,qe.BarcodeFormat.ITF],[se.EAN_13,qe.BarcodeFormat.EAN_13],[se.EAN_8,qe.BarcodeFormat.EAN_8],[se.PDF_417,qe.BarcodeFormat.PDF_417],[se.RSS_14,qe.BarcodeFormat.RSS_14],[se.RSS_EXPANDED,qe.BarcodeFormat.RSS_EXPANDED],[se.UPC_A,qe.BarcodeFormat.UPC_A],[se.UPC_E,qe.BarcodeFormat.UPC_E],[se.UPC_EAN_EXTENSION,qe.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!Qy)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=i,this.logger=o;var c=this.createZXingFormats(t),d=new Map;d.set(qe.DecodeHintType.POSSIBLE_FORMATS,c),d.set(qe.DecodeHintType.TRY_HARDER,!1),this.hints=d}return e.prototype.decodeAsync=function(t){var i=this;return new Promise(function(o,c){try{o(i.decode(t))}catch(d){c(d)}})},e.prototype.decode=function(t){var i=new qe.MultiFormatReader(this.verbose,this.hints),o=new qe.HTMLCanvasElementLuminanceSource(t),c=new qe.BinaryBitmap(new qe.HybridBinarizer(o)),d=i.decode(c);return{text:d.text,format:Eg.create(this.toHtml5QrcodeSupportedFormats(d.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(i,o,c){t.set(i,o)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var i=[],o=0,c=t;o<c.length;o++){var d=c[o];this.formatMap.has(d)?i.push(this.formatMap.get(d)):this.logger.logError("".concat(d," is not supported by")+"ZXingHtml5QrcodeShim")}return i},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),Zy=globalThis&&globalThis.__awaiter||function(e,t,i,o){function c(d){return d instanceof i?d:new i(function(g){g(d)})}return new(i||(i=Promise))(function(d,g){function x(E){try{m(o.next(E))}catch(S){g(S)}}function w(E){try{m(o.throw(E))}catch(S){g(S)}}function m(E){E.done?d(E.value):c(E.value).then(x,w)}m((o=o.apply(e,t||[])).next())})},Ky=globalThis&&globalThis.__generator||function(e,t){var i={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},o,c,d,g;return g={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function x(m){return function(E){return w([m,E])}}function w(m){if(o)throw new TypeError("Generator is already executing.");for(;g&&(g=0,m[0]&&(i=0)),i;)try{if(o=1,c&&(d=m[0]&2?c.return:m[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,m[1])).done)return d;switch(c=0,d&&(m=[m[0]&2,d.value]),m[0]){case 0:case 1:d=m;break;case 4:return i.label++,{value:m[1],done:!1};case 5:i.label++,c=m[1],m=[0];continue;case 7:m=i.ops.pop(),i.trys.pop();continue;default:if(d=i.trys,!(d=d.length>0&&d[d.length-1])&&(m[0]===6||m[0]===2)){i=0;continue}if(m[0]===3&&(!d||m[1]>d[0]&&m[1]<d[3])){i.label=m[1];break}if(m[0]===6&&i.label<d[1]){i.label=d[1],d=m;break}if(d&&i.label<d[2]){i.label=d[2],i.ops.push(m);break}d[2]&&i.ops.pop(),i.trys.pop();continue}m=t.call(e,i)}catch(E){m=[6,E],c=0}finally{o=d=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},df=function(){function e(t,i,o){if(this.formatMap=new Map([[se.QR_CODE,"qr_code"],[se.AZTEC,"aztec"],[se.CODABAR,"codabar"],[se.CODE_39,"code_39"],[se.CODE_93,"code_93"],[se.CODE_128,"code_128"],[se.DATA_MATRIX,"data_matrix"],[se.ITF,"itf"],[se.EAN_13,"ean_13"],[se.EAN_8,"ean_8"],[se.PDF_417,"pdf417"],[se.UPC_A,"upc_a"],[se.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=i,this.logger=o;var c=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(c),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return Zy(this,void 0,void 0,function(){var i,o;return Ky(this,function(c){switch(c.label){case 0:return[4,this.detector.detect(t)];case 1:if(i=c.sent(),!i||i.length===0)throw"No barcode or QR code detected.";return o=this.selectLargestBarcode(i),[2,{text:o.rawValue,format:Eg.create(this.toHtml5QrcodeSupportedFormats(o.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var i=null,o=0,c=0,d=t;c<d.length;c++){var g=d[c],x=g.boundingBox.width*g.boundingBox.height;x>o&&(o=x,i=g)}if(!i)throw"No largest barcode found";return i},e.prototype.createBarcodeDetectorFormats=function(t){for(var i=[],o=0,c=t;o<c.length;o++){var d=c[o];this.formatMap.has(d)?i.push(this.formatMap.get(d)):this.logger.warn("".concat(d," is not supported by")+"BarcodeDetectorDelegate")}return{formats:i}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(i,o,c){t.set(i,o)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),ff=globalThis&&globalThis.__awaiter||function(e,t,i,o){function c(d){return d instanceof i?d:new i(function(g){g(d)})}return new(i||(i=Promise))(function(d,g){function x(E){try{m(o.next(E))}catch(S){g(S)}}function w(E){try{m(o.throw(E))}catch(S){g(S)}}function m(E){E.done?d(E.value):c(E.value).then(x,w)}m((o=o.apply(e,t||[])).next())})},hf=globalThis&&globalThis.__generator||function(e,t){var i={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},o,c,d,g;return g={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function x(m){return function(E){return w([m,E])}}function w(m){if(o)throw new TypeError("Generator is already executing.");for(;g&&(g=0,m[0]&&(i=0)),i;)try{if(o=1,c&&(d=m[0]&2?c.return:m[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,m[1])).done)return d;switch(c=0,d&&(m=[m[0]&2,d.value]),m[0]){case 0:case 1:d=m;break;case 4:return i.label++,{value:m[1],done:!1};case 5:i.label++,c=m[1],m=[0];continue;case 7:m=i.ops.pop(),i.trys.pop();continue;default:if(d=i.trys,!(d=d.length>0&&d[d.length-1])&&(m[0]===6||m[0]===2)){i=0;continue}if(m[0]===3&&(!d||m[1]>d[0]&&m[1]<d[3])){i.label=m[1];break}if(m[0]===6&&i.label<d[1]){i.label=d[1],d=m;break}if(d&&i.label<d[2]){i.label=d[2],i.ops.push(m);break}d[2]&&i.ops.pop(),i.trys.pop();continue}m=t.call(e,i)}catch(E){m=[6,E],c=0}finally{o=d=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},qy=function(){function e(t,i,o,c){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=o,i&&df.isSupported()?(this.primaryDecoder=new df(t,o,c),this.secondaryDecoder=new uf(t,o,c)):this.primaryDecoder=new uf(t,o,c)}return e.prototype.decodeAsync=function(t){return ff(this,void 0,void 0,function(){var i;return hf(this,function(o){switch(o.label){case 0:i=performance.now(),o.label=1;case 1:return o.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,o.sent()];case 3:return this.possiblyLogPerformance(i),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return ff(this,void 0,void 0,function(){var i,o;return hf(this,function(c){switch(c.label){case 0:i=performance.now(),c.label=1;case 1:return c.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,c.sent()];case 3:if(o=c.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw o;case 4:return this.possiblyLogPerformance(i),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var i=performance.now()-t;this.executionResults.push(i),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,i=0,o=this.executionResults;i<o.length;i++){var c=o[i];t+=c}var d=t/this.executionResults.length;console.log("".concat(d," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),hd=globalThis&&globalThis.__extends||function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(o[d]=c[d])},e(t,i)};return function(t,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");e(t,i);function o(){this.constructor=t}t.prototype=i===null?Object.create(i):(o.prototype=i.prototype,new o)}}(),Ga=globalThis&&globalThis.__awaiter||function(e,t,i,o){function c(d){return d instanceof i?d:new i(function(g){g(d)})}return new(i||(i=Promise))(function(d,g){function x(E){try{m(o.next(E))}catch(S){g(S)}}function w(E){try{m(o.throw(E))}catch(S){g(S)}}function m(E){E.done?d(E.value):c(E.value).then(x,w)}m((o=o.apply(e,t||[])).next())})},Ya=globalThis&&globalThis.__generator||function(e,t){var i={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},o,c,d,g;return g={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function x(m){return function(E){return w([m,E])}}function w(m){if(o)throw new TypeError("Generator is already executing.");for(;g&&(g=0,m[0]&&(i=0)),i;)try{if(o=1,c&&(d=m[0]&2?c.return:m[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,m[1])).done)return d;switch(c=0,d&&(m=[m[0]&2,d.value]),m[0]){case 0:case 1:d=m;break;case 4:return i.label++,{value:m[1],done:!1};case 5:i.label++,c=m[1],m=[0];continue;case 7:m=i.ops.pop(),i.trys.pop();continue;default:if(d=i.trys,!(d=d.length>0&&d[d.length-1])&&(m[0]===6||m[0]===2)){i=0;continue}if(m[0]===3&&(!d||m[1]>d[0]&&m[1]<d[3])){i.label=m[1];break}if(m[0]===6&&i.label<d[1]){i.label=d[1],d=m;break}if(d&&i.label<d[2]){i.label=d[2],i.ops.push(m);break}d[2]&&i.ops.pop(),i.trys.pop();continue}m=t.call(e,i)}catch(E){m=[6,E],c=0}finally{o=d=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},Ig=function(){function e(t,i){this.name=t,this.track=i}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var i={};i[this.name]=t;var o={advanced:[i]};return this.track.applyConstraints(o)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var i=t[this.name];return i}return null},e}(),$y=function(e){hd(t,e);function t(i,o){return e.call(this,i,o)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(i){var o={};o[this.name]=i;var c={advanced:[o]};return this.track.applyConstraints(c)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var i=this.track.getCapabilities(),o=i[this.name];return{min:o.min,max:o.max,step:o.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(Ig),Jy=function(e){hd(t,e);function t(i){return e.call(this,"zoom",i)||this}return t}($y),e3=function(e){hd(t,e);function t(i){return e.call(this,"torch",i)||this}return t}(Ig),t3=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new Jy(this.track)},e.prototype.torchFeature=function(){return new e3(this.track)},e}(),n3=function(){function e(t,i,o){this.isClosed=!1,this.parentElement=t,this.mediaStream=i,this.callbacks=o,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var i=document.createElement("video");return i.style.width="".concat(t,"px"),i.style.display="block",i.muted=!0,i.setAttribute("muted","true"),i.playsInline=!0,i},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var i=function(){var o=t.surface.clientWidth,c=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(o,c),t.surface.removeEventListener("playing",i)};this.surface.addEventListener("playing",i),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,i,o,c){return Ga(this,void 0,void 0,function(){var d,g;return Ya(this,function(x){switch(x.label){case 0:return d=new e(t,i,c),o.aspectRatio?(g={aspectRatio:o.aspectRatio},[4,d.getFirstTrackOrFail().applyConstraints(g)]):[3,2];case 1:x.sent(),x.label=2;case 2:return d.setupSurface(),[2,d]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var i=this,o=function(){setTimeout(t,200),i.surface.removeEventListener("playing",o)};this.surface.addEventListener("playing",o),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return Ga(this,void 0,void 0,function(){return Ya(this,function(i){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(i,o){var c=t.mediaStream.getVideoTracks(),d=c.length,g=0;t.mediaStream.getVideoTracks().forEach(function(x){t.mediaStream.removeTrack(x),x.stop(),++g,g>=d&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),i())})})},e.prototype.getCapabilities=function(){return new t3(this.getFirstTrackOrFail())},e}(),r3=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,i,o){return Ga(this,void 0,void 0,function(){return Ya(this,function(c){return[2,n3.create(t,this.mediaStream,i,o)]})})},e.create=function(t){return Ga(this,void 0,void 0,function(){var i,o;return Ya(this,function(c){switch(c.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return i={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(i)];case 1:return o=c.sent(),[2,new e(o)]}})})},e}(),gf=globalThis&&globalThis.__awaiter||function(e,t,i,o){function c(d){return d instanceof i?d:new i(function(g){g(d)})}return new(i||(i=Promise))(function(d,g){function x(E){try{m(o.next(E))}catch(S){g(S)}}function w(E){try{m(o.throw(E))}catch(S){g(S)}}function m(E){E.done?d(E.value):c(E.value).then(x,w)}m((o=o.apply(e,t||[])).next())})},pf=globalThis&&globalThis.__generator||function(e,t){var i={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},o,c,d,g;return g={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function x(m){return function(E){return w([m,E])}}function w(m){if(o)throw new TypeError("Generator is already executing.");for(;g&&(g=0,m[0]&&(i=0)),i;)try{if(o=1,c&&(d=m[0]&2?c.return:m[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,m[1])).done)return d;switch(c=0,d&&(m=[m[0]&2,d.value]),m[0]){case 0:case 1:d=m;break;case 4:return i.label++,{value:m[1],done:!1};case 5:i.label++,c=m[1],m=[0];continue;case 7:m=i.ops.pop(),i.trys.pop();continue;default:if(d=i.trys,!(d=d.length>0&&d[d.length-1])&&(m[0]===6||m[0]===2)){i=0;continue}if(m[0]===3&&(!d||m[1]>d[0]&&m[1]<d[3])){i.label=m[1];break}if(m[0]===6&&i.label<d[1]){i.label=d[1],d=m;break}if(d&&i.label<d[2]){i.label=d[2],i.ops.push(m);break}d[2]&&i.ops.pop(),i.trys.pop();continue}m=t.call(e,i)}catch(E){m=[6,E],c=0}finally{o=d=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},i3=function(){function e(){}return e.failIfNotSupported=function(){return gf(this,void 0,void 0,function(){return pf(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return gf(this,void 0,void 0,function(){return pf(this,function(i){return[2,r3.create(t)]})})},e}(),s3=globalThis&&globalThis.__awaiter||function(e,t,i,o){function c(d){return d instanceof i?d:new i(function(g){g(d)})}return new(i||(i=Promise))(function(d,g){function x(E){try{m(o.next(E))}catch(S){g(S)}}function w(E){try{m(o.throw(E))}catch(S){g(S)}}function m(E){E.done?d(E.value):c(E.value).then(x,w)}m((o=o.apply(e,t||[])).next())})},o3=globalThis&&globalThis.__generator||function(e,t){var i={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},o,c,d,g;return g={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function x(m){return function(E){return w([m,E])}}function w(m){if(o)throw new TypeError("Generator is already executing.");for(;g&&(g=0,m[0]&&(i=0)),i;)try{if(o=1,c&&(d=m[0]&2?c.return:m[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,m[1])).done)return d;switch(c=0,d&&(m=[m[0]&2,d.value]),m[0]){case 0:case 1:d=m;break;case 4:return i.label++,{value:m[1],done:!1};case 5:i.label++,c=m[1],m=[0];continue;case 7:m=i.ops.pop(),i.trys.pop();continue;default:if(d=i.trys,!(d=d.length>0&&d[d.length-1])&&(m[0]===6||m[0]===2)){i=0;continue}if(m[0]===3&&(!d||m[1]>d[0]&&m[1]<d[3])){i.label=m[1];break}if(m[0]===6&&i.label<d[1]){i.label=d[1],d=m;break}if(d&&i.label<d[2]){i.label=d[2],i.ops.push(m);break}d[2]&&i.ops.pop(),i.trys.pop();continue}m=t.call(e,i)}catch(E){m=[6,E],c=0}finally{o=d=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},a3=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=Gi.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=Gi.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return s3(this,void 0,void 0,function(){var t,i,o,c,d,g,x;return o3(this,function(w){switch(w.label){case 0:return t=function(m){for(var E=m.getVideoTracks(),S=0,R=E;S<R.length;S++){var k=R[S];k.enabled=!1,k.stop(),m.removeTrack(k)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return i=w.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(o=w.sent(),c=[],d=0,g=o;d<g.length;d++)x=g[d],x.kind==="videoinput"&&c.push({id:x.deviceId,label:x.label});return t(i),[2,c]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,i){var o=function(d){for(var g=[],x=0,w=d;x<w.length;x++){var m=w[x];m.kind==="video"&&g.push({id:m.id,label:m.label})}t(g)},c=MediaStreamTrack;c.getSources(o)})},e}(),dt;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(dt||(dt={}));var l3=function(){function e(){this.state=dt.NOT_STARTED,this.onGoingTransactionNewState=dt.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===dt.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=dt.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===dt.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=dt.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==dt.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case dt.UNKNOWN:throw"Transition from unknown is not allowed";case dt.NOT_STARTED:this.failIfNewStateIs(t,[dt.PAUSED]);break;case dt.SCANNING:break;case dt.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,i){for(var o=0,c=i;o<c.length;o++){var d=c[o];if(t===d)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),c3=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===dt.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==dt.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===dt.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===dt.PAUSED},e}(),u3=function(){function e(){}return e.create=function(){return new c3(new l3)},e}(),d3=globalThis&&globalThis.__extends||function(){var e=function(t,i){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,c){o.__proto__=c}||function(o,c){for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(o[d]=c[d])},e(t,i)};return function(t,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");e(t,i);function o(){this.constructor=t}t.prototype=i===null?Object.create(i):(o.prototype=i.prototype,new o)}}(),cn=function(e){d3(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(jn),f3=function(){function e(t,i){this.logger=i,this.fps=cn.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=cn.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Sg.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!er(this.qrbox)},e.create=function(t,i){return new e(t,i)},e}(),mf=function(){function e(t,i){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var o;typeof i=="boolean"?this.verbose=i===!0:i&&(o=i,this.verbose=o.verbose===!0,o.experimentalFeatures),this.logger=new Ag(this.verbose),this.qrcode=new qy(this.getSupportedFormats(i),this.getUseBarCodeDetectorIfSupported(o),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=u3.create()}return e.prototype.start=function(t,i,o,c){var d=this;if(!t)throw"cameraIdOrConfig is required";if(!o||typeof o!="function")throw"qrCodeSuccessCallback is required and should be a function.";var g;c?g=c:g=this.verbose?this.logger.log:function(){};var x=f3.create(i,this.logger);this.clearElement();var w=!1;x.videoConstraints&&(x.isMediaStreamConstraintsValid()?w=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var m=w,E=document.getElementById(this.elementId);E.clientWidth?E.clientWidth:cn.DEFAULT_WIDTH,E.style.position="relative",this.shouldScan=!0,this.element=E;var S=this,R=this.stateManagerProxy.startTransition(dt.SCANNING);return new Promise(function(k,B){var O=m?x.videoConstraints:S.createVideoConstraints(t);if(!O){R.cancel(),B("videoConstraints should be defined");return}var U={};(!m||x.aspectRatio)&&(U.aspectRatio=x.aspectRatio);var N={onRenderSurfaceReady:function(b,M){S.setupUi(b,M,x),S.isScanning=!0,S.foreverScan(x,o,g)}};i3.failIfNotSupported().then(function(b){b.create(O).then(function(M){return M.render(d.element,U,N).then(function(z){S.renderedCamera=z,R.execute(),k(null)}).catch(function(z){R.cancel(),B(z)})}).catch(function(M){R.cancel(),B(Gi.errorGettingUserMedia(M))})}).catch(function(b){R.cancel(),B(Gi.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(dt.PAUSED),this.showPausedState(),(er(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,i=function(){t.stateManagerProxy.directTransition(dt.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){i();return}this.renderedCamera.resume(function(){i()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var i=this.stateManagerProxy.startTransition(dt.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var o=function(){if(t.element){var d=document.getElementById(cn.SHADED_REGION_ELEMENT_ID);d&&t.element.removeChild(d)}},c=this;return this.renderedCamera.close().then(function(){return c.renderedCamera=null,c.element&&(c.element.removeChild(c.canvasElement),c.canvasElement=null),o(),c.qrRegion&&(c.qrRegion=null),c.context&&(c.context=null),i.execute(),c.hidePausedState(),c.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,i){return this.scanFileV2(t,i).then(function(o){return o.decodedText})},e.prototype.scanFileV2=function(t,i){var o=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(er(i)&&(i=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(c,d){o.possiblyCloseLastScanImageFile(),o.clearElement(),o.lastScanImageFile=URL.createObjectURL(t);var g=new Image;g.onload=function(){var x=g.width,w=g.height,m=document.getElementById(o.elementId),E=m.clientWidth?m.clientWidth:cn.DEFAULT_WIDTH,S=Math.max(m.clientHeight?m.clientHeight:w,cn.FILE_SCAN_MIN_HEIGHT),R=o.computeCanvasDrawConfig(x,w,E,S);if(i){var k=o.createCanvasElement(E,S,"qr-canvas-visible");k.style.display="inline-block",m.appendChild(k);var B=k.getContext("2d");if(!B)throw"Unable to get 2d context from canvas";B.canvas.width=E,B.canvas.height=S,B.drawImage(g,0,0,x,w,R.x,R.y,R.width,R.height)}var O=cn.FILE_SCAN_HIDDEN_CANVAS_PADDING,U=Math.max(g.width,R.width),N=Math.max(g.height,R.height),b=U+2*O,M=N+2*O,z=o.createCanvasElement(b,M);m.appendChild(z);var $=z.getContext("2d");if(!$)throw"Unable to get 2d context from canvas";$.canvas.width=b,$.canvas.height=M,$.drawImage(g,0,0,x,w,O,O,U,N);try{o.qrcode.decodeRobustlyAsync(z).then(function(Z){c(lf.createFromQrcodeResult(Z))}).catch(d)}catch(Z){d("QR code parse error, error = ".concat(Z))}},g.onerror=d,g.onabort=d,g.onstalled=d,g.onsuspend=d,g.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return a3.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!Sg.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var i=[se.QR_CODE,se.AZTEC,se.CODABAR,se.CODE_39,se.CODE_93,se.CODE_128,se.DATA_MATRIX,se.MAXICODE,se.ITF,se.EAN_13,se.EAN_8,se.PDF_417,se.RSS_14,se.RSS_EXPANDED,se.UPC_A,se.UPC_E,se.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return i;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var o=[],c=0,d=t.formatsToSupport;c<d.length;c++){var g=d[c];Gy(g)?o.push(g):this.logger.warn("Invalid format: ".concat(g," passed in config, ignoring."))}if(o.length===0)throw"None of formatsToSupport match supported values.";return o},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(er(t))return!0;if(!er(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(er(t.experimentalFeatures))return!0;var i=t.experimentalFeatures;return er(i.useBarCodeDetectorIfSupported)?!0:i.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,i,o){var c=this,d=o.qrbox;this.validateQrboxConfig(d);var g=this.toQrdimensions(t,i,d),x=function(m){if(m<cn.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(cn.MIN_QR_BOX_SIZE,"px.")},w=function(m){return m>t&&(c.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),m=t),m};x(g.width),x(g.height),g.width=w(g.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,i,o){if(typeof o=="number")return{width:o,height:o};if(typeof o=="function")try{return o(t,i)}catch(c){throw new Error("qrbox config was passed as a function but it failed with unknown error"+c)}return o},e.prototype.setupUi=function(t,i,o){o.isShadedBoxEnabled()&&this.validateQrboxSize(t,i,o);var c=er(o.qrbox)?{width:t,height:i}:o.qrbox;this.validateQrboxConfig(c);var d=this.toQrdimensions(t,i,c);d.height>i&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var g=o.isShadedBoxEnabled()&&d.height<=i,x={x:0,y:0,width:t,height:i},w=g?this.getShadedRegionBounds(t,i,d):x,m=this.createCanvasElement(w.width,w.height),E={willReadFrequently:!0},S=m.getContext("2d",E);S.canvas.width=w.width,S.canvas.height=w.height,this.element.append(m),g&&this.possiblyInsertShadingElement(this.element,t,i,d),this.createScannerPausedUiElement(this.element),this.qrRegion=w,this.context=S,this.canvasElement=m},e.prototype.createScannerPausedUiElement=function(t){var i=document.createElement("div");i.innerText=Gi.scannerPaused(),i.style.display="none",i.style.position="absolute",i.style.top="0px",i.style.zIndex="1",i.style.background="rgba(9, 9, 9, 0.46)",i.style.color="#FFECEC",i.style.textAlign="center",i.style.width="100%",t.appendChild(i),this.scannerPausedUiElement=i},e.prototype.scanContext=function(t,i){var o=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(c){return t(c.text,lf.createFromQrcodeResult(c)),o.possiblyUpdateShaders(!0),!0}).catch(function(c){o.possiblyUpdateShaders(!1);var d=Gi.codeParseError(c);return i(d,vg.createFrom(d)),!1})},e.prototype.foreverScan=function(t,i,o){var c=this;if(this.shouldScan&&this.renderedCamera){var d=this.renderedCamera.getSurface(),g=d.videoWidth/d.clientWidth,x=d.videoHeight/d.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var w=this.qrRegion.width*g,m=this.qrRegion.height*x,E=this.qrRegion.x*g,S=this.qrRegion.y*x;this.context.drawImage(d,E,S,w,m,0,0,this.qrRegion.width,this.qrRegion.height);var R=function(){c.foreverScanTimeout=setTimeout(function(){c.foreverScan(t,i,o)},c.getTimeoutFps(t.fps))};this.scanContext(i,o).then(function(k){!k&&t.disableFlip!==!0?(c.context.translate(c.context.canvas.width,0),c.context.scale(-1,1),c.scanContext(i,o).finally(function(){R()})):R()}).catch(function(k){c.logger.logError("Error happend while scanning context",k),R()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var i="facingMode",o="deviceId",c={user:!0,environment:!0},d="exact",g=function(B){if(B in c)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(B,"'")},x=Object.keys(t);if(x.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(x.length," keys");var w=Object.keys(t)[0];if(w!==i&&w!==o)throw"Only '".concat(i,"' and '").concat(o,"' ")+" are supported for 'cameraIdOrConfig'";if(w===i){var m=t.facingMode;if(typeof m=="string"){if(g(m))return{facingMode:m}}else if(typeof m=="object")if(d in m){if(g(m["".concat(d)]))return{facingMode:{exact:m["".concat(d)]}}}else throw"'facingMode' should be string or object with"+" ".concat(d," as key.");else{var E=typeof m;throw"Invalid type of 'facingMode' = ".concat(E)}}else{var S=t.deviceId;if(typeof S=="string")return{deviceId:S};if(typeof S=="object"){if(d in S)return{deviceId:{exact:S["".concat(d)]}};throw"'deviceId' should be string or object with"+" ".concat(d," as key.")}else{var R=typeof S;throw"Invalid type of 'deviceId' = ".concat(R)}}}var k=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(k)},e.prototype.computeCanvasDrawConfig=function(t,i,o,c){if(t<=o&&i<=c){var d=(o-t)/2,g=(c-i)/2;return{x:d,y:g,width:t,height:i}}else{var x=t,w=i;return t>o&&(i=o/t*i,t=o),i>c&&(t=c/i*t,i=c),this.logger.log("Image downsampled from "+"".concat(x,"X").concat(w)+" to ".concat(t,"X").concat(i,".")),this.computeCanvasDrawConfig(t,i,o,c)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(i){i.style.backgroundColor=t?cn.BORDER_SHADER_MATCH_COLOR:cn.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,i,o){var c=t,d=i,g=document.createElement("canvas");return g.style.width="".concat(c,"px"),g.style.height="".concat(d,"px"),g.style.display="none",g.id=er(o)?"qr-canvas":o,g},e.prototype.getShadedRegionBounds=function(t,i,o){if(o.width>t||o.height>i)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-o.width)/2,y:(i-o.height)/2,width:o.width,height:o.height}},e.prototype.possiblyInsertShadingElement=function(t,i,o,c){if(!(i-c.width<1||o-c.height<1)){var d=document.createElement("div");d.style.position="absolute";var g=(i-c.width)/2,x=(o-c.height)/2;if(d.style.borderLeft="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),d.style.borderRight="".concat(g,"px solid rgba(0, 0, 0, 0.48)"),d.style.borderTop="".concat(x,"px solid rgba(0, 0, 0, 0.48)"),d.style.borderBottom="".concat(x,"px solid rgba(0, 0, 0, 0.48)"),d.style.boxSizing="border-box",d.style.top="0px",d.style.bottom="0px",d.style.left="0px",d.style.right="0px",d.id="".concat(cn.SHADED_REGION_ELEMENT_ID),i-c.width<11||o-c.height<11)this.hasBorderShaders=!1;else{var w=5,m=40;this.insertShaderBorders(d,m,w,-w,null,0,!0),this.insertShaderBorders(d,m,w,-w,null,0,!1),this.insertShaderBorders(d,m,w,null,-w,0,!0),this.insertShaderBorders(d,m,w,null,-w,0,!1),this.insertShaderBorders(d,w,m+w,-w,null,-w,!0),this.insertShaderBorders(d,w,m+w,null,-w,-w,!0),this.insertShaderBorders(d,w,m+w,-w,null,-w,!1),this.insertShaderBorders(d,w,m+w,null,-w,-w,!1),this.hasBorderShaders=!0}t.append(d)}},e.prototype.insertShaderBorders=function(t,i,o,c,d,g,x){var w=document.createElement("div");w.style.position="absolute",w.style.backgroundColor=cn.BORDER_SHADER_DEFAULT_COLOR,w.style.width="".concat(i,"px"),w.style.height="".concat(o,"px"),c!==null&&(w.style.top="".concat(c,"px")),d!==null&&(w.style.bottom="".concat(d,"px")),x?w.style.left="".concat(g,"px"):w.style.right="".concat(g,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(w),t.appendChild(w)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),gd="data:image/svg+xml;base64,",h3=gd+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",g3=gd+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",xf=gd+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",p3="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",wf=function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e}(),m3=function(){function e(){this.data=wf.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(t){this.data.hasPermission=t,this.flush()},e.prototype.setLastUsedCameraId=function(t){this.data.lastUsedCameraId=t,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=wf.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",e}(),x3=function(){function e(){this.infoDiv=document.createElement("div")}return e.prototype.renderInto=function(t){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=cf.poweredBy();var i=document.createElement("a");i.innerText="ScanApp",i.href="https://scanapp.org",i.target="new",i.style.color="white",this.infoDiv.appendChild(i);var o=document.createElement("br"),c=document.createElement("br");this.infoDiv.appendChild(o),this.infoDiv.appendChild(c);var d=document.createElement("a");d.innerText=cf.reportIssues(),d.href="https://github.com/mebjas/html5-qrcode/issues",d.target="new",d.style.color="white",this.infoDiv.appendChild(d),t.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display="block"},e.prototype.hide=function(){this.infoDiv.style.display="none"},e}(),w3=function(){function e(t,i){this.isShowingInfoIcon=!0,this.onTapIn=t,this.onTapOut=i,this.infoIcon=document.createElement("img")}return e.prototype.renderInto=function(t){var i=this;this.infoIcon.alt="Info icon",this.infoIcon.src=xf,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(o){return i.onHoverIn()},this.infoIcon.onmouseout=function(o){return i.onHoverOut()},this.infoIcon.onclick=function(o){return i.onClick()},t.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=p3,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=xf,this.infoIcon.style.opacity="0.6")},e}(),y3=function(){function e(){var t=this;this.infoDiv=new x3,this.infoIcon=new w3(function(){t.infoDiv.show()},function(){t.infoDiv.hide()})}return e.prototype.renderInto=function(t){this.infoDiv.renderInto(t),this.infoIcon.renderInto(t)},e}(),C3=globalThis&&globalThis.__awaiter||function(e,t,i,o){function c(d){return d instanceof i?d:new i(function(g){g(d)})}return new(i||(i=Promise))(function(d,g){function x(E){try{m(o.next(E))}catch(S){g(S)}}function w(E){try{m(o.throw(E))}catch(S){g(S)}}function m(E){E.done?d(E.value):c(E.value).then(x,w)}m((o=o.apply(e,t||[])).next())})},E3=globalThis&&globalThis.__generator||function(e,t){var i={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},o,c,d,g;return g={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function x(m){return function(E){return w([m,E])}}function w(m){if(o)throw new TypeError("Generator is already executing.");for(;g&&(g=0,m[0]&&(i=0)),i;)try{if(o=1,c&&(d=m[0]&2?c.return:m[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,m[1])).done)return d;switch(c=0,d&&(m=[m[0]&2,d.value]),m[0]){case 0:case 1:d=m;break;case 4:return i.label++,{value:m[1],done:!1};case 5:i.label++,c=m[1],m=[0];continue;case 7:m=i.ops.pop(),i.trys.pop();continue;default:if(d=i.trys,!(d=d.length>0&&d[d.length-1])&&(m[0]===6||m[0]===2)){i=0;continue}if(m[0]===3&&(!d||m[1]>d[0]&&m[1]<d[3])){i.label=m[1];break}if(m[0]===6&&i.label<d[1]){i.label=d[1],d=m;break}if(d&&i.label<d[2]){i.label=d[2],i.ops.push(m);break}d[2]&&i.ops.pop(),i.trys.pop();continue}m=t.call(e,i)}catch(E){m=[6,E],c=0}finally{o=d=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},yf=function(){function e(){}return e.hasPermissions=function(){return C3(this,void 0,void 0,function(){var t,i,o,c;return E3(this,function(d){switch(d.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(t=d.sent(),i=0,o=t;i<o.length;i++)if(c=o[i],c.kind==="videoinput"&&c.label)return[2,!0];return[2,!1]}})})},e}(),Rr=function(){function e(t){this.supportedScanTypes=this.validateAndReturnScanTypes(t)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,i=this.supportedScanTypes;t<i.length;t++){var o=i[t];if(e.isCameraScanType(o))return!0}return!1},e.isCameraScanType=function(t){return t===Qr.SCAN_TYPE_CAMERA},e.isFileScanType=function(t){return t===Qr.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(t){if(!t||t.length===0)return jn.DEFAULT_SUPPORTED_SCAN_TYPE;var i=jn.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(t.length>i)throw"Max ".concat(i," values expected for ")+"supportedScanTypes";for(var o=0,c=t;o<c.length;o++){var d=c[o];if(!jn.DEFAULT_SUPPORTED_SCAN_TYPE.includes(d))throw"Unsupported scan type ".concat(d)}return t},e}(),fn=function(){function e(){}return e.ALL_ELEMENT_CLASS="html5-qrcode-element",e.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",e.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",e.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",e.TORCH_BUTTON_ID="html5-qrcode-button-torch",e.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",e.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",e.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",e.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",e.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",e.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",e}(),fr=function(){function e(){}return e.createElement=function(t,i){var o=document.createElement(t);return o.id=i,o.classList.add(fn.ALL_ELEMENT_CLASS),t==="button"&&o.setAttribute("type","button"),o},e}(),Ng=globalThis&&globalThis.__awaiter||function(e,t,i,o){function c(d){return d instanceof i?d:new i(function(g){g(d)})}return new(i||(i=Promise))(function(d,g){function x(E){try{m(o.next(E))}catch(S){g(S)}}function w(E){try{m(o.throw(E))}catch(S){g(S)}}function m(E){E.done?d(E.value):c(E.value).then(x,w)}m((o=o.apply(e,t||[])).next())})},Tg=globalThis&&globalThis.__generator||function(e,t){var i={label:0,sent:function(){if(d[0]&1)throw d[1];return d[1]},trys:[],ops:[]},o,c,d,g;return g={next:x(0),throw:x(1),return:x(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function x(m){return function(E){return w([m,E])}}function w(m){if(o)throw new TypeError("Generator is already executing.");for(;g&&(g=0,m[0]&&(i=0)),i;)try{if(o=1,c&&(d=m[0]&2?c.return:m[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,m[1])).done)return d;switch(c=0,d&&(m=[m[0]&2,d.value]),m[0]){case 0:case 1:d=m;break;case 4:return i.label++,{value:m[1],done:!1};case 5:i.label++,c=m[1],m=[0];continue;case 7:m=i.ops.pop(),i.trys.pop();continue;default:if(d=i.trys,!(d=d.length>0&&d[d.length-1])&&(m[0]===6||m[0]===2)){i=0;continue}if(m[0]===3&&(!d||m[1]>d[0]&&m[1]<d[3])){i.label=m[1];break}if(m[0]===6&&i.label<d[1]){i.label=d[1],d=m;break}if(d&&i.label<d[2]){i.label=d[2],i.ops.push(m);break}d[2]&&i.ops.pop(),i.trys.pop();continue}m=t.call(e,i)}catch(E){m=[6,E],c=0}finally{o=d=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}},Cf=function(){function e(t,i,o){this.isTorchOn=!1,this.torchCapability=t,this.buttonController=i,this.onTorchActionFailureCallback=o}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return Ng(this,void 0,void 0,function(){var t,i;return Tg(this,function(o){switch(o.label){case 0:this.buttonController.disable(),t=!this.isTorchOn,o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.torchCapability.apply(t)];case 2:return o.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),t),[3,4];case 3:return i=o.sent(),this.propagateFailure(t,i),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(t,i){t===i?(this.buttonController.setText(i?Pe.torchOffButton():Pe.torchOnButton()),this.isTorchOn=i):this.propagateFailure(i),this.buttonController.enable()},e.prototype.propagateFailure=function(t,i){var o=t?Pe.torchOnFailedMessage():Pe.torchOffFailedMessage();i&&(o+="; Error = "+i),this.onTorchActionFailureCallback(o)},e.prototype.reset=function(){this.isTorchOn=!1},e}(),v3=function(){function e(t,i){this.onTorchActionFailureCallback=i,this.torchButton=fr.createElement("button",fn.TORCH_BUTTON_ID),this.torchController=new Cf(t,this,i)}return e.prototype.render=function(t,i){var o=this;this.torchButton.innerText=Pe.torchOnButton(),this.torchButton.style.display=i.display,this.torchButton.style.marginLeft=i.marginLeft;var c=this;this.torchButton.addEventListener("click",function(d){return Ng(o,void 0,void 0,function(){return Tg(this,function(g){switch(g.label){case 0:return[4,c.torchController.flipState()];case 1:return g.sent(),c.torchController.isTorchEnabled()?(c.torchButton.classList.remove(fn.TORCH_BUTTON_CLASS_TORCH_OFF),c.torchButton.classList.add(fn.TORCH_BUTTON_CLASS_TORCH_ON)):(c.torchButton.classList.remove(fn.TORCH_BUTTON_CLASS_TORCH_ON),c.torchButton.classList.add(fn.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),t.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(t){this.torchController=new Cf(t,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display="none"},e.prototype.show=function(){this.torchButton.style.display="inline-block"},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(t){this.torchButton.innerText=t},e.prototype.reset=function(){this.torchButton.innerText=Pe.torchOnButton(),this.torchController.reset()},e.create=function(t,i,o,c){var d=new e(i,c);return d.render(t,o),d},e}(),A3=function(){function e(t,i,o){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=i?"block":"none",t.appendChild(this.fileBasedScanRegion);var c=document.createElement("label");c.setAttribute("for",this.getFileScanInputId()),c.style.display="inline-block",this.fileBasedScanRegion.appendChild(c),this.fileSelectionButton=fr.createElement("button",fn.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(x){c.click()}),c.append(this.fileSelectionButton),this.fileScanInput=fr.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",c.appendChild(this.fileScanInput);var d=this;this.fileScanInput.addEventListener("change",function(x){if(!(x==null||x.target==null)){var w=x.target;if(!(w.files&&w.files.length===0)){var m=w.files,E=m[0],S=E.name;d.setImageNameToButton(S),o(E)}}});var g=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(g),this.fileBasedScanRegion.addEventListener("dragenter",function(x){d.fileBasedScanRegion.style.border=d.fileBasedScanRegionActiveBorder(),x.stopPropagation(),x.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(x){d.fileBasedScanRegion.style.border=d.fileBasedScanRegionDefaultBorder(),x.stopPropagation(),x.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(x){d.fileBasedScanRegion.style.border=d.fileBasedScanRegionActiveBorder(),x.stopPropagation(),x.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(x){x.stopPropagation(),x.preventDefault(),d.fileBasedScanRegion.style.border=d.fileBasedScanRegionDefaultBorder();var w=x.dataTransfer;if(w){var m=w.files;if(!m||m.length===0)return;for(var E=!1,S=0;S<m.length;++S){var R=m.item(S);if(R){var k=/image.*/;if(R.type.match(k)){E=!0;var B=R.name;d.setImageNameToButton(B),o(R),g.innerText=Pe.dragAndDropMessage();break}}}E||(g.innerText=Pe.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},e.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var t=document.createElement("div");return t.style.textAlign="center",t.style.margin="auto",t.style.width="80%",t.style.maxWidth="600px",t.style.border=this.fileBasedScanRegionDefaultBorder(),t.style.padding="10px",t.style.marginBottom="10px",t},e.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},e.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},e.prototype.createDragAndDropMessage=function(){var t=document.createElement("div");return t.innerText=Pe.dragAndDropMessage(),t.style.fontWeight="400",t},e.prototype.setImageNameToButton=function(t){var i=20;if(t.length>i){var o=t.substring(0,8),c=t.length,d=t.substring(c-8,c);t="".concat(o,"....").concat(d)}var g=Pe.fileSelectionChooseAnother()+" - "+t;this.fileSelectionButton.innerText=g},e.prototype.setInitialValueToButton=function(){var t=Pe.fileSelectionChooseImage()+" - "+Pe.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=t},e.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},e.create=function(t,i,o){var c=new e(t,i,o);return c},e}(),S3=function(){function e(t){this.selectElement=fr.createElement("select",fn.CAMERA_SELECTION_SELECT_ID),this.cameras=t,this.options=[]}return e.prototype.render=function(t){var i=document.createElement("span");i.style.marginRight="10px";var o=this.cameras.length;if(o===0)throw new Error("No cameras found");if(o===1)i.style.display="none";else{var c=Pe.selectCamera();i.innerText="".concat(c," (").concat(this.cameras.length,")  ")}for(var d=1,g=0,x=this.cameras;g<x.length;g++){var w=x[g],m=w.id,E=w.label==null?m:w.label;(!E||E==="")&&(E=[Pe.anonymousCameraPrefix(),d++].join(" "));var S=document.createElement("option");S.value=m,S.innerText=E,this.options.push(S),this.selectElement.appendChild(S)}i.appendChild(this.selectElement),t.appendChild(i)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return this.selectElement.disabled===!0},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(t){for(var i=0,o=this.options;i<o.length;i++){var c=o[i];if(c.value===t)return!0}return!1},e.prototype.setValue=function(t){if(!this.hasValue(t))throw new Error("".concat(t," is not present in the camera list."));this.selectElement.value=t},e.prototype.hasSingleItem=function(){return this.cameras.length===1},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(t,i){var o=new e(i);return o.render(t),o},e}(),I3=function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=fr.createElement("input",fn.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return e.prototype.render=function(t,i){this.zoomElementContainer.style.display=i?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",t.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var o=Pe.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(o),this.rangeText.style.marginRight="10px";var c=this;this.rangeInput.addEventListener("input",function(){return c.onValueChange()}),this.rangeInput.addEventListener("change",function(){return c.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var t=Pe.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(t),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(t,i,o,c){this.rangeInput.min=t.toString(),this.rangeInput.max=i.toString(),this.rangeInput.step=c.toString(),this.rangeInput.value=o.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display="block"},e.prototype.hide=function(){this.zoomElementContainer.style.display="none"},e.prototype.setOnCameraZoomValueChangeCallback=function(t){this.onChangeCallback=t},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(t,i){var o=new e;return o.render(t,i),o},e}(),un;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(un||(un={}));function N3(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function T3(e,t){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:t}}var b3=function(){function e(t,i,o){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=t,this.config=this.createConfig(i),this.verbose=o===!0,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.scanTypeSelector=new Rr(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new Ag(this.verbose),this.persistedDataManager=new m3,i.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(t,i){var o=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(d,g){if(t)t(d,g);else{if(o.lastMatchFound===d)return;o.lastMatchFound=d,o.setHeaderMessage(Pe.lastMatch(d),un.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(d,g){i&&i(d,g)};var c=document.getElementById(this.elementId);if(!c)throw"HTML Element with id=".concat(this.elementId," not found");c.innerHTML="",this.createBasicLayout(c),this.html5Qrcode=new mf(this.getScanRegionId(),T3(this.config,this.verbose))},e.prototype.pause=function(t){(er(t)||t!==!0)&&(t=!1),this.getHtml5QrcodeOrFail().pause(t)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var t=this,i=function(){var o=document.getElementById(t.elementId);o&&(o.innerHTML="",t.resetBasicLayout(o))};return this.html5Qrcode?new Promise(function(o,c){if(!t.html5Qrcode){o();return}t.html5Qrcode.isScanning?t.html5Qrcode.stop().then(function(d){if(!t.html5Qrcode){o();return}t.html5Qrcode.clear(),i(),o()}).catch(function(d){t.verbose&&t.logger.logError("Unable to stop qrcode scanner",d),c(d)}):(t.html5Qrcode.clear(),i(),o())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(t){return this.getHtml5QrcodeOrFail().applyVideoConstraints(t)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},e.prototype.createConfig=function(t){return t?(t.fps||(t.fps=jn.SCAN_DEFAULT_FPS),t.rememberLastUsedCamera!==!jn.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(t.rememberLastUsedCamera=jn.DEFAULT_REMEMBER_LAST_CAMERA_USED),t.supportedScanTypes||(t.supportedScanTypes=jn.DEFAULT_SUPPORTED_SCAN_TYPE),t):{fps:jn.SCAN_DEFAULT_FPS,rememberLastUsedCamera:jn.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:jn.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(t){t.style.position="relative",t.style.padding="0px",t.style.border="1px solid silver",this.createHeader(t);var i=document.createElement("div"),o=this.getScanRegionId();i.id=o,i.style.width="100%",i.style.minHeight="100px",i.style.textAlign="center",t.appendChild(i),Rr.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var c=document.createElement("div"),d=this.getDashboardId();c.id=d,c.style.width="100%",t.appendChild(c),this.setupInitialDashboard(c)},e.prototype.resetBasicLayout=function(t){t.style.border="none"},e.prototype.setupInitialDashboard=function(t){this.createSection(t),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(t){var i=document.createElement("div");i.style.textAlign="left",i.style.margin="0px",t.appendChild(i);var o=new y3;o.renderInto(i);var c=document.createElement("div");c.id=this.getHeaderMessageContainerId(),c.style.display="none",c.style.textAlign="center",c.style.fontSize="14px",c.style.padding="2px 10px",c.style.margin="4px",c.style.borderTop="1px solid #f6f6f6",i.appendChild(c)},e.prototype.createSection=function(t){var i=document.createElement("div");i.id=this.getDashboardSectionId(),i.style.width="100%",i.style.padding="10px 0px 10px 0px",i.style.textAlign="left",t.appendChild(i)},e.prototype.createCameraListUi=function(t,i,o){var c=this;c.showHideScanTypeSwapLink(!1),c.setHeaderMessage(Pe.cameraPermissionRequesting());var d=function(){o||c.createPermissionButton(t,i)};mf.getCameras().then(function(g){c.persistedDataManager.setHasPermission(!0),c.showHideScanTypeSwapLink(!0),c.resetHeaderMessage(),g&&g.length>0?(t.removeChild(i),c.renderCameraSelection(g)):(c.setHeaderMessage(Pe.noCameraFound(),un.STATUS_WARNING),d())}).catch(function(g){c.persistedDataManager.setHasPermission(!1),o?o.disabled=!1:d(),c.setHeaderMessage(g,un.STATUS_WARNING),c.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(t,i){var o=this,c=fr.createElement("button",this.getCameraPermissionButtonId());c.innerText=Pe.cameraPermissionTitle(),c.addEventListener("click",function(){c.disabled=!0,o.createCameraListUi(t,i,c)}),i.appendChild(c)},e.prototype.createPermissionsUi=function(t,i){var o=this;if(Rr.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){yf.hasPermissions().then(function(c){c?o.createCameraListUi(t,i):(o.persistedDataManager.setHasPermission(!1),o.createPermissionButton(t,i))}).catch(function(c){o.persistedDataManager.setHasPermission(!1),o.createPermissionButton(t,i)});return}this.createPermissionButton(t,i)},e.prototype.createSectionControlPanel=function(){var t=document.getElementById(this.getDashboardSectionId()),i=document.createElement("div");t.appendChild(i);var o=document.createElement("div");o.id=this.getDashboardSectionCameraScanRegionId(),o.style.display=Rr.isCameraScanType(this.currentScanType)?"block":"none",i.appendChild(o);var c=document.createElement("div");c.style.textAlign="center",o.appendChild(c),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(o,c),this.renderFileScanUi(i)},e.prototype.renderFileScanUi=function(t){var i=Rr.isFileScanType(this.currentScanType),o=this,c=function(d){if(!o.html5Qrcode)throw"html5Qrcode not defined";Rr.isFileScanType(o.currentScanType)&&(o.setHeaderMessage(Pe.loadingImage()),o.html5Qrcode.scanFileV2(d,!0).then(function(g){o.resetHeaderMessage(),o.qrCodeSuccessCallback(g.decodedText,g)}).catch(function(g){o.setHeaderMessage(g,un.STATUS_WARNING),o.qrCodeErrorCallback(g,vg.createFrom(g))}))};this.fileSelectionUi=A3.create(t,i,c)},e.prototype.renderCameraSelection=function(t){var i=this,o=this,c=document.getElementById(this.getDashboardSectionCameraScanRegionId());c.style.textAlign="center";var d=I3.create(c,!1),g=function(O){var U=O.zoomFeature();if(U.isSupported()){d.setOnCameraZoomValueChangeCallback(function(b){U.apply(b)});var N=1;i.config.defaultZoomValueIfSupported&&(N=i.config.defaultZoomValueIfSupported),N=Yy(N,U.min(),U.max()),d.setValues(U.min(),U.max(),N,U.step()),d.show()}},x=S3.create(c,t),w=document.createElement("span"),m=fr.createElement("button",fn.CAMERA_START_BUTTON_ID);m.innerText=Pe.scanButtonStartScanningText(),w.appendChild(m);var E=fr.createElement("button",fn.CAMERA_STOP_BUTTON_ID);E.innerText=Pe.scanButtonStopScanningText(),E.style.display="none",E.disabled=!0,w.appendChild(E);var S,R=function(O){if(!O.torchFeature().isSupported()){S&&S.hide();return}S?S.updateTorchCapability(O.torchFeature()):S=v3.create(w,O.torchFeature(),{display:"none",marginLeft:"5px"},function(U){o.setHeaderMessage(U,un.STATUS_WARNING)}),S.show()};c.appendChild(w);var k=function(O){O||(m.style.display="none"),m.innerText=Pe.scanButtonStartScanningText(),m.style.opacity="1",m.disabled=!1,O&&(m.style.display="inline-block")};if(m.addEventListener("click",function(O){m.innerText=Pe.scanButtonScanningStarting(),x.disable(),m.disabled=!0,m.style.opacity="0.5",i.scanTypeSelector.hasMoreThanOneScanType()&&o.showHideScanTypeSwapLink(!1),o.resetHeaderMessage();var U=x.getValue();o.persistedDataManager.setLastUsedCameraId(U),o.html5Qrcode.start(U,N3(o.config),o.qrCodeSuccessCallback,o.qrCodeErrorCallback).then(function(N){E.disabled=!1,E.style.display="inline-block",k(!1);var b=o.html5Qrcode.getRunningTrackCameraCapabilities();i.config.showTorchButtonIfSupported===!0&&R(b),i.config.showZoomSliderIfSupported===!0&&g(b)}).catch(function(N){o.showHideScanTypeSwapLink(!0),x.enable(),k(!0),o.setHeaderMessage(N,un.STATUS_WARNING)})}),x.hasSingleItem()&&m.click(),E.addEventListener("click",function(O){if(!o.html5Qrcode)throw"html5Qrcode not defined";E.disabled=!0,o.html5Qrcode.stop().then(function(U){i.scanTypeSelector.hasMoreThanOneScanType()&&o.showHideScanTypeSwapLink(!0),x.enable(),m.disabled=!1,E.style.display="none",m.style.display="inline-block",S&&(S.reset(),S.hide()),d.removeOnCameraZoomValueChangeCallback(),d.hide(),o.insertCameraScanImageToScanRegion()}).catch(function(U){E.disabled=!1,o.setHeaderMessage(U,un.STATUS_WARNING)})}),o.persistedDataManager.getLastUsedCameraId()){var B=o.persistedDataManager.getLastUsedCameraId();x.hasValue(B)?(x.setValue(B),m.click()):o.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var t=this,i=Pe.textIfCameraScanSelected(),o=Pe.textIfFileScanSelected(),c=document.getElementById(this.getDashboardSectionId()),d=document.createElement("div");d.style.textAlign="center";var g=fr.createElement("span",this.getDashboardSectionSwapLinkId());g.style.textDecoration="underline",g.style.cursor="pointer",g.innerText=Rr.isCameraScanType(this.currentScanType)?i:o,g.addEventListener("click",function(){if(!t.sectionSwapAllowed){t.verbose&&t.logger.logError("Section swap called when not allowed");return}t.resetHeaderMessage(),t.fileSelectionUi.resetValue(),t.sectionSwapAllowed=!1,Rr.isCameraScanType(t.currentScanType)?(t.clearScanRegion(),t.getCameraScanRegion().style.display="none",t.fileSelectionUi.show(),g.innerText=o,t.currentScanType=Qr.SCAN_TYPE_FILE,t.insertFileScanImageToScanRegion()):(t.clearScanRegion(),t.getCameraScanRegion().style.display="block",t.fileSelectionUi.hide(),g.innerText=i,t.currentScanType=Qr.SCAN_TYPE_CAMERA,t.insertCameraScanImageToScanRegion(),t.startCameraScanIfPermissionExistsOnSwap()),t.sectionSwapAllowed=!0}),d.appendChild(g),c.appendChild(d)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var t=this,i=this;if(this.persistedDataManager.hasCameraPermissions()){yf.hasPermissions().then(function(o){if(o){var c=document.getElementById(i.getCameraPermissionButtonId());if(!c)throw t.logger.logError("Permission button not found, fail;"),"Permission button not found";c.click()}else i.persistedDataManager.setHasPermission(!1)}).catch(function(o){i.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var t=document.getElementById(this.getHeaderMessageContainerId());t.style.display="none"},e.prototype.setHeaderMessage=function(t,i){i||(i=un.STATUS_DEFAULT);var o=this.getHeaderMessageDiv();switch(o.innerText=t,o.style.display="block",i){case un.STATUS_SUCCESS:o.style.background="rgba(106, 175, 80, 0.26)",o.style.color="#477735";break;case un.STATUS_WARNING:o.style.background="rgba(203, 36, 49, 0.14)",o.style.color="#cb2431";break;case un.STATUS_DEFAULT:default:o.style.background="rgba(0, 0, 0, 0)",o.style.color="rgb(17, 17, 17)";break}},e.prototype.showHideScanTypeSwapLink=function(t){this.scanTypeSelector.hasMoreThanOneScanType()&&(t!==!0&&(t=!1),this.sectionSwapAllowed=t,this.getDashboardSectionSwapLink().style.display=t?"inline-block":"none")},e.prototype.insertCameraScanImageToScanRegion=function(){var t=this,i=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){i.innerHTML="<br>",i.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(o){i.innerHTML="<br>",i.appendChild(t.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=h3,this.cameraScanImage.alt=Pe.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var t=this,i=document.getElementById(this.getScanRegionId());if(this.fileScanImage){i.innerHTML="<br>",i.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(o){i.innerHTML="<br>",i.appendChild(t.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=g3,this.fileScanImage.alt=Pe.fileScanAltText()},e.prototype.clearScanRegion=function(){var t=document.getElementById(this.getScanRegionId());t.innerHTML=""},e.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},e.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},e.prototype.getDashboardSectionSwapLinkId=function(){return fn.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},e.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},e.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},e.prototype.getCameraPermissionButtonId=function(){return fn.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e}();function _3(){const e=wn(),[t,i]=L.useState(null),[o,c]=L.useState(null),[d,g]=L.useState(!1);return L.useEffect(()=>{const x=new b3("reader",{fps:10,qrbox:{width:250,height:250}},!1);return x.render(async w=>{if(!d){g(!0);try{let m=w;w.includes("/u/")&&(m=w.split("/u/").pop()||w);const E=await fetch(`${Tt}/v1/connect/${m}`,{method:"POST",credentials:"include"});if(!E.ok){const S=await E.json().catch(()=>({}));throw new Error(S.error||"Failed to connect")}c("Connection request sent!"),setTimeout(()=>e("/connections"),1200)}catch(m){i(m.message||"Something went wrong")}finally{x.clear().catch(()=>{})}}},w=>{console.warn("QR Scan Error:",w)}),()=>{x.clear().catch(()=>{})}},[e,d]),y.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen bg-black text-white",children:[y.jsxs("div",{className:"flex items-center justify-between w-full px-4 py-2 bg-gray-900",children:[y.jsx("button",{onClick:()=>e(-1),children:"← Back"}),y.jsx("h2",{className:"text-lg font-medium",children:"Scan QR Code"}),y.jsx("button",{children:"🔦"})," "]}),y.jsx("div",{id:"reader",className:"w-80 h-80 mt-10 border-4 border-yellow-500 rounded-xl"}),y.jsxs("p",{className:"mt-6 text-center text-sm text-yellow-400",children:["Position QR Code in the frame ",y.jsx("br",{}),"The code will be scanned automatically"]}),t&&y.jsx("p",{className:"mt-4 text-red-400 font-medium text-sm",children:t}),o&&y.jsx("p",{className:"mt-4 text-green-400 font-medium text-sm",children:o})]})}function M3({connection:e,onBack:t,loading:i=!1}){var x,w;const o=wn();if(i)return y.jsx("div",{className:"min-h-screen flex items-center justify-center",children:y.jsx("p",{className:"text-muted-foreground animate-pulse",children:"Loading..."})});if(!e)return y.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center",children:[y.jsx("p",{className:"text-muted-foreground mb-4",children:"Connection not found"}),y.jsx(Ee,{onClick:t,children:"Back"})]});const{profile:c}=e,d=m=>new Intl.DateTimeFormat("en-US",{month:"long",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(new Date(m)),g=()=>{o("/reminder",{state:{connection:e}})};return y.jsxs("div",{className:"min-h-screen bg-background",children:[y.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-border",children:[y.jsx(Ee,{variant:"ghost",size:"icon",onClick:t,children:y.jsx(Ei,{className:"w-5 h-5"})}),y.jsx("h2",{className:"font-medium",children:"Connection Details"}),y.jsx("div",{className:"w-10"})]}),y.jsxs("div",{className:"p-6 space-y-6",children:[y.jsx(Nn,{className:"border-0 bg-primary/5",children:y.jsxs(Tn,{className:"p-6 text-center",children:[y.jsxs(ls,{className:"w-24 h-24 mx-auto mb-4 border-4 border-white shadow-md",children:[y.jsx(cs,{src:c==null?void 0:c.photoUrl}),y.jsx(us,{className:"bg-primary text-primary-foreground text-xl",children:((x=c==null?void 0:c.name)==null?void 0:x.split(" ").map(m=>m[0]).join(""))||"?"})]}),y.jsx("h1",{className:"text-2xl font-semibold mb-2",children:(c==null?void 0:c.name)||"Unknown User"}),y.jsxs("div",{className:"flex items-center justify-center gap-4 text-muted-foreground mb-4",children:[(c==null?void 0:c.company)&&y.jsxs("div",{className:"flex items-center gap-1",children:[y.jsx($w,{className:"w-4 h-4"}),y.jsx("span",{className:"text-sm",children:c.company})]}),(c==null?void 0:c.location)&&y.jsxs("div",{className:"flex items-center gap-1",children:[y.jsx(rf,{className:"w-4 h-4"}),y.jsx("span",{className:"text-sm",children:c.location})]})]}),(w=c==null?void 0:c.tags)!=null&&w.length?y.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:c.tags.map(m=>y.jsx(fg,{variant:"outline",children:m},m))}):y.jsx("p",{className:"text-xs text-muted-foreground",children:"No tags provided yet"})]})}),y.jsx(Nn,{children:y.jsxs(Tn,{className:"p-4 space-y-4",children:[y.jsx("h3",{className:"font-medium mb-2",children:"Connection Details"}),y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(Jw,{className:"w-5 h-5 text-muted-foreground"}),y.jsxs("div",{children:[y.jsx("p",{className:"font-medium",children:"Connected on"}),y.jsx("p",{className:"text-sm text-muted-foreground",children:d(e.createdAt)})]})]}),e.event&&y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx(rf,{className:"w-5 h-5 text-muted-foreground"}),y.jsxs("div",{children:[y.jsx("p",{className:"font-medium",children:"Event"}),y.jsx("p",{className:"text-sm text-muted-foreground",children:e.event})]})]})]})}),y.jsx(Nn,{children:y.jsxs(Tn,{className:"p-4 space-y-3",children:[y.jsx("h3",{className:"font-medium mb-2",children:"Contact Info"}),(c==null?void 0:c.email)&&y.jsxs(Ee,{variant:"outline",className:"w-full justify-start",onClick:()=>window.location.href=`mailto:${c.email}`,children:[y.jsx(dd,{className:"w-4 h-4 mr-3"}),y.jsx("span",{children:c.email})]}),(c==null?void 0:c.linkedin)&&y.jsxs(Ee,{variant:"outline",className:"w-full justify-start",onClick:()=>window.open(c.linkedin,"_blank"),children:[y.jsx(oy,{className:"w-4 h-4 mr-3 text-blue-600"}),y.jsx("span",{children:"LinkedIn"})]}),(c==null?void 0:c.github)&&y.jsxs(Ee,{variant:"outline",className:"w-full justify-start",onClick:()=>window.open(c.github,"_blank"),children:[y.jsx(iy,{className:"w-4 h-4 mr-3"}),y.jsx("span",{children:"GitHub"})]})]})}),y.jsx(Nn,{className:"border-secondary/20 bg-secondary/5",children:y.jsxs(Tn,{className:"p-4 flex items-start gap-3",children:[y.jsx("div",{className:"w-10 h-10 bg-secondary/20 rounded-full flex items-center justify-center mt-1",children:y.jsx(ru,{className:"w-5 h-5 text-secondary"})}),y.jsxs("div",{className:"flex-1",children:[y.jsx("h3",{className:"font-medium mb-1",children:"Set a Follow-up Reminder"}),y.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Don’t let this connection go cold. Set a reminder to follow up."}),y.jsxs(Ee,{onClick:g,className:"bg-secondary text-secondary-foreground hover:bg-secondary/90",children:[y.jsx(ru,{className:"w-4 h-4 mr-2"}),"Remind Me"]})]})]})})]})]})}function R3(){const{id:e}=d2(),[t,i]=L.useState(null),[o,c]=L.useState(!0);return L.useEffect(()=>{(async()=>{try{const g=await fetch(`${Tt}v1/connections/${e}`,{credentials:"include"});if(!g.ok)throw new Error("Failed to load connection");i(await g.json())}catch(g){console.error("Failed to fetch connection:",g)}finally{c(!1)}})()},[e]),o?y.jsx("p",{className:"text-center mt-10",children:"Loading..."}):t?y.jsx(M3,{connection:t,onRemindMe:()=>console.log("Reminder set!"),onBack:()=>window.history.back()}):y.jsx("p",{className:"text-center mt-10",children:"Connection not found"})}const O3=[{label:"1 hour",hours:1},{label:"4 hours",hours:4},{label:"1 day",hours:24},{label:"3 days",hours:72},{label:"1 week",hours:168}];function D3({connection:e,onConfirm:t,onCancel:i}){const[o,c]=L.useState(24),[d,g]=L.useState(""),[x,w]=L.useState(!1),[m,E]=L.useState(!1);L.useEffect(()=>{const B=new Date(Date.now()+36e5);g(B.toISOString().slice(0,16))},[]);const S=()=>x&&d?new Date(d):new Date(Date.now()+o*60*60*1e3),R=()=>{const B=S();return new Intl.DateTimeFormat("en-US",{weekday:"short",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(B)},k=async()=>{const B=S();if(B<new Date){alert("Please choose a future time for your reminder.");return}E(!0);try{const O=await fetch(`${Tt}/v1/reminders`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({connectionId:e._id,remindAt:B,channel:"email",message:`Follow up with ${e.profile.name}`})});if(!O.ok)throw new Error("Failed to set reminder");const U=await O.json();t(U)}catch(O){console.error("Error setting reminder:",O),alert("Could not set reminder. Try again.")}finally{E(!1)}};return y.jsxs("div",{className:"min-h-screen bg-background flex flex-col",children:[y.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-6 border-b border-border",children:[y.jsx(Ee,{variant:"ghost",size:"icon",onClick:i,children:y.jsx(Ei,{className:"w-5 h-5"})}),y.jsx("h2",{className:"text-base sm:text-lg font-medium",children:"Set Reminder"}),y.jsx("div",{className:"w-8 sm:w-10"})]}),y.jsxs("div",{className:"flex-1 p-4 sm:p-6 space-y-6 max-w-lg mx-auto w-full",children:[y.jsx(Nn,{className:"border-primary/20 bg-primary/5",children:y.jsxs(Tn,{className:"p-4 flex items-center space-x-3",children:[y.jsxs(ls,{className:"w-12 h-12",children:[y.jsx(cs,{src:e.profile.photoUrl}),y.jsx(us,{children:e.profile.name.split(" ").map(B=>B[0]).join("")})]}),y.jsxs("div",{className:"truncate",children:[y.jsx("p",{className:"font-medium text-sm sm:text-base",children:e.profile.name}),y.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Choose when you want to be reminded"})]})]})}),!x&&y.jsxs("div",{children:[y.jsx(Dt,{className:"text-sm sm:text-base",children:"Quick Options"}),y.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2 sm:gap-3 mt-3",children:O3.map(B=>y.jsxs(Ee,{variant:o===B.hours?"default":"outline",className:"h-10 sm:h-12 text-xs sm:text-sm",onClick:()=>c(B.hours),children:[y.jsx(cg,{className:"w-4 h-4 mr-2"}),B.label]},B.hours))}),y.jsx("div",{className:"text-right mt-2",children:y.jsx(Ee,{variant:"ghost",className:"text-xs sm:text-sm underline",onClick:()=>w(!0),children:"Set Custom Time"})})]}),x&&y.jsxs("div",{children:[y.jsxs("div",{className:"flex items-center justify-between mb-2",children:[y.jsx(Dt,{className:"text-sm sm:text-base",children:"Custom Time"}),y.jsx(Ee,{variant:"ghost",size:"sm",className:"text-xs",onClick:()=>w(!1),children:"Use Quick Options"})]}),y.jsx("input",{type:"datetime-local",value:d,onChange:B=>g(B.target.value),min:new Date().toISOString().slice(0,16),className:"w-full p-3 border border-border rounded-lg bg-input-background text-sm sm:text-base"})]}),y.jsx(Nn,{className:"border-secondary/20 bg-secondary/5",children:y.jsxs(Tn,{className:"p-4",children:[y.jsx("h3",{className:"font-medium text-sm sm:text-base mb-2",children:"Reminder Preview"}),y.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground mb-2",children:["You'll be reminded to follow up with ",e.profile.name]}),y.jsx("p",{className:"font-medium text-secondary text-sm sm:text-base",children:R()})]})}),y.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[y.jsx(Ee,{variant:"outline",onClick:i,className:"flex-1",children:"Cancel"}),y.jsx(Ee,{onClick:k,className:"flex-1",disabled:m,children:m?"Setting...":"Set Reminder"})]})]})]})}function k3({reminder:e,onEdit:t,onDone:i}){const o=new Date(e.remindAt),c=g=>new Intl.DateTimeFormat("en-US",{weekday:"long",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(g),d=()=>{const g=new Date,x=o.getTime()-g.getTime();if(x<=0)return"a few moments";const w=Math.floor(x/(1e3*60*60)),m=Math.floor(x%(1e3*60*60)/(1e3*60));if(w>=24){const E=Math.floor(w/24);return`${E} day${E>1?"s":""}`}else return w>0?`${w} hour${w>1?"s":""} ${m>0?`${m} min`:""}`:`${m} minute${m>1?"s":""}`};return y.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center p-6",children:y.jsx(Nn,{className:"w-full max-w-sm",children:y.jsxs(Tn,{className:"p-8 text-center",children:[y.jsx("div",{className:"w-16 h-16 bg-green-500/10 rounded-full flex items-center justify-center mx-auto mb-6",children:y.jsx(ty,{className:"w-8 h-8 text-green-500"})}),y.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Reminder Set!"}),y.jsxs("p",{className:"text-muted-foreground mb-6",children:["You'll be reminded in ",d()]}),y.jsx(Nn,{className:"border-secondary/20 bg-secondary/5 mb-6",children:y.jsx(Tn,{className:"p-4",children:y.jsxs("div",{className:"flex items-start space-x-3",children:[y.jsx("div",{className:"w-8 h-8 bg-secondary/20 rounded-full flex items-center justify-center mt-1",children:y.jsx(cg,{className:"w-4 h-4 text-secondary"})}),y.jsxs("div",{className:"text-left",children:[y.jsx("p",{className:"font-medium text-sm",children:e.message}),y.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:c(o)})]})]})})}),y.jsxs("div",{className:"space-y-3",children:[y.jsx(Ee,{onClick:i,className:"w-full",children:"Done"}),y.jsxs(Ee,{variant:"outline",onClick:t,className:"w-full",children:[y.jsx(cy,{className:"w-4 h-4 mr-2"}),"Edit Reminder"]})]})]})})})}function L3(){const[e]=L.useState({id:"1",name:"John Doe",photo:void 0});return y.jsx(K2,{children:y.jsxs(N2,{children:[y.jsx(Wt,{path:"/",element:y.jsx(P3,{})}),y.jsx(Wt,{path:"/signup",element:y.jsx(B3,{})}),y.jsx(Wt,{path:"/verify-email",element:y.jsx(hy,{})}),y.jsx(Wt,{path:"/login",element:y.jsx(gy,{})}),y.jsx(Wt,{path:"/forgot-password",element:y.jsx(zy,{})}),y.jsx(Wt,{path:"/reset-password",element:y.jsx(Vy,{})}),y.jsx(Wt,{path:"/profile",element:y.jsx(F3,{})}),y.jsx(Wt,{path:"/home",element:y.jsx(Uy,{onViewConnections:()=>Ef("/connections"),onEditProfile:()=>Ef("/profile")})}),y.jsx(Wt,{path:"/connections",element:y.jsx(Hy,{user:e})}),y.jsx(Wt,{path:"/my-qrcode",element:y.jsx(Wy,{})}),y.jsx(Wt,{path:"/connections/:id",element:y.jsx(R3,{})}),y.jsx(Wt,{path:"/u/:code",element:y.jsx(_3,{})}),y.jsx(Wt,{path:"/reminder",element:y.jsx(j3,{})}),y.jsx(Wt,{path:"/confirm-reminder",element:y.jsx(U3,{})})]})})}function P3(){const e=wn();return y.jsx(py,{onGetStarted:()=>e("/signup")})}function B3(){const e=wn();return y.jsx(fy,{onContinue:()=>e("/profile")})}function F3(){return y.jsx(jy,{})}function j3(){const e=wn(),{state:t}=Wn(),i=t==null?void 0:t.connection;return i?y.jsx(D3,{connection:i,onConfirm:o=>e("/confirm-reminder",{state:{reminder:o}}),onCancel:()=>e(-1)}):(e("/connections"),null)}function U3(){const e=wn(),{state:t}=Wn(),i=t==null?void 0:t.reminder;return y.jsx(k3,{reminder:i,onDone:()=>e("/connections"),onEdit:()=>e(-1)})}function Ef(e){window.history.pushState({},"",e),window.dispatchEvent(new PopStateEvent("popstate"))}console.log("🔧 main.tsx loading...");oc.createRoot(document.getElementById("root")).render(y.jsx(Ep.StrictMode,{children:y.jsx(L3,{})}));
